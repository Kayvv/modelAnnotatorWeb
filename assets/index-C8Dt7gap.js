(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function o(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=o(l);fetch(l.href,c)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function li(e){const r=Object.create(null);for(const o of e.split(","))r[o]=1;return o=>o in r}const ke={},Fr=[],Ft=()=>{},Ys=()=>!1,io=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ci=e=>e.startsWith("onUpdate:"),rt=Object.assign,ui=(e,r)=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)},Ru=Object.prototype.hasOwnProperty,Pe=(e,r)=>Ru.call(e,r),pe=Array.isArray,kr=e=>gn(e)==="[object Map]",so=e=>gn(e)==="[object Set]",cs=e=>gn(e)==="[object Date]",ve=e=>typeof e=="function",He=e=>typeof e=="string",$t=e=>typeof e=="symbol",Ne=e=>e!==null&&typeof e=="object",Qs=e=>(Ne(e)||ve(e))&&ve(e.then)&&ve(e.catch),Js=Object.prototype.toString,gn=e=>Js.call(e),Mu=e=>gn(e).slice(8,-1),Xs=e=>gn(e)==="[object Object]",di=e=>He(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,rn=li(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ao=e=>{const r=Object.create(null);return(o=>r[o]||(r[o]=e(o)))},xu=/-\w/g,yt=ao(e=>e.replace(xu,r=>r.slice(1).toUpperCase())),Iu=/\B([A-Z])/g,pr=ao(e=>e.replace(Iu,"-$1").toLowerCase()),lo=ao(e=>e.charAt(0).toUpperCase()+e.slice(1)),Lo=ao(e=>e?`on${lo(e)}`:""),Qt=(e,r)=>!Object.is(e,r),Gn=(e,...r)=>{for(let o=0;o<e.length;o++)e[o](...r)},Zs=(e,r,o,s=!1)=>{Object.defineProperty(e,r,{configurable:!0,enumerable:!1,writable:s,value:o})},Yo=e=>{const r=parseFloat(e);return isNaN(r)?e:r};let us;const co=()=>us||(us=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function fi(e){if(pe(e)){const r={};for(let o=0;o<e.length;o++){const s=e[o],l=He(s)?Lu(s):fi(s);if(l)for(const c in l)r[c]=l[c]}return r}else if(He(e)||Ne(e))return e}const Nu=/;(?![^(]*\))/g,Uu=/:([^]+)/,Du=/\/\*[^]*?\*\//g;function Lu(e){const r={};return e.replace(Du,"").split(Nu).forEach(o=>{if(o){const s=o.split(Uu);s.length>1&&(r[s[0].trim()]=s[1].trim())}}),r}function Tt(e){let r="";if(He(e))r=e;else if(pe(e))for(let o=0;o<e.length;o++){const s=Tt(e[o]);s&&(r+=s+" ")}else if(Ne(e))for(const o in e)e[o]&&(r+=o+" ");return r.trim()}const Bu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ju=li(Bu);function ea(e){return!!e||e===""}function Vu(e,r){if(e.length!==r.length)return!1;let o=!0;for(let s=0;o&&s<e.length;s++)o=uo(e[s],r[s]);return o}function uo(e,r){if(e===r)return!0;let o=cs(e),s=cs(r);if(o||s)return o&&s?e.getTime()===r.getTime():!1;if(o=$t(e),s=$t(r),o||s)return e===r;if(o=pe(e),s=pe(r),o||s)return o&&s?Vu(e,r):!1;if(o=Ne(e),s=Ne(r),o||s){if(!o||!s)return!1;const l=Object.keys(e).length,c=Object.keys(r).length;if(l!==c)return!1;for(const p in e){const m=e.hasOwnProperty(p),g=r.hasOwnProperty(p);if(m&&!g||!m&&g||!uo(e[p],r[p]))return!1}}return String(e)===String(r)}function ta(e,r){return e.findIndex(o=>uo(o,r))}const ra=e=>!!(e&&e.__v_isRef===!0),ae=e=>He(e)?e:e==null?"":pe(e)||Ne(e)&&(e.toString===Js||!ve(e.toString))?ra(e)?ae(e.value):JSON.stringify(e,na,2):String(e),na=(e,r)=>ra(r)?na(e,r.value):kr(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((o,[s,l],c)=>(o[Bo(s,c)+" =>"]=l,o),{})}:so(r)?{[`Set(${r.size})`]:[...r.values()].map(o=>Bo(o))}:$t(r)?Bo(r):Ne(r)&&!pe(r)&&!Xs(r)?String(r):r,Bo=(e,r="")=>{var o;return $t(e)?`Symbol(${(o=e.description)!=null?o:r})`:e};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ot;class Hu{constructor(r=!1){this.detached=r,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ot,!r&&ot&&(this.index=(ot.scopes||(ot.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let r,o;if(this.scopes)for(r=0,o=this.scopes.length;r<o;r++)this.scopes[r].pause();for(r=0,o=this.effects.length;r<o;r++)this.effects[r].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let r,o;if(this.scopes)for(r=0,o=this.scopes.length;r<o;r++)this.scopes[r].resume();for(r=0,o=this.effects.length;r<o;r++)this.effects[r].resume()}}run(r){if(this._active){const o=ot;try{return ot=this,r()}finally{ot=o}}}on(){++this._on===1&&(this.prevScope=ot,ot=this)}off(){this._on>0&&--this._on===0&&(ot=this.prevScope,this.prevScope=void 0)}stop(r){if(this._active){this._active=!1;let o,s;for(o=0,s=this.effects.length;o<s;o++)this.effects[o].stop();for(this.effects.length=0,o=0,s=this.cleanups.length;o<s;o++)this.cleanups[o]();if(this.cleanups.length=0,this.scopes){for(o=0,s=this.scopes.length;o<s;o++)this.scopes[o].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!r){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0}}}function Gu(){return ot}let $e;const jo=new WeakSet;class oa{constructor(r){this.fn=r,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ot&&ot.active&&ot.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,jo.has(this)&&(jo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||sa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ds(this),aa(this);const r=$e,o=Pt;$e=this,Pt=!0;try{return this.fn()}finally{la(this),$e=r,Pt=o,this.flags&=-3}}stop(){if(this.flags&1){for(let r=this.deps;r;r=r.nextDep)mi(r);this.deps=this.depsTail=void 0,ds(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?jo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Qo(this)&&this.run()}get dirty(){return Qo(this)}}let ia=0,nn,on;function sa(e,r=!1){if(e.flags|=8,r){e.next=on,on=e;return}e.next=nn,nn=e}function pi(){ia++}function hi(){if(--ia>0)return;if(on){let r=on;for(on=void 0;r;){const o=r.next;r.next=void 0,r.flags&=-9,r=o}}let e;for(;nn;){let r=nn;for(nn=void 0;r;){const o=r.next;if(r.next=void 0,r.flags&=-9,r.flags&1)try{r.trigger()}catch(s){e||(e=s)}r=o}}if(e)throw e}function aa(e){for(let r=e.deps;r;r=r.nextDep)r.version=-1,r.prevActiveLink=r.dep.activeLink,r.dep.activeLink=r}function la(e){let r,o=e.depsTail,s=o;for(;s;){const l=s.prevDep;s.version===-1?(s===o&&(o=l),mi(s),Wu(s)):r=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=l}e.deps=r,e.depsTail=o}function Qo(e){for(let r=e.deps;r;r=r.nextDep)if(r.dep.version!==r.version||r.dep.computed&&(ca(r.dep.computed)||r.dep.version!==r.version))return!0;return!!e._dirty}function ca(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===fn)||(e.globalVersion=fn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Qo(e))))return;e.flags|=2;const r=e.dep,o=$e,s=Pt;$e=e,Pt=!0;try{aa(e);const l=e.fn(e._value);(r.version===0||Qt(l,e._value))&&(e.flags|=128,e._value=l,r.version++)}catch(l){throw r.version++,l}finally{$e=o,Pt=s,la(e),e.flags&=-3}}function mi(e,r=!1){const{dep:o,prevSub:s,nextSub:l}=e;if(s&&(s.nextSub=l,e.prevSub=void 0),l&&(l.prevSub=s,e.nextSub=void 0),o.subs===e&&(o.subs=s,!s&&o.computed)){o.computed.flags&=-5;for(let c=o.computed.deps;c;c=c.nextDep)mi(c,!0)}!r&&!--o.sc&&o.map&&o.map.delete(o.key)}function Wu(e){const{prevDep:r,nextDep:o}=e;r&&(r.nextDep=o,e.prevDep=void 0),o&&(o.prevDep=r,e.nextDep=void 0)}let Pt=!0;const ua=[];function Vt(){ua.push(Pt),Pt=!1}function Ht(){const e=ua.pop();Pt=e===void 0?!0:e}function ds(e){const{cleanup:r}=e;if(e.cleanup=void 0,r){const o=$e;$e=void 0;try{r()}finally{$e=o}}}let fn=0;class qu{constructor(r,o){this.sub=r,this.dep=o,this.version=o.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class vi{constructor(r){this.computed=r,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(r){if(!$e||!Pt||$e===this.computed)return;let o=this.activeLink;if(o===void 0||o.sub!==$e)o=this.activeLink=new qu($e,this),$e.deps?(o.prevDep=$e.depsTail,$e.depsTail.nextDep=o,$e.depsTail=o):$e.deps=$e.depsTail=o,da(o);else if(o.version===-1&&(o.version=this.version,o.nextDep)){const s=o.nextDep;s.prevDep=o.prevDep,o.prevDep&&(o.prevDep.nextDep=s),o.prevDep=$e.depsTail,o.nextDep=void 0,$e.depsTail.nextDep=o,$e.depsTail=o,$e.deps===o&&($e.deps=s)}return o}trigger(r){this.version++,fn++,this.notify(r)}notify(r){pi();try{for(let o=this.subs;o;o=o.prevSub)o.sub.notify()&&o.sub.dep.notify()}finally{hi()}}}function da(e){if(e.dep.sc++,e.sub.flags&4){const r=e.dep.computed;if(r&&!e.dep.subs){r.flags|=20;for(let s=r.deps;s;s=s.nextDep)da(s)}const o=e.dep.subs;o!==e&&(e.prevSub=o,o&&(o.nextSub=e)),e.dep.subs=e}}const Jo=new WeakMap,fr=Symbol(""),Xo=Symbol(""),pn=Symbol("");function Qe(e,r,o){if(Pt&&$e){let s=Jo.get(e);s||Jo.set(e,s=new Map);let l=s.get(o);l||(s.set(o,l=new vi),l.map=s,l.key=o),l.track()}}function Lt(e,r,o,s,l,c){const p=Jo.get(e);if(!p){fn++;return}const m=g=>{g&&g.trigger()};if(pi(),r==="clear")p.forEach(m);else{const g=pe(e),E=g&&di(o);if(g&&o==="length"){const _=Number(s);p.forEach((T,x)=>{(x==="length"||x===pn||!$t(x)&&x>=_)&&m(T)})}else switch((o!==void 0||p.has(void 0))&&m(p.get(o)),E&&m(p.get(pn)),r){case"add":g?E&&m(p.get("length")):(m(p.get(fr)),kr(e)&&m(p.get(Xo)));break;case"delete":g||(m(p.get(fr)),kr(e)&&m(p.get(Xo)));break;case"set":kr(e)&&m(p.get(fr));break}}hi()}function Pr(e){const r=Te(e);return r===e?r:(Qe(r,"iterate",pn),gt(e)?r:r.map(qe))}function fo(e){return Qe(e=Te(e),"iterate",pn),e}const zu={__proto__:null,[Symbol.iterator](){return Vo(this,Symbol.iterator,qe)},concat(...e){return Pr(this).concat(...e.map(r=>pe(r)?Pr(r):r))},entries(){return Vo(this,"entries",e=>(e[1]=qe(e[1]),e))},every(e,r){return Ut(this,"every",e,r,void 0,arguments)},filter(e,r){return Ut(this,"filter",e,r,o=>o.map(qe),arguments)},find(e,r){return Ut(this,"find",e,r,qe,arguments)},findIndex(e,r){return Ut(this,"findIndex",e,r,void 0,arguments)},findLast(e,r){return Ut(this,"findLast",e,r,qe,arguments)},findLastIndex(e,r){return Ut(this,"findLastIndex",e,r,void 0,arguments)},forEach(e,r){return Ut(this,"forEach",e,r,void 0,arguments)},includes(...e){return Ho(this,"includes",e)},indexOf(...e){return Ho(this,"indexOf",e)},join(e){return Pr(this).join(e)},lastIndexOf(...e){return Ho(this,"lastIndexOf",e)},map(e,r){return Ut(this,"map",e,r,void 0,arguments)},pop(){return Wr(this,"pop")},push(...e){return Wr(this,"push",e)},reduce(e,...r){return fs(this,"reduce",e,r)},reduceRight(e,...r){return fs(this,"reduceRight",e,r)},shift(){return Wr(this,"shift")},some(e,r){return Ut(this,"some",e,r,void 0,arguments)},splice(...e){return Wr(this,"splice",e)},toReversed(){return Pr(this).toReversed()},toSorted(e){return Pr(this).toSorted(e)},toSpliced(...e){return Pr(this).toSpliced(...e)},unshift(...e){return Wr(this,"unshift",e)},values(){return Vo(this,"values",qe)}};function Vo(e,r,o){const s=fo(e),l=s[r]();return s!==e&&!gt(e)&&(l._next=l.next,l.next=()=>{const c=l._next();return c.value&&(c.value=o(c.value)),c}),l}const Ku=Array.prototype;function Ut(e,r,o,s,l,c){const p=fo(e),m=p!==e&&!gt(e),g=p[r];if(g!==Ku[r]){const T=g.apply(e,c);return m?qe(T):T}let E=o;p!==e&&(m?E=function(T,x){return o.call(this,qe(T),x,e)}:o.length>2&&(E=function(T,x){return o.call(this,T,x,e)}));const _=g.call(p,E,s);return m&&l?l(_):_}function fs(e,r,o,s){const l=fo(e);let c=o;return l!==e&&(gt(e)?o.length>3&&(c=function(p,m,g){return o.call(this,p,m,g,e)}):c=function(p,m,g){return o.call(this,p,qe(m),g,e)}),l[r](c,...s)}function Ho(e,r,o){const s=Te(e);Qe(s,"iterate",pn);const l=s[r](...o);return(l===-1||l===!1)&&bi(o[0])?(o[0]=Te(o[0]),s[r](...o)):l}function Wr(e,r,o=[]){Vt(),pi();const s=Te(e)[r].apply(e,o);return hi(),Ht(),s}const Yu=li("__proto__,__v_isRef,__isVue"),fa=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($t));function Qu(e){$t(e)||(e=String(e));const r=Te(this);return Qe(r,"has",e),r.hasOwnProperty(e)}class pa{constructor(r=!1,o=!1){this._isReadonly=r,this._isShallow=o}get(r,o,s){if(o==="__v_skip")return r.__v_skip;const l=this._isReadonly,c=this._isShallow;if(o==="__v_isReactive")return!l;if(o==="__v_isReadonly")return l;if(o==="__v_isShallow")return c;if(o==="__v_raw")return s===(l?c?sd:ga:c?va:ma).get(r)||Object.getPrototypeOf(r)===Object.getPrototypeOf(s)?r:void 0;const p=pe(r);if(!l){let g;if(p&&(g=zu[o]))return g;if(o==="hasOwnProperty")return Qu}const m=Reflect.get(r,o,Xe(r)?r:s);return($t(o)?fa.has(o):Yu(o))||(l||Qe(r,"get",o),c)?m:Xe(m)?p&&di(o)?m:m.value:Ne(m)?l?ya(m):yi(m):m}}class ha extends pa{constructor(r=!1){super(!1,r)}set(r,o,s,l){let c=r[o];if(!this._isShallow){const g=Jt(c);if(!gt(s)&&!Jt(s)&&(c=Te(c),s=Te(s)),!pe(r)&&Xe(c)&&!Xe(s))return g||(c.value=s),!0}const p=pe(r)&&di(o)?Number(o)<r.length:Pe(r,o),m=Reflect.set(r,o,s,Xe(r)?r:l);return r===Te(l)&&(p?Qt(s,c)&&Lt(r,"set",o,s):Lt(r,"add",o,s)),m}deleteProperty(r,o){const s=Pe(r,o);r[o];const l=Reflect.deleteProperty(r,o);return l&&s&&Lt(r,"delete",o,void 0),l}has(r,o){const s=Reflect.has(r,o);return(!$t(o)||!fa.has(o))&&Qe(r,"has",o),s}ownKeys(r){return Qe(r,"iterate",pe(r)?"length":fr),Reflect.ownKeys(r)}}class Ju extends pa{constructor(r=!1){super(!0,r)}set(r,o){return!0}deleteProperty(r,o){return!0}}const Xu=new ha,Zu=new Ju,ed=new ha(!0);const Zo=e=>e,Dn=e=>Reflect.getPrototypeOf(e);function td(e,r,o){return function(...s){const l=this.__v_raw,c=Te(l),p=kr(c),m=e==="entries"||e===Symbol.iterator&&p,g=e==="keys"&&p,E=l[e](...s),_=o?Zo:r?Qn:qe;return!r&&Qe(c,"iterate",g?Xo:fr),{next(){const{value:T,done:x}=E.next();return x?{value:T,done:x}:{value:m?[_(T[0]),_(T[1])]:_(T),done:x}},[Symbol.iterator](){return this}}}}function Ln(e){return function(...r){return e==="delete"?!1:e==="clear"?void 0:this}}function rd(e,r){const o={get(l){const c=this.__v_raw,p=Te(c),m=Te(l);e||(Qt(l,m)&&Qe(p,"get",l),Qe(p,"get",m));const{has:g}=Dn(p),E=r?Zo:e?Qn:qe;if(g.call(p,l))return E(c.get(l));if(g.call(p,m))return E(c.get(m));c!==p&&c.get(l)},get size(){const l=this.__v_raw;return!e&&Qe(Te(l),"iterate",fr),l.size},has(l){const c=this.__v_raw,p=Te(c),m=Te(l);return e||(Qt(l,m)&&Qe(p,"has",l),Qe(p,"has",m)),l===m?c.has(l):c.has(l)||c.has(m)},forEach(l,c){const p=this,m=p.__v_raw,g=Te(m),E=r?Zo:e?Qn:qe;return!e&&Qe(g,"iterate",fr),m.forEach((_,T)=>l.call(c,E(_),E(T),p))}};return rt(o,e?{add:Ln("add"),set:Ln("set"),delete:Ln("delete"),clear:Ln("clear")}:{add(l){!r&&!gt(l)&&!Jt(l)&&(l=Te(l));const c=Te(this);return Dn(c).has.call(c,l)||(c.add(l),Lt(c,"add",l,l)),this},set(l,c){!r&&!gt(c)&&!Jt(c)&&(c=Te(c));const p=Te(this),{has:m,get:g}=Dn(p);let E=m.call(p,l);E||(l=Te(l),E=m.call(p,l));const _=g.call(p,l);return p.set(l,c),E?Qt(c,_)&&Lt(p,"set",l,c):Lt(p,"add",l,c),this},delete(l){const c=Te(this),{has:p,get:m}=Dn(c);let g=p.call(c,l);g||(l=Te(l),g=p.call(c,l)),m&&m.call(c,l);const E=c.delete(l);return g&&Lt(c,"delete",l,void 0),E},clear(){const l=Te(this),c=l.size!==0,p=l.clear();return c&&Lt(l,"clear",void 0,void 0),p}}),["keys","values","entries",Symbol.iterator].forEach(l=>{o[l]=td(l,e,r)}),o}function gi(e,r){const o=rd(e,r);return(s,l,c)=>l==="__v_isReactive"?!e:l==="__v_isReadonly"?e:l==="__v_raw"?s:Reflect.get(Pe(o,l)&&l in s?o:s,l,c)}const nd={get:gi(!1,!1)},od={get:gi(!1,!0)},id={get:gi(!0,!1)};const ma=new WeakMap,va=new WeakMap,ga=new WeakMap,sd=new WeakMap;function ad(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ld(e){return e.__v_skip||!Object.isExtensible(e)?0:ad(Mu(e))}function yi(e){return Jt(e)?e:_i(e,!1,Xu,nd,ma)}function cd(e){return _i(e,!1,ed,od,va)}function ya(e){return _i(e,!0,Zu,id,ga)}function _i(e,r,o,s,l){if(!Ne(e)||e.__v_raw&&!(r&&e.__v_isReactive))return e;const c=ld(e);if(c===0)return e;const p=l.get(e);if(p)return p;const m=new Proxy(e,c===2?s:o);return l.set(e,m),m}function $r(e){return Jt(e)?$r(e.__v_raw):!!(e&&e.__v_isReactive)}function Jt(e){return!!(e&&e.__v_isReadonly)}function gt(e){return!!(e&&e.__v_isShallow)}function bi(e){return e?!!e.__v_raw:!1}function Te(e){const r=e&&e.__v_raw;return r?Te(r):e}function Zr(e){return!Pe(e,"__v_skip")&&Object.isExtensible(e)&&Zs(e,"__v_skip",!0),e}const qe=e=>Ne(e)?yi(e):e,Qn=e=>Ne(e)?ya(e):e;function Xe(e){return e?e.__v_isRef===!0:!1}function De(e){return ud(e,!1)}function ud(e,r){return Xe(e)?e:new dd(e,r)}class dd{constructor(r,o){this.dep=new vi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=o?r:Te(r),this._value=o?r:qe(r),this.__v_isShallow=o}get value(){return this.dep.track(),this._value}set value(r){const o=this._rawValue,s=this.__v_isShallow||gt(r)||Jt(r);r=s?r:Te(r),Qt(r,o)&&(this._rawValue=r,this._value=s?r:qe(r),this.dep.trigger())}}function Ye(e){return Xe(e)?e.value:e}const fd={get:(e,r,o)=>r==="__v_raw"?e:Ye(Reflect.get(e,r,o)),set:(e,r,o,s)=>{const l=e[r];return Xe(l)&&!Xe(o)?(l.value=o,!0):Reflect.set(e,r,o,s)}};function _a(e){return $r(e)?e:new Proxy(e,fd)}class pd{constructor(r,o,s){this.fn=r,this.setter=o,this._value=void 0,this.dep=new vi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=fn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!o,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&$e!==this)return sa(this,!0),!0}get value(){const r=this.dep.track();return ca(this),r&&(r.version=this.dep.version),this._value}set value(r){this.setter&&this.setter(r)}}function hd(e,r,o=!1){let s,l;return ve(e)?s=e:(s=e.get,l=e.set),new pd(s,l,o)}const Bn={},Jn=new WeakMap;let cr;function md(e,r=!1,o=cr){if(o){let s=Jn.get(o);s||Jn.set(o,s=[]),s.push(e)}}function vd(e,r,o=ke){const{immediate:s,deep:l,once:c,scheduler:p,augmentJob:m,call:g}=o,E=V=>l?V:gt(V)||l===!1||l===0?Bt(V,1):Bt(V);let _,T,x,O,A=!1,K=!1;if(Xe(e)?(T=()=>e.value,A=gt(e)):$r(e)?(T=()=>E(e),A=!0):pe(e)?(K=!0,A=e.some(V=>$r(V)||gt(V)),T=()=>e.map(V=>{if(Xe(V))return V.value;if($r(V))return E(V);if(ve(V))return g?g(V,2):V()})):ve(e)?r?T=g?()=>g(e,2):e:T=()=>{if(x){Vt();try{x()}finally{Ht()}}const V=cr;cr=_;try{return g?g(e,3,[O]):e(O)}finally{cr=V}}:T=Ft,r&&l){const V=T,q=l===!0?1/0:l;T=()=>Bt(V(),q)}const Q=Gu(),$=()=>{_.stop(),Q&&Q.active&&ui(Q.effects,_)};if(c&&r){const V=r;r=(...q)=>{V(...q),$()}}let G=K?new Array(e.length).fill(Bn):Bn;const Y=V=>{if(!(!(_.flags&1)||!_.dirty&&!V))if(r){const q=_.run();if(l||A||(K?q.some((re,ee)=>Qt(re,G[ee])):Qt(q,G))){x&&x();const re=cr;cr=_;try{const ee=[q,G===Bn?void 0:K&&G[0]===Bn?[]:G,O];G=q,g?g(r,3,ee):r(...ee)}finally{cr=re}}}else _.run()};return m&&m(Y),_=new oa(T),_.scheduler=p?()=>p(Y,!1):Y,O=V=>md(V,!1,_),x=_.onStop=()=>{const V=Jn.get(_);if(V){if(g)g(V,4);else for(const q of V)q();Jn.delete(_)}},r?s?Y(!0):G=_.run():p?p(Y.bind(null,!0),!0):_.run(),$.pause=_.pause.bind(_),$.resume=_.resume.bind(_),$.stop=$,$}function Bt(e,r=1/0,o){if(r<=0||!Ne(e)||e.__v_skip||(o=o||new Map,(o.get(e)||0)>=r))return e;if(o.set(e,r),r--,Xe(e))Bt(e.value,r,o);else if(pe(e))for(let s=0;s<e.length;s++)Bt(e[s],r,o);else if(so(e)||kr(e))e.forEach(s=>{Bt(s,r,o)});else if(Xs(e)){for(const s in e)Bt(e[s],r,o);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Bt(e[s],r,o)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function yn(e,r,o,s){try{return s?e(...s):e()}catch(l){po(l,r,o)}}function Rt(e,r,o,s){if(ve(e)){const l=yn(e,r,o,s);return l&&Qs(l)&&l.catch(c=>{po(c,r,o)}),l}if(pe(e)){const l=[];for(let c=0;c<e.length;c++)l.push(Rt(e[c],r,o,s));return l}}function po(e,r,o,s=!0){const l=r?r.vnode:null,{errorHandler:c,throwUnhandledErrorInProduction:p}=r&&r.appContext.config||ke;if(r){let m=r.parent;const g=r.proxy,E=`https://vuejs.org/error-reference/#runtime-${o}`;for(;m;){const _=m.ec;if(_){for(let T=0;T<_.length;T++)if(_[T](e,g,E)===!1)return}m=m.parent}if(c){Vt(),yn(c,null,10,[e,g,E]),Ht();return}}gd(e,o,l,s,p)}function gd(e,r,o,s=!0,l=!1){if(l)throw e;console.error(e)}const tt=[];let Ot=-1;const Rr=[];let zt=null,Or=0;const ba=Promise.resolve();let Xn=null;function yd(e){const r=Xn||ba;return e?r.then(this?e.bind(this):e):r}function _d(e){let r=Ot+1,o=tt.length;for(;r<o;){const s=r+o>>>1,l=tt[s],c=hn(l);c<e||c===e&&l.flags&2?r=s+1:o=s}return r}function wi(e){if(!(e.flags&1)){const r=hn(e),o=tt[tt.length-1];!o||!(e.flags&2)&&r>=hn(o)?tt.push(e):tt.splice(_d(r),0,e),e.flags|=1,wa()}}function wa(){Xn||(Xn=ba.then(Ta))}function bd(e){pe(e)?Rr.push(...e):zt&&e.id===-1?zt.splice(Or+1,0,e):e.flags&1||(Rr.push(e),e.flags|=1),wa()}function ps(e,r,o=Ot+1){for(;o<tt.length;o++){const s=tt[o];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;tt.splice(o,1),o--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Ea(e){if(Rr.length){const r=[...new Set(Rr)].sort((o,s)=>hn(o)-hn(s));if(Rr.length=0,zt){zt.push(...r);return}for(zt=r,Or=0;Or<zt.length;Or++){const o=zt[Or];o.flags&4&&(o.flags&=-2),o.flags&8||o(),o.flags&=-2}zt=null,Or=0}}const hn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ta(e){try{for(Ot=0;Ot<tt.length;Ot++){const r=tt[Ot];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),yn(r,r.i,r.i?15:14),r.flags&4||(r.flags&=-2))}}finally{for(;Ot<tt.length;Ot++){const r=tt[Ot];r&&(r.flags&=-2)}Ot=-1,tt.length=0,Ea(),Xn=null,(tt.length||Rr.length)&&Ta()}}let at=null,Pa=null;function Zn(e){const r=at;return at=e,Pa=e&&e.type.__scopeId||null,r}function wd(e,r=at,o){if(!r||e._n)return e;const s=(...l)=>{s._d&&Ps(-1);const c=Zn(r);let p;try{p=e(...l)}finally{Zn(c),s._d&&Ps(1)}return p};return s._n=!0,s._c=!0,s._d=!0,s}function ur(e,r){if(at===null)return e;const o=yo(at),s=e.dirs||(e.dirs=[]);for(let l=0;l<r.length;l++){let[c,p,m,g=ke]=r[l];c&&(ve(c)&&(c={mounted:c,updated:c}),c.deep&&Bt(p),s.push({dir:c,instance:o,value:p,oldValue:void 0,arg:m,modifiers:g}))}return e}function ar(e,r,o,s){const l=e.dirs,c=r&&r.dirs;for(let p=0;p<l.length;p++){const m=l[p];c&&(m.oldValue=c[p].value);let g=m.dir[s];g&&(Vt(),Rt(g,o,8,[e.el,m,e,r]),Ht())}}const Ed=Symbol("_vte"),Td=e=>e.__isTeleport,Pd=Symbol("_leaveCb");function Ei(e,r){e.shapeFlag&6&&e.component?(e.transition=r,Ei(e.component.subTree,r)):e.shapeFlag&128?(e.ssContent.transition=r.clone(e.ssContent),e.ssFallback.transition=r.clone(e.ssFallback)):e.transition=r}function Sa(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const eo=new WeakMap;function sn(e,r,o,s,l=!1){if(pe(e)){e.forEach((A,K)=>sn(A,r&&(pe(r)?r[K]:r),o,s,l));return}if(an(s)&&!l){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&sn(e,r,o,s.component.subTree);return}const c=s.shapeFlag&4?yo(s.component):s.el,p=l?null:c,{i:m,r:g}=e,E=r&&r.r,_=m.refs===ke?m.refs={}:m.refs,T=m.setupState,x=Te(T),O=T===ke?Ys:A=>Pe(x,A);if(E!=null&&E!==g){if(hs(r),He(E))_[E]=null,O(E)&&(T[E]=null);else if(Xe(E)){E.value=null;const A=r;A.k&&(_[A.k]=null)}}if(ve(g))yn(g,m,12,[p,_]);else{const A=He(g),K=Xe(g);if(A||K){const Q=()=>{if(e.f){const $=A?O(g)?T[g]:_[g]:g.value;if(l)pe($)&&ui($,c);else if(pe($))$.includes(c)||$.push(c);else if(A)_[g]=[c],O(g)&&(T[g]=_[g]);else{const G=[c];g.value=G,e.k&&(_[e.k]=G)}}else A?(_[g]=p,O(g)&&(T[g]=p)):K&&(g.value=p,e.k&&(_[e.k]=p))};if(p){const $=()=>{Q(),eo.delete(e)};$.id=-1,eo.set(e,$),st($,o)}else hs(e),Q()}}}function hs(e){const r=eo.get(e);r&&(r.flags|=8,eo.delete(e))}co().requestIdleCallback;co().cancelIdleCallback;const an=e=>!!e.type.__asyncLoader,Ca=e=>e.type.__isKeepAlive;function Sd(e,r){Oa(e,"a",r)}function Cd(e,r){Oa(e,"da",r)}function Oa(e,r,o=Je){const s=e.__wdc||(e.__wdc=()=>{let l=o;for(;l;){if(l.isDeactivated)return;l=l.parent}return e()});if(ho(r,s,o),o){let l=o.parent;for(;l&&l.parent;)Ca(l.parent.vnode)&&Od(s,r,o,l),l=l.parent}}function Od(e,r,o,s){const l=ho(r,e,s,!0);Aa(()=>{ui(s[r],l)},o)}function ho(e,r,o=Je,s=!1){if(o){const l=o[e]||(o[e]=[]),c=r.__weh||(r.__weh=(...p)=>{Vt();const m=_n(o),g=Rt(r,o,e,p);return m(),Ht(),g});return s?l.unshift(c):l.push(c),c}}const Gt=e=>(r,o=Je)=>{(!vn||e==="sp")&&ho(e,(...s)=>r(...s),o)},Ad=Gt("bm"),mo=Gt("m"),Fd=Gt("bu"),kd=Gt("u"),$d=Gt("bum"),Aa=Gt("um"),Rd=Gt("sp"),Md=Gt("rtg"),xd=Gt("rtc");function Id(e,r=Je){ho("ec",e,r)}const Nd="components";function Ud(e,r){return Ld(Nd,e,!0,r)||e}const Dd=Symbol.for("v-ndc");function Ld(e,r,o=!0,s=!1){const l=at||Je;if(l){const c=l.type;{const m=Ff(c,!1);if(m&&(m===r||m===yt(r)||m===lo(yt(r))))return c}const p=ms(l[e]||c[e],r)||ms(l.appContext[e],r);return!p&&s?c:p}}function ms(e,r){return e&&(e[r]||e[yt(r)]||e[lo(yt(r))])}function vt(e,r,o,s){let l;const c=o,p=pe(e);if(p||He(e)){const m=p&&$r(e);let g=!1,E=!1;m&&(g=!gt(e),E=Jt(e),e=fo(e)),l=new Array(e.length);for(let _=0,T=e.length;_<T;_++)l[_]=r(g?E?Qn(qe(e[_])):qe(e[_]):e[_],_,void 0,c)}else if(typeof e=="number"){l=new Array(e);for(let m=0;m<e;m++)l[m]=r(m+1,m,void 0,c)}else if(Ne(e))if(e[Symbol.iterator])l=Array.from(e,(m,g)=>r(m,g,void 0,c));else{const m=Object.keys(e);l=new Array(m.length);for(let g=0,E=m.length;g<E;g++){const _=m[g];l[g]=r(e[_],_,g,c)}}else l=[];return l}const ei=e=>e?Ya(e)?yo(e):ei(e.parent):null,ln=rt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ei(e.parent),$root:e=>ei(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ka(e),$forceUpdate:e=>e.f||(e.f=()=>{wi(e.update)}),$nextTick:e=>e.n||(e.n=yd.bind(e.proxy)),$watch:e=>lf.bind(e)}),Go=(e,r)=>e!==ke&&!e.__isScriptSetup&&Pe(e,r),Bd={get({_:e},r){if(r==="__v_skip")return!0;const{ctx:o,setupState:s,data:l,props:c,accessCache:p,type:m,appContext:g}=e;let E;if(r[0]!=="$"){const O=p[r];if(O!==void 0)switch(O){case 1:return s[r];case 2:return l[r];case 4:return o[r];case 3:return c[r]}else{if(Go(s,r))return p[r]=1,s[r];if(l!==ke&&Pe(l,r))return p[r]=2,l[r];if((E=e.propsOptions[0])&&Pe(E,r))return p[r]=3,c[r];if(o!==ke&&Pe(o,r))return p[r]=4,o[r];ti&&(p[r]=0)}}const _=ln[r];let T,x;if(_)return r==="$attrs"&&Qe(e.attrs,"get",""),_(e);if((T=m.__cssModules)&&(T=T[r]))return T;if(o!==ke&&Pe(o,r))return p[r]=4,o[r];if(x=g.config.globalProperties,Pe(x,r))return x[r]},set({_:e},r,o){const{data:s,setupState:l,ctx:c}=e;return Go(l,r)?(l[r]=o,!0):s!==ke&&Pe(s,r)?(s[r]=o,!0):Pe(e.props,r)||r[0]==="$"&&r.slice(1)in e?!1:(c[r]=o,!0)},has({_:{data:e,setupState:r,accessCache:o,ctx:s,appContext:l,propsOptions:c,type:p}},m){let g,E;return!!(o[m]||e!==ke&&m[0]!=="$"&&Pe(e,m)||Go(r,m)||(g=c[0])&&Pe(g,m)||Pe(s,m)||Pe(ln,m)||Pe(l.config.globalProperties,m)||(E=p.__cssModules)&&E[m])},defineProperty(e,r,o){return o.get!=null?e._.accessCache[r]=0:Pe(o,"value")&&this.set(e,r,o.value,null),Reflect.defineProperty(e,r,o)}};function vs(e){return pe(e)?e.reduce((r,o)=>(r[o]=null,r),{}):e}let ti=!0;function jd(e){const r=ka(e),o=e.proxy,s=e.ctx;ti=!1,r.beforeCreate&&gs(r.beforeCreate,e,"bc");const{data:l,computed:c,methods:p,watch:m,provide:g,inject:E,created:_,beforeMount:T,mounted:x,beforeUpdate:O,updated:A,activated:K,deactivated:Q,beforeDestroy:$,beforeUnmount:G,destroyed:Y,unmounted:V,render:q,renderTracked:re,renderTriggered:ee,errorCaptured:fe,serverPrefetch:ue,expose:oe,inheritAttrs:P,components:M,directives:F,filters:I}=r;if(E&&Vd(E,s,null),p)for(const te in p){const Ee=p[te];ve(Ee)&&(s[te]=Ee.bind(o))}if(l){const te=l.call(o,o);Ne(te)&&(e.data=yi(te))}if(ti=!0,c)for(const te in c){const Ee=c[te],it=ve(Ee)?Ee.bind(o,o):ve(Ee.get)?Ee.get.bind(o,o):Ft,Ze=!ve(Ee)&&ve(Ee.set)?Ee.set.bind(o):Ft,_t=kt({get:it,set:Ze});Object.defineProperty(s,te,{enumerable:!0,configurable:!0,get:()=>_t.value,set:nt=>_t.value=nt})}if(m)for(const te in m)Fa(m[te],s,o,te);if(g){const te=ve(g)?g.call(o):g;Reflect.ownKeys(te).forEach(Ee=>{Kd(Ee,te[Ee])})}_&&gs(_,e,"c");function U(te,Ee){pe(Ee)?Ee.forEach(it=>te(it.bind(o))):Ee&&te(Ee.bind(o))}if(U(Ad,T),U(mo,x),U(Fd,O),U(kd,A),U(Sd,K),U(Cd,Q),U(Id,fe),U(xd,re),U(Md,ee),U($d,G),U(Aa,V),U(Rd,ue),pe(oe))if(oe.length){const te=e.exposed||(e.exposed={});oe.forEach(Ee=>{Object.defineProperty(te,Ee,{get:()=>o[Ee],set:it=>o[Ee]=it,enumerable:!0})})}else e.exposed||(e.exposed={});q&&e.render===Ft&&(e.render=q),P!=null&&(e.inheritAttrs=P),M&&(e.components=M),F&&(e.directives=F),ue&&Sa(e)}function Vd(e,r,o=Ft){pe(e)&&(e=ri(e));for(const s in e){const l=e[s];let c;Ne(l)?"default"in l?c=Wn(l.from||s,l.default,!0):c=Wn(l.from||s):c=Wn(l),Xe(c)?Object.defineProperty(r,s,{enumerable:!0,configurable:!0,get:()=>c.value,set:p=>c.value=p}):r[s]=c}}function gs(e,r,o){Rt(pe(e)?e.map(s=>s.bind(r.proxy)):e.bind(r.proxy),r,o)}function Fa(e,r,o,s){let l=s.includes(".")?Ha(o,s):()=>o[s];if(He(e)){const c=r[e];ve(c)&&cn(l,c)}else if(ve(e))cn(l,e.bind(o));else if(Ne(e))if(pe(e))e.forEach(c=>Fa(c,r,o,s));else{const c=ve(e.handler)?e.handler.bind(o):r[e.handler];ve(c)&&cn(l,c,e)}}function ka(e){const r=e.type,{mixins:o,extends:s}=r,{mixins:l,optionsCache:c,config:{optionMergeStrategies:p}}=e.appContext,m=c.get(r);let g;return m?g=m:!l.length&&!o&&!s?g=r:(g={},l.length&&l.forEach(E=>to(g,E,p,!0)),to(g,r,p)),Ne(r)&&c.set(r,g),g}function to(e,r,o,s=!1){const{mixins:l,extends:c}=r;c&&to(e,c,o,!0),l&&l.forEach(p=>to(e,p,o,!0));for(const p in r)if(!(s&&p==="expose")){const m=Hd[p]||o&&o[p];e[p]=m?m(e[p],r[p]):r[p]}return e}const Hd={data:ys,props:_s,emits:_s,methods:en,computed:en,beforeCreate:et,created:et,beforeMount:et,mounted:et,beforeUpdate:et,updated:et,beforeDestroy:et,beforeUnmount:et,destroyed:et,unmounted:et,activated:et,deactivated:et,errorCaptured:et,serverPrefetch:et,components:en,directives:en,watch:Wd,provide:ys,inject:Gd};function ys(e,r){return r?e?function(){return rt(ve(e)?e.call(this,this):e,ve(r)?r.call(this,this):r)}:r:e}function Gd(e,r){return en(ri(e),ri(r))}function ri(e){if(pe(e)){const r={};for(let o=0;o<e.length;o++)r[e[o]]=e[o];return r}return e}function et(e,r){return e?[...new Set([].concat(e,r))]:r}function en(e,r){return e?rt(Object.create(null),e,r):r}function _s(e,r){return e?pe(e)&&pe(r)?[...new Set([...e,...r])]:rt(Object.create(null),vs(e),vs(r??{})):r}function Wd(e,r){if(!e)return r;if(!r)return e;const o=rt(Object.create(null),e);for(const s in r)o[s]=et(e[s],r[s]);return o}function $a(){return{app:null,config:{isNativeTag:Ys,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qd=0;function zd(e,r){return function(s,l=null){ve(s)||(s=rt({},s)),l!=null&&!Ne(l)&&(l=null);const c=$a(),p=new WeakSet,m=[];let g=!1;const E=c.app={_uid:qd++,_component:s,_props:l,_container:null,_context:c,_instance:null,version:$f,get config(){return c.config},set config(_){},use(_,...T){return p.has(_)||(_&&ve(_.install)?(p.add(_),_.install(E,...T)):ve(_)&&(p.add(_),_(E,...T))),E},mixin(_){return c.mixins.includes(_)||c.mixins.push(_),E},component(_,T){return T?(c.components[_]=T,E):c.components[_]},directive(_,T){return T?(c.directives[_]=T,E):c.directives[_]},mount(_,T,x){if(!g){const O=E._ceVNode||ct(s,l);return O.appContext=c,x===!0?x="svg":x===!1&&(x=void 0),e(O,_,x),g=!0,E._container=_,_.__vue_app__=E,yo(O.component)}},onUnmount(_){m.push(_)},unmount(){g&&(Rt(m,E._instance,16),e(null,E._container),delete E._container.__vue_app__)},provide(_,T){return c.provides[_]=T,E},runWithContext(_){const T=Mr;Mr=E;try{return _()}finally{Mr=T}}};return E}}let Mr=null;function Kd(e,r){if(Je){let o=Je.provides;const s=Je.parent&&Je.parent.provides;s===o&&(o=Je.provides=Object.create(s)),o[e]=r}}function Wn(e,r,o=!1){const s=Pf();if(s||Mr){let l=Mr?Mr._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(l&&e in l)return l[e];if(arguments.length>1)return o&&ve(r)?r.call(s&&s.proxy):r}}const Ra={},Ma=()=>Object.create(Ra),xa=e=>Object.getPrototypeOf(e)===Ra;function Yd(e,r,o,s=!1){const l={},c=Ma();e.propsDefaults=Object.create(null),Ia(e,r,l,c);for(const p in e.propsOptions[0])p in l||(l[p]=void 0);o?e.props=s?l:cd(l):e.type.props?e.props=l:e.props=c,e.attrs=c}function Qd(e,r,o,s){const{props:l,attrs:c,vnode:{patchFlag:p}}=e,m=Te(l),[g]=e.propsOptions;let E=!1;if((s||p>0)&&!(p&16)){if(p&8){const _=e.vnode.dynamicProps;for(let T=0;T<_.length;T++){let x=_[T];if(vo(e.emitsOptions,x))continue;const O=r[x];if(g)if(Pe(c,x))O!==c[x]&&(c[x]=O,E=!0);else{const A=yt(x);l[A]=ni(g,m,A,O,e,!1)}else O!==c[x]&&(c[x]=O,E=!0)}}}else{Ia(e,r,l,c)&&(E=!0);let _;for(const T in m)(!r||!Pe(r,T)&&((_=pr(T))===T||!Pe(r,_)))&&(g?o&&(o[T]!==void 0||o[_]!==void 0)&&(l[T]=ni(g,m,T,void 0,e,!0)):delete l[T]);if(c!==m)for(const T in c)(!r||!Pe(r,T))&&(delete c[T],E=!0)}E&&Lt(e.attrs,"set","")}function Ia(e,r,o,s){const[l,c]=e.propsOptions;let p=!1,m;if(r)for(let g in r){if(rn(g))continue;const E=r[g];let _;l&&Pe(l,_=yt(g))?!c||!c.includes(_)?o[_]=E:(m||(m={}))[_]=E:vo(e.emitsOptions,g)||(!(g in s)||E!==s[g])&&(s[g]=E,p=!0)}if(c){const g=Te(o),E=m||ke;for(let _=0;_<c.length;_++){const T=c[_];o[T]=ni(l,g,T,E[T],e,!Pe(E,T))}}return p}function ni(e,r,o,s,l,c){const p=e[o];if(p!=null){const m=Pe(p,"default");if(m&&s===void 0){const g=p.default;if(p.type!==Function&&!p.skipFactory&&ve(g)){const{propsDefaults:E}=l;if(o in E)s=E[o];else{const _=_n(l);s=E[o]=g.call(null,r),_()}}else s=g;l.ce&&l.ce._setProp(o,s)}p[0]&&(c&&!m?s=!1:p[1]&&(s===""||s===pr(o))&&(s=!0))}return s}const Jd=new WeakMap;function Na(e,r,o=!1){const s=o?Jd:r.propsCache,l=s.get(e);if(l)return l;const c=e.props,p={},m=[];let g=!1;if(!ve(e)){const _=T=>{g=!0;const[x,O]=Na(T,r,!0);rt(p,x),O&&m.push(...O)};!o&&r.mixins.length&&r.mixins.forEach(_),e.extends&&_(e.extends),e.mixins&&e.mixins.forEach(_)}if(!c&&!g)return Ne(e)&&s.set(e,Fr),Fr;if(pe(c))for(let _=0;_<c.length;_++){const T=yt(c[_]);bs(T)&&(p[T]=ke)}else if(c)for(const _ in c){const T=yt(_);if(bs(T)){const x=c[_],O=p[T]=pe(x)||ve(x)?{type:x}:rt({},x),A=O.type;let K=!1,Q=!0;if(pe(A))for(let $=0;$<A.length;++$){const G=A[$],Y=ve(G)&&G.name;if(Y==="Boolean"){K=!0;break}else Y==="String"&&(Q=!1)}else K=ve(A)&&A.name==="Boolean";O[0]=K,O[1]=Q,(K||Pe(O,"default"))&&m.push(T)}}const E=[p,m];return Ne(e)&&s.set(e,E),E}function bs(e){return e[0]!=="$"&&!rn(e)}const Ti=e=>e==="_"||e==="_ctx"||e==="$stable",Pi=e=>pe(e)?e.map(At):[At(e)],Xd=(e,r,o)=>{if(r._n)return r;const s=wd((...l)=>Pi(r(...l)),o);return s._c=!1,s},Ua=(e,r,o)=>{const s=e._ctx;for(const l in e){if(Ti(l))continue;const c=e[l];if(ve(c))r[l]=Xd(l,c,s);else if(c!=null){const p=Pi(c);r[l]=()=>p}}},Da=(e,r)=>{const o=Pi(r);e.slots.default=()=>o},La=(e,r,o)=>{for(const s in r)(o||!Ti(s))&&(e[s]=r[s])},Zd=(e,r,o)=>{const s=e.slots=Ma();if(e.vnode.shapeFlag&32){const l=r._;l?(La(s,r,o),o&&Zs(s,"_",l,!0)):Ua(r,s)}else r&&Da(e,r)},ef=(e,r,o)=>{const{vnode:s,slots:l}=e;let c=!0,p=ke;if(s.shapeFlag&32){const m=r._;m?o&&m===1?c=!1:La(l,r,o):(c=!r.$stable,Ua(r,l)),p=r}else r&&(Da(e,r),p={default:1});if(c)for(const m in l)!Ti(m)&&p[m]==null&&delete l[m]},st=vf;function tf(e){return rf(e)}function rf(e,r){const o=co();o.__VUE__=!0;const{insert:s,remove:l,patchProp:c,createElement:p,createText:m,createComment:g,setText:E,setElementText:_,parentNode:T,nextSibling:x,setScopeId:O=Ft,insertStaticContent:A}=e,K=(y,b,C,B=null,N=null,L=null,J=void 0,z=null,D=!!b.dynamicChildren)=>{if(y===b)return;y&&!qr(y,b)&&(B=hr(y),nt(y,N,L,!0),y=null),b.patchFlag===-2&&(D=!1,b.dynamicChildren=null);const{type:j,ref:ce,shapeFlag:Z}=b;switch(j){case go:Q(y,b,C,B);break;case Xt:$(y,b,C,B);break;case qn:y==null&&G(b,C,B,J);break;case je:M(y,b,C,B,N,L,J,z,D);break;default:Z&1?q(y,b,C,B,N,L,J,z,D):Z&6?F(y,b,C,B,N,L,J,z,D):(Z&64||Z&128)&&j.process(y,b,C,B,N,L,J,z,D,Zt)}ce!=null&&N?sn(ce,y&&y.ref,L,b||y,!b):ce==null&&y&&y.ref!=null&&sn(y.ref,null,L,y,!0)},Q=(y,b,C,B)=>{if(y==null)s(b.el=m(b.children),C,B);else{const N=b.el=y.el;b.children!==y.children&&E(N,b.children)}},$=(y,b,C,B)=>{y==null?s(b.el=g(b.children||""),C,B):b.el=y.el},G=(y,b,C,B)=>{[y.el,y.anchor]=A(y.children,b,C,B,y.el,y.anchor)},Y=({el:y,anchor:b},C,B)=>{let N;for(;y&&y!==b;)N=x(y),s(y,C,B),y=N;s(b,C,B)},V=({el:y,anchor:b})=>{let C;for(;y&&y!==b;)C=x(y),l(y),y=C;l(b)},q=(y,b,C,B,N,L,J,z,D)=>{b.type==="svg"?J="svg":b.type==="math"&&(J="mathml"),y==null?re(b,C,B,N,L,J,z,D):ue(y,b,N,L,J,z,D)},re=(y,b,C,B,N,L,J,z)=>{let D,j;const{props:ce,shapeFlag:Z,transition:ne,dirs:he}=y;if(D=y.el=p(y.type,L,ce&&ce.is,ce),Z&8?_(D,y.children):Z&16&&fe(y.children,D,null,B,N,Wo(y,L),J,z),he&&ar(y,null,B,"created"),ee(D,y,y.scopeId,J,B),ce){for(const Se in ce)Se!=="value"&&!rn(Se)&&c(D,Se,null,ce[Se],L,B);"value"in ce&&c(D,"value",null,ce.value,L),(j=ce.onVnodeBeforeMount)&&Ct(j,B,y)}he&&ar(y,null,B,"beforeMount");const ye=nf(N,ne);ye&&ne.beforeEnter(D),s(D,b,C),((j=ce&&ce.onVnodeMounted)||ye||he)&&st(()=>{j&&Ct(j,B,y),ye&&ne.enter(D),he&&ar(y,null,B,"mounted")},N)},ee=(y,b,C,B,N)=>{if(C&&O(y,C),B)for(let L=0;L<B.length;L++)O(y,B[L]);if(N){let L=N.subTree;if(b===L||Wa(L.type)&&(L.ssContent===b||L.ssFallback===b)){const J=N.vnode;ee(y,J,J.scopeId,J.slotScopeIds,N.parent)}}},fe=(y,b,C,B,N,L,J,z,D=0)=>{for(let j=D;j<y.length;j++){const ce=y[j]=z?Kt(y[j]):At(y[j]);K(null,ce,b,C,B,N,L,J,z)}},ue=(y,b,C,B,N,L,J)=>{const z=b.el=y.el;let{patchFlag:D,dynamicChildren:j,dirs:ce}=b;D|=y.patchFlag&16;const Z=y.props||ke,ne=b.props||ke;let he;if(C&&lr(C,!1),(he=ne.onVnodeBeforeUpdate)&&Ct(he,C,b,y),ce&&ar(b,y,C,"beforeUpdate"),C&&lr(C,!0),(Z.innerHTML&&ne.innerHTML==null||Z.textContent&&ne.textContent==null)&&_(z,""),j?oe(y.dynamicChildren,j,z,C,B,Wo(b,N),L):J||Ee(y,b,z,null,C,B,Wo(b,N),L,!1),D>0){if(D&16)P(z,Z,ne,C,N);else if(D&2&&Z.class!==ne.class&&c(z,"class",null,ne.class,N),D&4&&c(z,"style",Z.style,ne.style,N),D&8){const ye=b.dynamicProps;for(let Se=0;Se<ye.length;Se++){const we=ye[Se],We=Z[we],ze=ne[we];(ze!==We||we==="value")&&c(z,we,We,ze,N,C)}}D&1&&y.children!==b.children&&_(z,b.children)}else!J&&j==null&&P(z,Z,ne,C,N);((he=ne.onVnodeUpdated)||ce)&&st(()=>{he&&Ct(he,C,b,y),ce&&ar(b,y,C,"updated")},B)},oe=(y,b,C,B,N,L,J)=>{for(let z=0;z<b.length;z++){const D=y[z],j=b[z],ce=D.el&&(D.type===je||!qr(D,j)||D.shapeFlag&198)?T(D.el):C;K(D,j,ce,null,B,N,L,J,!0)}},P=(y,b,C,B,N)=>{if(b!==C){if(b!==ke)for(const L in b)!rn(L)&&!(L in C)&&c(y,L,b[L],null,N,B);for(const L in C){if(rn(L))continue;const J=C[L],z=b[L];J!==z&&L!=="value"&&c(y,L,z,J,N,B)}"value"in C&&c(y,"value",b.value,C.value,N)}},M=(y,b,C,B,N,L,J,z,D)=>{const j=b.el=y?y.el:m(""),ce=b.anchor=y?y.anchor:m("");let{patchFlag:Z,dynamicChildren:ne,slotScopeIds:he}=b;he&&(z=z?z.concat(he):he),y==null?(s(j,C,B),s(ce,C,B),fe(b.children||[],C,ce,N,L,J,z,D)):Z>0&&Z&64&&ne&&y.dynamicChildren?(oe(y.dynamicChildren,ne,C,N,L,J,z),(b.key!=null||N&&b===N.subTree)&&Ba(y,b,!0)):Ee(y,b,C,ce,N,L,J,z,D)},F=(y,b,C,B,N,L,J,z,D)=>{b.slotScopeIds=z,y==null?b.shapeFlag&512?N.ctx.activate(b,C,B,J,D):I(b,C,B,N,L,J,D):de(y,b,D)},I=(y,b,C,B,N,L,J)=>{const z=y.component=Tf(y,B,N);if(Ca(y)&&(z.ctx.renderer=Zt),Sf(z,!1,J),z.asyncDep){if(N&&N.registerDep(z,U,J),!y.el){const D=z.subTree=ct(Xt);$(null,D,b,C),y.placeholder=D.el}}else U(z,y,b,C,N,L,J)},de=(y,b,C)=>{const B=b.component=y.component;if(hf(y,b,C))if(B.asyncDep&&!B.asyncResolved){te(B,b,C);return}else B.next=b,B.update();else b.el=y.el,B.vnode=b},U=(y,b,C,B,N,L,J)=>{const z=()=>{if(y.isMounted){let{next:Z,bu:ne,u:he,parent:ye,vnode:Se}=y;{const dt=ja(y);if(dt){Z&&(Z.el=Se.el,te(y,Z,J)),dt.asyncDep.then(()=>{y.isUnmounted||z()});return}}let we=Z,We;lr(y,!1),Z?(Z.el=Se.el,te(y,Z,J)):Z=Se,ne&&Gn(ne),(We=Z.props&&Z.props.onVnodeBeforeUpdate)&&Ct(We,ye,Z,Se),lr(y,!0);const ze=Es(y),ut=y.subTree;y.subTree=ze,K(ut,ze,T(ut.el),hr(ut),y,N,L),Z.el=ze.el,we===null&&mf(y,ze.el),he&&st(he,N),(We=Z.props&&Z.props.onVnodeUpdated)&&st(()=>Ct(We,ye,Z,Se),N)}else{let Z;const{el:ne,props:he}=b,{bm:ye,m:Se,parent:we,root:We,type:ze}=y,ut=an(b);lr(y,!1),ye&&Gn(ye),!ut&&(Z=he&&he.onVnodeBeforeMount)&&Ct(Z,we,b),lr(y,!0);{We.ce&&We.ce._def.shadowRoot!==!1&&We.ce._injectChildStyle(ze);const dt=y.subTree=Es(y);K(null,dt,C,B,y,N,L),b.el=dt.el}if(Se&&st(Se,N),!ut&&(Z=he&&he.onVnodeMounted)){const dt=b;st(()=>Ct(Z,we,dt),N)}(b.shapeFlag&256||we&&an(we.vnode)&&we.vnode.shapeFlag&256)&&y.a&&st(y.a,N),y.isMounted=!0,b=C=B=null}};y.scope.on();const D=y.effect=new oa(z);y.scope.off();const j=y.update=D.run.bind(D),ce=y.job=D.runIfDirty.bind(D);ce.i=y,ce.id=y.uid,D.scheduler=()=>wi(ce),lr(y,!0),j()},te=(y,b,C)=>{b.component=y;const B=y.vnode.props;y.vnode=b,y.next=null,Qd(y,b.props,B,C),ef(y,b.children,C),Vt(),ps(y),Ht()},Ee=(y,b,C,B,N,L,J,z,D=!1)=>{const j=y&&y.children,ce=y?y.shapeFlag:0,Z=b.children,{patchFlag:ne,shapeFlag:he}=b;if(ne>0){if(ne&128){Ze(j,Z,C,B,N,L,J,z,D);return}else if(ne&256){it(j,Z,C,B,N,L,J,z,D);return}}he&8?(ce&16&&St(j,N,L),Z!==j&&_(C,Z)):ce&16?he&16?Ze(j,Z,C,B,N,L,J,z,D):St(j,N,L,!0):(ce&8&&_(C,""),he&16&&fe(Z,C,B,N,L,J,z,D))},it=(y,b,C,B,N,L,J,z,D)=>{y=y||Fr,b=b||Fr;const j=y.length,ce=b.length,Z=Math.min(j,ce);let ne;for(ne=0;ne<Z;ne++){const he=b[ne]=D?Kt(b[ne]):At(b[ne]);K(y[ne],he,C,null,N,L,J,z,D)}j>ce?St(y,N,L,!0,!1,Z):fe(b,C,B,N,L,J,z,D,Z)},Ze=(y,b,C,B,N,L,J,z,D)=>{let j=0;const ce=b.length;let Z=y.length-1,ne=ce-1;for(;j<=Z&&j<=ne;){const he=y[j],ye=b[j]=D?Kt(b[j]):At(b[j]);if(qr(he,ye))K(he,ye,C,null,N,L,J,z,D);else break;j++}for(;j<=Z&&j<=ne;){const he=y[Z],ye=b[ne]=D?Kt(b[ne]):At(b[ne]);if(qr(he,ye))K(he,ye,C,null,N,L,J,z,D);else break;Z--,ne--}if(j>Z){if(j<=ne){const he=ne+1,ye=he<ce?b[he].el:B;for(;j<=ne;)K(null,b[j]=D?Kt(b[j]):At(b[j]),C,ye,N,L,J,z,D),j++}}else if(j>ne)for(;j<=Z;)nt(y[j],N,L,!0),j++;else{const he=j,ye=j,Se=new Map;for(j=ye;j<=ne;j++){const Be=b[j]=D?Kt(b[j]):At(b[j]);Be.key!=null&&Se.set(Be.key,j)}let we,We=0;const ze=ne-ye+1;let ut=!1,dt=0;const me=new Array(ze);for(j=0;j<ze;j++)me[j]=0;for(j=he;j<=Z;j++){const Be=y[j];if(We>=ze){nt(Be,N,L,!0);continue}let ft;if(Be.key!=null)ft=Se.get(Be.key);else for(we=ye;we<=ne;we++)if(me[we-ye]===0&&qr(Be,b[we])){ft=we;break}ft===void 0?nt(Be,N,L,!0):(me[ft-ye]=j+1,ft>=dt?dt=ft:ut=!0,K(Be,b[ft],C,null,N,L,J,z,D),We++)}const Le=ut?of(me):Fr;for(we=Le.length-1,j=ze-1;j>=0;j--){const Be=ye+j,ft=b[Be],Dr=b[Be+1],Lr=Be+1<ce?Dr.el||Dr.placeholder:B;me[j]===0?K(null,ft,C,Lr,N,L,J,z,D):ut&&(we<0||j!==Le[we]?_t(ft,C,Lr,2):we--)}}},_t=(y,b,C,B,N=null)=>{const{el:L,type:J,transition:z,children:D,shapeFlag:j}=y;if(j&6){_t(y.component.subTree,b,C,B);return}if(j&128){y.suspense.move(b,C,B);return}if(j&64){J.move(y,b,C,Zt);return}if(J===je){s(L,b,C);for(let Z=0;Z<D.length;Z++)_t(D[Z],b,C,B);s(y.anchor,b,C);return}if(J===qn){Y(y,b,C);return}if(B!==2&&j&1&&z)if(B===0)z.beforeEnter(L),s(L,b,C),st(()=>z.enter(L),N);else{const{leave:Z,delayLeave:ne,afterLeave:he}=z,ye=()=>{y.ctx.isUnmounted?l(L):s(L,b,C)},Se=()=>{L._isLeaving&&L[Pd](!0),Z(L,()=>{ye(),he&&he()})};ne?ne(L,ye,Se):Se()}else s(L,b,C)},nt=(y,b,C,B=!1,N=!1)=>{const{type:L,props:J,ref:z,children:D,dynamicChildren:j,shapeFlag:ce,patchFlag:Z,dirs:ne,cacheIndex:he}=y;if(Z===-2&&(N=!1),z!=null&&(Vt(),sn(z,null,C,y,!0),Ht()),he!=null&&(b.renderCache[he]=void 0),ce&256){b.ctx.deactivate(y);return}const ye=ce&1&&ne,Se=!an(y);let we;if(Se&&(we=J&&J.onVnodeBeforeUnmount)&&Ct(we,b,y),ce&6)Tn(y.component,C,B);else{if(ce&128){y.suspense.unmount(C,B);return}ye&&ar(y,null,b,"beforeUnmount"),ce&64?y.type.remove(y,b,C,Zt,B):j&&!j.hasOnce&&(L!==je||Z>0&&Z&64)?St(j,b,C,!1,!0):(L===je&&Z&384||!N&&ce&16)&&St(D,b,C),B&&Nr(y)}(Se&&(we=J&&J.onVnodeUnmounted)||ye)&&st(()=>{we&&Ct(we,b,y),ye&&ar(y,null,b,"unmounted")},C)},Nr=y=>{const{type:b,el:C,anchor:B,transition:N}=y;if(b===je){En(C,B);return}if(b===qn){V(y);return}const L=()=>{l(C),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(y.shapeFlag&1&&N&&!N.persisted){const{leave:J,delayLeave:z}=N,D=()=>J(C,L);z?z(y.el,L,D):D()}else L()},En=(y,b)=>{let C;for(;y!==b;)C=x(y),l(y),y=C;l(b)},Tn=(y,b,C)=>{const{bum:B,scope:N,job:L,subTree:J,um:z,m:D,a:j}=y;ws(D),ws(j),B&&Gn(B),N.stop(),L&&(L.flags|=8,nt(J,y,b,C)),z&&st(z,b),st(()=>{y.isUnmounted=!0},b)},St=(y,b,C,B=!1,N=!1,L=0)=>{for(let J=L;J<y.length;J++)nt(y[J],b,C,B,N)},hr=y=>{if(y.shapeFlag&6)return hr(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const b=x(y.anchor||y.el),C=b&&b[Ed];return C?x(C):b};let Ur=!1;const Pn=(y,b,C)=>{y==null?b._vnode&&nt(b._vnode,null,null,!0):K(b._vnode||null,y,b,null,null,null,C),b._vnode=y,Ur||(Ur=!0,ps(),Ea(),Ur=!1)},Zt={p:K,um:nt,m:_t,r:Nr,mt:I,mc:fe,pc:Ee,pbc:oe,n:hr,o:e};return{render:Pn,hydrate:void 0,createApp:zd(Pn)}}function Wo({type:e,props:r},o){return o==="svg"&&e==="foreignObject"||o==="mathml"&&e==="annotation-xml"&&r&&r.encoding&&r.encoding.includes("html")?void 0:o}function lr({effect:e,job:r},o){o?(e.flags|=32,r.flags|=4):(e.flags&=-33,r.flags&=-5)}function nf(e,r){return(!e||e&&!e.pendingBranch)&&r&&!r.persisted}function Ba(e,r,o=!1){const s=e.children,l=r.children;if(pe(s)&&pe(l))for(let c=0;c<s.length;c++){const p=s[c];let m=l[c];m.shapeFlag&1&&!m.dynamicChildren&&((m.patchFlag<=0||m.patchFlag===32)&&(m=l[c]=Kt(l[c]),m.el=p.el),!o&&m.patchFlag!==-2&&Ba(p,m)),m.type===go&&m.patchFlag!==-1&&(m.el=p.el),m.type===Xt&&!m.el&&(m.el=p.el)}}function of(e){const r=e.slice(),o=[0];let s,l,c,p,m;const g=e.length;for(s=0;s<g;s++){const E=e[s];if(E!==0){if(l=o[o.length-1],e[l]<E){r[s]=l,o.push(s);continue}for(c=0,p=o.length-1;c<p;)m=c+p>>1,e[o[m]]<E?c=m+1:p=m;E<e[o[c]]&&(c>0&&(r[s]=o[c-1]),o[c]=s)}}for(c=o.length,p=o[c-1];c-- >0;)o[c]=p,p=r[p];return o}function ja(e){const r=e.subTree.component;if(r)return r.asyncDep&&!r.asyncResolved?r:ja(r)}function ws(e){if(e)for(let r=0;r<e.length;r++)e[r].flags|=8}const sf=Symbol.for("v-scx"),af=()=>Wn(sf);function cn(e,r,o){return Va(e,r,o)}function Va(e,r,o=ke){const{immediate:s,deep:l,flush:c,once:p}=o,m=rt({},o),g=r&&s||!r&&c!=="post";let E;if(vn){if(c==="sync"){const O=af();E=O.__watcherHandles||(O.__watcherHandles=[])}else if(!g){const O=()=>{};return O.stop=Ft,O.resume=Ft,O.pause=Ft,O}}const _=Je;m.call=(O,A,K)=>Rt(O,_,A,K);let T=!1;c==="post"?m.scheduler=O=>{st(O,_&&_.suspense)}:c!=="sync"&&(T=!0,m.scheduler=(O,A)=>{A?O():wi(O)}),m.augmentJob=O=>{r&&(O.flags|=4),T&&(O.flags|=2,_&&(O.id=_.uid,O.i=_))};const x=vd(e,r,m);return vn&&(E?E.push(x):g&&x()),x}function lf(e,r,o){const s=this.proxy,l=He(e)?e.includes(".")?Ha(s,e):()=>s[e]:e.bind(s,s);let c;ve(r)?c=r:(c=r.handler,o=r);const p=_n(this),m=Va(l,c.bind(s),o);return p(),m}function Ha(e,r){const o=r.split(".");return()=>{let s=e;for(let l=0;l<o.length&&s;l++)s=s[o[l]];return s}}const cf=(e,r)=>r==="modelValue"||r==="model-value"?e.modelModifiers:e[`${r}Modifiers`]||e[`${yt(r)}Modifiers`]||e[`${pr(r)}Modifiers`];function uf(e,r,...o){if(e.isUnmounted)return;const s=e.vnode.props||ke;let l=o;const c=r.startsWith("update:"),p=c&&cf(s,r.slice(7));p&&(p.trim&&(l=o.map(_=>He(_)?_.trim():_)),p.number&&(l=o.map(Yo)));let m,g=s[m=Lo(r)]||s[m=Lo(yt(r))];!g&&c&&(g=s[m=Lo(pr(r))]),g&&Rt(g,e,6,l);const E=s[m+"Once"];if(E){if(!e.emitted)e.emitted={};else if(e.emitted[m])return;e.emitted[m]=!0,Rt(E,e,6,l)}}const df=new WeakMap;function Ga(e,r,o=!1){const s=o?df:r.emitsCache,l=s.get(e);if(l!==void 0)return l;const c=e.emits;let p={},m=!1;if(!ve(e)){const g=E=>{const _=Ga(E,r,!0);_&&(m=!0,rt(p,_))};!o&&r.mixins.length&&r.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}return!c&&!m?(Ne(e)&&s.set(e,null),null):(pe(c)?c.forEach(g=>p[g]=null):rt(p,c),Ne(e)&&s.set(e,p),p)}function vo(e,r){return!e||!io(r)?!1:(r=r.slice(2).replace(/Once$/,""),Pe(e,r[0].toLowerCase()+r.slice(1))||Pe(e,pr(r))||Pe(e,r))}function Es(e){const{type:r,vnode:o,proxy:s,withProxy:l,propsOptions:[c],slots:p,attrs:m,emit:g,render:E,renderCache:_,props:T,data:x,setupState:O,ctx:A,inheritAttrs:K}=e,Q=Zn(e);let $,G;try{if(o.shapeFlag&4){const V=l||s,q=V;$=At(E.call(q,V,_,T,O,x,A)),G=m}else{const V=r;$=At(V.length>1?V(T,{attrs:m,slots:p,emit:g}):V(T,null)),G=r.props?m:ff(m)}}catch(V){un.length=0,po(V,e,1),$=ct(Xt)}let Y=$;if(G&&K!==!1){const V=Object.keys(G),{shapeFlag:q}=Y;V.length&&q&7&&(c&&V.some(ci)&&(G=pf(G,c)),Y=Ir(Y,G,!1,!0))}return o.dirs&&(Y=Ir(Y,null,!1,!0),Y.dirs=Y.dirs?Y.dirs.concat(o.dirs):o.dirs),o.transition&&Ei(Y,o.transition),$=Y,Zn(Q),$}const ff=e=>{let r;for(const o in e)(o==="class"||o==="style"||io(o))&&((r||(r={}))[o]=e[o]);return r},pf=(e,r)=>{const o={};for(const s in e)(!ci(s)||!(s.slice(9)in r))&&(o[s]=e[s]);return o};function hf(e,r,o){const{props:s,children:l,component:c}=e,{props:p,children:m,patchFlag:g}=r,E=c.emitsOptions;if(r.dirs||r.transition)return!0;if(o&&g>=0){if(g&1024)return!0;if(g&16)return s?Ts(s,p,E):!!p;if(g&8){const _=r.dynamicProps;for(let T=0;T<_.length;T++){const x=_[T];if(p[x]!==s[x]&&!vo(E,x))return!0}}}else return(l||m)&&(!m||!m.$stable)?!0:s===p?!1:s?p?Ts(s,p,E):!0:!!p;return!1}function Ts(e,r,o){const s=Object.keys(r);if(s.length!==Object.keys(e).length)return!0;for(let l=0;l<s.length;l++){const c=s[l];if(r[c]!==e[c]&&!vo(o,c))return!0}return!1}function mf({vnode:e,parent:r},o){for(;r;){const s=r.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=r.vnode).el=o,r=r.parent;else break}}const Wa=e=>e.__isSuspense;function vf(e,r){r&&r.pendingBranch?pe(e)?r.effects.push(...e):r.effects.push(e):bd(e)}const je=Symbol.for("v-fgt"),go=Symbol.for("v-txt"),Xt=Symbol.for("v-cmt"),qn=Symbol.for("v-stc"),un=[];let lt=null;function ie(e=!1){un.push(lt=e?null:[])}function gf(){un.pop(),lt=un[un.length-1]||null}let mn=1;function Ps(e,r=!1){mn+=e,e<0&&lt&&r&&(lt.hasOnce=!0)}function qa(e){return e.dynamicChildren=mn>0?lt||Fr:null,gf(),mn>0&&lt&&lt.push(e),e}function le(e,r,o,s,l,c){return qa(S(e,r,o,s,l,c,!0))}function Yt(e,r,o,s,l){return qa(ct(e,r,o,s,l,!0))}function za(e){return e?e.__v_isVNode===!0:!1}function qr(e,r){return e.type===r.type&&e.key===r.key}const Ka=({key:e})=>e??null,zn=({ref:e,ref_key:r,ref_for:o})=>(typeof e=="number"&&(e=""+e),e!=null?He(e)||Xe(e)||ve(e)?{i:at,r:e,k:r,f:!!o}:e:null);function S(e,r=null,o=null,s=0,l=null,c=e===je?0:1,p=!1,m=!1){const g={__v_isVNode:!0,__v_skip:!0,type:e,props:r,key:r&&Ka(r),ref:r&&zn(r),scopeId:Pa,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:s,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:at};return m?(Si(g,o),c&128&&e.normalize(g)):o&&(g.shapeFlag|=He(o)?8:16),mn>0&&!p&&lt&&(g.patchFlag>0||c&6)&&g.patchFlag!==32&&lt.push(g),g}const ct=yf;function yf(e,r=null,o=null,s=0,l=null,c=!1){if((!e||e===Dd)&&(e=Xt),za(e)){const m=Ir(e,r,!0);return o&&Si(m,o),mn>0&&!c&&lt&&(m.shapeFlag&6?lt[lt.indexOf(e)]=m:lt.push(m)),m.patchFlag=-2,m}if(kf(e)&&(e=e.__vccOpts),r){r=_f(r);let{class:m,style:g}=r;m&&!He(m)&&(r.class=Tt(m)),Ne(g)&&(bi(g)&&!pe(g)&&(g=rt({},g)),r.style=fi(g))}const p=He(e)?1:Wa(e)?128:Td(e)?64:Ne(e)?4:ve(e)?2:0;return S(e,r,o,s,l,p,c,!0)}function _f(e){return e?bi(e)||xa(e)?rt({},e):e:null}function Ir(e,r,o=!1,s=!1){const{props:l,ref:c,patchFlag:p,children:m,transition:g}=e,E=r?bf(l||{},r):l,_={__v_isVNode:!0,__v_skip:!0,type:e.type,props:E,key:E&&Ka(E),ref:r&&r.ref?o&&c?pe(c)?c.concat(zn(r)):[c,zn(r)]:zn(r):c,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:m,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:r&&e.type!==je?p===-1?16:p|16:p,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:g,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ir(e.ssContent),ssFallback:e.ssFallback&&Ir(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return g&&s&&Ei(_,g.clone(_)),_}function jt(e=" ",r=0){return ct(go,null,e,r)}function Ss(e,r){const o=ct(qn,null,e);return o.staticCount=r,o}function Ie(e="",r=!1){return r?(ie(),Yt(Xt,null,e)):ct(Xt,null,e)}function At(e){return e==null||typeof e=="boolean"?ct(Xt):pe(e)?ct(je,null,e.slice()):za(e)?Kt(e):ct(go,null,String(e))}function Kt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ir(e)}function Si(e,r){let o=0;const{shapeFlag:s}=e;if(r==null)r=null;else if(pe(r))o=16;else if(typeof r=="object")if(s&65){const l=r.default;l&&(l._c&&(l._d=!1),Si(e,l()),l._c&&(l._d=!0));return}else{o=32;const l=r._;!l&&!xa(r)?r._ctx=at:l===3&&at&&(at.slots._===1?r._=1:(r._=2,e.patchFlag|=1024))}else ve(r)?(r={default:r,_ctx:at},o=32):(r=String(r),s&64?(o=16,r=[jt(r)]):o=8);e.children=r,e.shapeFlag|=o}function bf(...e){const r={};for(let o=0;o<e.length;o++){const s=e[o];for(const l in s)if(l==="class")r.class!==s.class&&(r.class=Tt([r.class,s.class]));else if(l==="style")r.style=fi([r.style,s.style]);else if(io(l)){const c=r[l],p=s[l];p&&c!==p&&!(pe(c)&&c.includes(p))&&(r[l]=c?[].concat(c,p):p)}else l!==""&&(r[l]=s[l])}return r}function Ct(e,r,o,s=null){Rt(e,r,7,[o,s])}const wf=$a();let Ef=0;function Tf(e,r,o){const s=e.type,l=(r?r.appContext:e.appContext)||wf,c={uid:Ef++,vnode:e,type:s,parent:r,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Hu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(l.provides),ids:r?r.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Na(s,l),emitsOptions:Ga(s,l),emit:null,emitted:null,propsDefaults:ke,inheritAttrs:s.inheritAttrs,ctx:ke,data:ke,props:ke,attrs:ke,slots:ke,refs:ke,setupState:ke,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=r?r.root:c,c.emit=uf.bind(null,c),e.ce&&e.ce(c),c}let Je=null;const Pf=()=>Je||at;let ro,oi;{const e=co(),r=(o,s)=>{let l;return(l=e[o])||(l=e[o]=[]),l.push(s),c=>{l.length>1?l.forEach(p=>p(c)):l[0](c)}};ro=r("__VUE_INSTANCE_SETTERS__",o=>Je=o),oi=r("__VUE_SSR_SETTERS__",o=>vn=o)}const _n=e=>{const r=Je;return ro(e),e.scope.on(),()=>{e.scope.off(),ro(r)}},Cs=()=>{Je&&Je.scope.off(),ro(null)};function Ya(e){return e.vnode.shapeFlag&4}let vn=!1;function Sf(e,r=!1,o=!1){r&&oi(r);const{props:s,children:l}=e.vnode,c=Ya(e);Yd(e,s,c,r),Zd(e,l,o||r);const p=c?Cf(e,r):void 0;return r&&oi(!1),p}function Cf(e,r){const o=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Bd);const{setup:s}=o;if(s){Vt();const l=e.setupContext=s.length>1?Af(e):null,c=_n(e),p=yn(s,e,0,[e.props,l]),m=Qs(p);if(Ht(),c(),(m||e.sp)&&!an(e)&&Sa(e),m){if(p.then(Cs,Cs),r)return p.then(g=>{Os(e,g)}).catch(g=>{po(g,e,0)});e.asyncDep=p}else Os(e,p)}else Qa(e)}function Os(e,r,o){ve(r)?e.type.__ssrInlineRender?e.ssrRender=r:e.render=r:Ne(r)&&(e.setupState=_a(r)),Qa(e)}function Qa(e,r,o){const s=e.type;e.render||(e.render=s.render||Ft);{const l=_n(e);Vt();try{jd(e)}finally{Ht(),l()}}}const Of={get(e,r){return Qe(e,"get",""),e[r]}};function Af(e){const r=o=>{e.exposed=o||{}};return{attrs:new Proxy(e.attrs,Of),slots:e.slots,emit:e.emit,expose:r}}function yo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(_a(Zr(e.exposed)),{get(r,o){if(o in r)return r[o];if(o in ln)return ln[o](e)},has(r,o){return o in r||o in ln}})):e.proxy}function Ff(e,r=!0){return ve(e)?e.displayName||e.name:e.name||r&&e.__name}function kf(e){return ve(e)&&"__vccOpts"in e}const kt=(e,r)=>hd(e,r,vn),$f="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ii;const As=typeof window<"u"&&window.trustedTypes;if(As)try{ii=As.createPolicy("vue",{createHTML:e=>e})}catch{}const Ja=ii?e=>ii.createHTML(e):e=>e,Rf="http://www.w3.org/2000/svg",Mf="http://www.w3.org/1998/Math/MathML",Dt=typeof document<"u"?document:null,Fs=Dt&&Dt.createElement("template"),xf={insert:(e,r,o)=>{r.insertBefore(e,o||null)},remove:e=>{const r=e.parentNode;r&&r.removeChild(e)},createElement:(e,r,o,s)=>{const l=r==="svg"?Dt.createElementNS(Rf,e):r==="mathml"?Dt.createElementNS(Mf,e):o?Dt.createElement(e,{is:o}):Dt.createElement(e);return e==="select"&&s&&s.multiple!=null&&l.setAttribute("multiple",s.multiple),l},createText:e=>Dt.createTextNode(e),createComment:e=>Dt.createComment(e),setText:(e,r)=>{e.nodeValue=r},setElementText:(e,r)=>{e.textContent=r},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Dt.querySelector(e),setScopeId(e,r){e.setAttribute(r,"")},insertStaticContent(e,r,o,s,l,c){const p=o?o.previousSibling:r.lastChild;if(l&&(l===c||l.nextSibling))for(;r.insertBefore(l.cloneNode(!0),o),!(l===c||!(l=l.nextSibling)););else{Fs.innerHTML=Ja(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const m=Fs.content;if(s==="svg"||s==="mathml"){const g=m.firstChild;for(;g.firstChild;)m.appendChild(g.firstChild);m.removeChild(g)}r.insertBefore(m,o)}return[p?p.nextSibling:r.firstChild,o?o.previousSibling:r.lastChild]}},If=Symbol("_vtc");function Nf(e,r,o){const s=e[If];s&&(r=(r?[r,...s]:[...s]).join(" ")),r==null?e.removeAttribute("class"):o?e.setAttribute("class",r):e.className=r}const no=Symbol("_vod"),Xa=Symbol("_vsh"),Za={name:"show",beforeMount(e,{value:r},{transition:o}){e[no]=e.style.display==="none"?"":e.style.display,o&&r?o.beforeEnter(e):zr(e,r)},mounted(e,{value:r},{transition:o}){o&&r&&o.enter(e)},updated(e,{value:r,oldValue:o},{transition:s}){!r!=!o&&(s?r?(s.beforeEnter(e),zr(e,!0),s.enter(e)):s.leave(e,()=>{zr(e,!1)}):zr(e,r))},beforeUnmount(e,{value:r}){zr(e,r)}};function zr(e,r){e.style.display=r?e[no]:"none",e[Xa]=!r}const Uf=Symbol(""),Df=/(?:^|;)\s*display\s*:/;function Lf(e,r,o){const s=e.style,l=He(o);let c=!1;if(o&&!l){if(r)if(He(r))for(const p of r.split(";")){const m=p.slice(0,p.indexOf(":")).trim();o[m]==null&&Kn(s,m,"")}else for(const p in r)o[p]==null&&Kn(s,p,"");for(const p in o)p==="display"&&(c=!0),Kn(s,p,o[p])}else if(l){if(r!==o){const p=s[Uf];p&&(o+=";"+p),s.cssText=o,c=Df.test(o)}}else r&&e.removeAttribute("style");no in e&&(e[no]=c?s.display:"",e[Xa]&&(s.display="none"))}const ks=/\s*!important$/;function Kn(e,r,o){if(pe(o))o.forEach(s=>Kn(e,r,s));else if(o==null&&(o=""),r.startsWith("--"))e.setProperty(r,o);else{const s=Bf(e,r);ks.test(o)?e.setProperty(pr(s),o.replace(ks,""),"important"):e[s]=o}}const $s=["Webkit","Moz","ms"],qo={};function Bf(e,r){const o=qo[r];if(o)return o;let s=yt(r);if(s!=="filter"&&s in e)return qo[r]=s;s=lo(s);for(let l=0;l<$s.length;l++){const c=$s[l]+s;if(c in e)return qo[r]=c}return r}const Rs="http://www.w3.org/1999/xlink";function Ms(e,r,o,s,l,c=ju(r)){s&&r.startsWith("xlink:")?o==null?e.removeAttributeNS(Rs,r.slice(6,r.length)):e.setAttributeNS(Rs,r,o):o==null||c&&!ea(o)?e.removeAttribute(r):e.setAttribute(r,c?"":$t(o)?String(o):o)}function xs(e,r,o,s,l){if(r==="innerHTML"||r==="textContent"){o!=null&&(e[r]=r==="innerHTML"?Ja(o):o);return}const c=e.tagName;if(r==="value"&&c!=="PROGRESS"&&!c.includes("-")){const m=c==="OPTION"?e.getAttribute("value")||"":e.value,g=o==null?e.type==="checkbox"?"on":"":String(o);(m!==g||!("_value"in e))&&(e.value=g),o==null&&e.removeAttribute(r),e._value=o;return}let p=!1;if(o===""||o==null){const m=typeof e[r];m==="boolean"?o=ea(o):o==null&&m==="string"?(o="",p=!0):m==="number"&&(o=0,p=!0)}try{e[r]=o}catch{}p&&e.removeAttribute(l||r)}function dr(e,r,o,s){e.addEventListener(r,o,s)}function jf(e,r,o,s){e.removeEventListener(r,o,s)}const Is=Symbol("_vei");function Vf(e,r,o,s,l=null){const c=e[Is]||(e[Is]={}),p=c[r];if(s&&p)p.value=s;else{const[m,g]=Hf(r);if(s){const E=c[r]=qf(s,l);dr(e,m,E,g)}else p&&(jf(e,m,p,g),c[r]=void 0)}}const Ns=/(?:Once|Passive|Capture)$/;function Hf(e){let r;if(Ns.test(e)){r={};let s;for(;s=e.match(Ns);)e=e.slice(0,e.length-s[0].length),r[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):pr(e.slice(2)),r]}let zo=0;const Gf=Promise.resolve(),Wf=()=>zo||(Gf.then(()=>zo=0),zo=Date.now());function qf(e,r){const o=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=o.attached)return;Rt(zf(s,o.value),r,5,[s])};return o.value=e,o.attached=Wf(),o}function zf(e,r){if(pe(r)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},r.map(s=>l=>!l._stopped&&s&&s(l))}else return r}const Us=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Kf=(e,r,o,s,l,c)=>{const p=l==="svg";r==="class"?Nf(e,s,p):r==="style"?Lf(e,o,s):io(r)?ci(r)||Vf(e,r,o,s,c):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):Yf(e,r,s,p))?(xs(e,r,s),!e.tagName.includes("-")&&(r==="value"||r==="checked"||r==="selected")&&Ms(e,r,s,p,c,r!=="value")):e._isVueCE&&(/[A-Z]/.test(r)||!He(s))?xs(e,yt(r),s,c,r):(r==="true-value"?e._trueValue=s:r==="false-value"&&(e._falseValue=s),Ms(e,r,s,p))};function Yf(e,r,o,s){if(s)return!!(r==="innerHTML"||r==="textContent"||r in e&&Us(r)&&ve(o));if(r==="spellcheck"||r==="draggable"||r==="translate"||r==="autocorrect"||r==="form"||r==="list"&&e.tagName==="INPUT"||r==="type"&&e.tagName==="TEXTAREA")return!1;if(r==="width"||r==="height"){const l=e.tagName;if(l==="IMG"||l==="VIDEO"||l==="CANVAS"||l==="SOURCE")return!1}return Us(r)&&He(o)?!1:r in e}const oo=e=>{const r=e.props["onUpdate:modelValue"]||!1;return pe(r)?o=>Gn(r,o):r};function Qf(e){e.target.composing=!0}function Ds(e){const r=e.target;r.composing&&(r.composing=!1,r.dispatchEvent(new Event("input")))}const xr=Symbol("_assign"),Jf={created(e,{modifiers:{lazy:r,trim:o,number:s}},l){e[xr]=oo(l);const c=s||l.props&&l.props.type==="number";dr(e,r?"change":"input",p=>{if(p.target.composing)return;let m=e.value;o&&(m=m.trim()),c&&(m=Yo(m)),e[xr](m)}),o&&dr(e,"change",()=>{e.value=e.value.trim()}),r||(dr(e,"compositionstart",Qf),dr(e,"compositionend",Ds),dr(e,"change",Ds))},mounted(e,{value:r}){e.value=r??""},beforeUpdate(e,{value:r,oldValue:o,modifiers:{lazy:s,trim:l,number:c}},p){if(e[xr]=oo(p),e.composing)return;const m=(c||e.type==="number")&&!/^0\d/.test(e.value)?Yo(e.value):e.value,g=r??"";m!==g&&(document.activeElement===e&&e.type!=="range"&&(s&&r===o||l&&e.value.trim()===g)||(e.value=g))}},jn={deep:!0,created(e,r,o){e[xr]=oo(o),dr(e,"change",()=>{const s=e._modelValue,l=Xf(e),c=e.checked,p=e[xr];if(pe(s)){const m=ta(s,l),g=m!==-1;if(c&&!g)p(s.concat(l));else if(!c&&g){const E=[...s];E.splice(m,1),p(E)}}else if(so(s)){const m=new Set(s);c?m.add(l):m.delete(l),p(m)}else p(el(e,c))})},mounted:Ls,beforeUpdate(e,r,o){e[xr]=oo(o),Ls(e,r,o)}};function Ls(e,{value:r,oldValue:o},s){e._modelValue=r;let l;if(pe(r))l=ta(r,s.props.value)>-1;else if(so(r))l=r.has(s.props.value);else{if(r===o)return;l=uo(r,el(e,!0))}e.checked!==l&&(e.checked=l)}function Xf(e){return"_value"in e?e._value:e.value}function el(e,r){const o=r?"_trueValue":"_falseValue";return o in e?e[o]:r}const Zf=["ctrl","shift","alt","meta"],ep={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,r)=>Zf.some(o=>e[`${o}Key`]&&!r.includes(o))},tp=(e,r)=>{const o=e._withMods||(e._withMods={}),s=r.join(".");return o[s]||(o[s]=((l,...c)=>{for(let p=0;p<r.length;p++){const m=ep[r[p]];if(m&&m(l,r))return}return e(l,...c)}))},rp=rt({patchProp:Kf},xf);let Bs;function np(){return Bs||(Bs=tf(rp))}const op=((...e)=>{const r=np().createApp(...e),{mount:o}=r;return r.mount=s=>{const l=sp(s);if(!l)return;const c=r._component;!ve(c)&&!c.render&&!c.template&&(c.template=l.innerHTML),l.nodeType===1&&(l.textContent="");const p=o(l,!1,ip(l));return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),p},r});function ip(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function sp(e){return He(e)?document.querySelector(e):e}const ap={class:"file-input"},lp={__name:"FileLoader",emits:["file-loaded"],setup(e,{emit:r}){const o=r,s=l=>{const c=l.target.files[0];if(!c)return;const p=new FileReader;p.onload=m=>{o("file-loaded",m.target.result)},p.readAsText(c)};return(l,c)=>(ie(),le("div",ap,[c[0]||(c[0]=S("h3",null,"Upload Model File",-1)),S("input",{type:"file",onChange:s,accept:".cellml,.xml"},null,32),c[1]||(c[1]=S("p",null,"Please upload .cellml and .xml files",-1))]))}},cp={class:"model-info"},up={__name:"ModelInfo",props:{model:Object,components:Array,totalVariables:Number},setup(e){return(r,o)=>(ie(),le("div",cp,[o[3]||(o[3]=S("h4",null,"Model Info",-1)),S("p",null,[o[0]||(o[0]=S("strong",null,"Name:",-1)),jt(" "+ae(e.model.name()||"No name"),1)]),S("p",null,[o[1]||(o[1]=S("strong",null,"Components:",-1)),jt(" "+ae(e.components.length),1)]),S("p",null,[o[2]||(o[2]=S("strong",null,"Total Variables:",-1)),jt(" "+ae(e.totalVariables),1)])]))}},dp={class:"variables-container compact"},fp=["onClick"],pp={class:"group-title"},hp={class:"group-name"},mp={class:"variable-count"},vp={class:"variables-list"},gp=["onClick"],yp={class:"variable-info"},_p={class:"variable-name"},bp={class:"variable-details"},wp={class:"component-name"},Ep={key:0,class:"variable-units"},Tp={key:1,class:"initial-value"},Pp={key:2,class:"interface-type"},Sp={__name:"VariableGroupsList",props:{groupedVariables:Object,selectedVariable:Object},emits:["variable-selected"],setup(e){const r=e,o=De({}),s=()=>{Object.keys(r.groupedVariables||{}).forEach(c=>{c in o.value||(o.value[c]=!0)})};mo(()=>{s()}),cn(()=>r.groupedVariables,()=>{s()},{immediate:!0});const l=c=>{o.value[c]=!o.value[c]};return(c,p)=>(ie(),le("div",null,[p[0]||(p[0]=S("h4",null,"Variable Groups List",-1)),S("div",dp,[(ie(!0),le(je,null,vt(e.groupedVariables,(m,g)=>(ie(),le("div",{key:g,class:"variable-group"},[S("div",{class:"group-header",onClick:E=>l(g)},[S("div",pp,[S("span",hp,ae(g),1),S("span",mp,"("+ae(m.length)+")",1),S("span",{class:Tt(["toggle-icon",{expanded:o.value[g]}])},"  ",2)])],8,fp),ur(S("div",vp,[(ie(!0),le(je,null,vt(m,(E,_)=>(ie(),le("div",{key:`${E.component.name}-${E.name}`,class:Tt(["variable-item",{selected:e.selectedVariable===E}]),onClick:T=>c.$emit("variable-selected",E)},[S("div",yp,[S("strong",_p,ae(E.name),1),S("div",bp,[S("span",wp,ae(E.component.name),1),E.units?(ie(),le("span",Ep," Units: "+ae(E.units),1)):Ie("",!0),E.initialValue?(ie(),le("span",Tp," Initial: "+ae(E.initialValue),1)):Ie("",!0),E.interfaceType!=="none"?(ie(),le("span",Pp," Interface: "+ae(E.interfaceType),1)):Ie("",!0)])])],10,gp))),128))],512),[[Za,o.value[g]]])]))),128))])]))}},js={Quantities:{displayName:"Biochemical Quantity",description:"For concentrations, amounts of molecules",domain:"Biochemistry",qualifier:"bqbiol:isPropertyOf",fields:[{id:"species",label:"Species/Molecule",type:"ontology-search",required:!0,ontology:"CHEBI",placeholder:"e.g., CHEBI:17234 (glucose)",helpText:"Search ChEBI for chemical entities",searchUrl:"https://www.ebi.ac.uk/chebi/searchId.do?chebiId=",validatePattern:/^CHEBI:\d+$/},{id:"compartment",label:"Compartment/Location",type:"ontology-search",required:!0,ontology:"GO",placeholder:"e.g., GO:0005829 (cytosol)",helpText:"Search GO for cellular components",searchUrl:"https://www.ebi.ac.uk/QuickGO/term/",validatePattern:/^GO:\d{7}$/},{id:"physicalProperty",label:"Physical Property (OPB)",type:"ontology-search",required:!0,ontology:"OPB",placeholder:"e.g., OPB:00425 (chemical concentration)",helpText:"Search OPB for physical properties",searchUrl:"https://bioportal.bioontology.org/ontologies/OPB?p=classes&conceptid=",validatePattern:/^OPB:\d+$/}]},"Flow rates":{displayName:"Biochemical Flow Rate",description:"For molecular fluxes and transport processes",domain:"Biochemistry",qualifier:"bqbiol:isPropertyOf",fields:[{id:"source",label:"Source",type:"composite",required:!0,subfields:[{id:"species",label:"Species",type:"ontology-search",ontology:"CHEBI",placeholder:"e.g., CHEBI:17234",validatePattern:/^CHEBI:\d+$/},{id:"compartment",label:"Compartment",type:"ontology-search",ontology:"GO",placeholder:"e.g., GO:0005615",validatePattern:/^GO:\d{7}$/},{id:"multiplier",label:"Stoichiometric Coefficient",type:"number",placeholder:"e.g., 1",defaultValue:1,helpText:"Chemical stoichiometry (usually 1)"}]},{id:"sink",label:"Sink",type:"composite",required:!0,subfields:[{id:"species",label:"Species",type:"ontology-search",ontology:"CHEBI",placeholder:"e.g., CHEBI:17234",validatePattern:/^CHEBI:\d+$/},{id:"compartment",label:"Compartment",type:"ontology-search",ontology:"GO",placeholder:"e.g., GO:0005829",validatePattern:/^GO:\d{7}$/},{id:"multiplier",label:"Stoichiometric Coefficient",type:"number",placeholder:"e.g., 1",defaultValue:1}]},{id:"mediator",label:"Mediator (Optional)",type:"composite",required:!1,subfields:[{id:"protein",label:"Protein",type:"ontology-search",ontology:"PR/UNIPROT",placeholder:"e.g., PR:000007235 (GLUT2) or P14672",helpText:"Search Protein Ontology or UniProt",validatePattern:/^(PR:\d+|[A-Z0-9]{6,10})$/,searchUrl:"https://www.uniprot.org/uniprotkb/"},{id:"compartment",label:"Compartment",type:"ontology-search",ontology:"GO",placeholder:"e.g., GO:0005886 (plasma membrane)",validatePattern:/^GO:\d{7}$/}]},{id:"bioprocess",label:"Biological Process/Activity",type:"ontology-search",required:!0,ontology:"GO_BP/SBO",placeholder:"e.g., GO:0046323 (glucose import)",helpText:"Use GO biological process or SBO terms",validatePattern:/^(GO:\d{7}|SBO:\d{7})$/,searchUrl:"https://www.ebi.ac.uk/QuickGO/term/"},{id:"physicalProperty",label:"Physical Property (OPB)",type:"ontology-search",required:!0,ontology:"OPB",placeholder:"e.g., OPB:00592 (chemical flux)",validatePattern:/^OPB:\d+$/}]},Efforts:{displayName:"Biochemical Potential",description:"For chemical and electrical potentials",domain:"Biochemistry",qualifier:"bqbiol:isPropertyOf",fields:[{id:"source",label:"Source",type:"composite",required:!0,subfields:[{id:"species",label:"Species",type:"ontology-search",ontology:"CHEBI",placeholder:"e.g., CHEBI:29101 (Na+)",validatePattern:/^CHEBI:\d+$/},{id:"compartment",label:"Compartment",type:"ontology-search",ontology:"GO",placeholder:"e.g., GO:0005615 (extracellular space)",validatePattern:/^GO:\d{7}$/}]},{id:"target",label:"Target",type:"composite",required:!0,subfields:[{id:"species",label:"Species",type:"ontology-search",ontology:"CHEBI",placeholder:"e.g., CHEBI:29101 (Na+)",validatePattern:/^CHEBI:\d+$/},{id:"compartment",label:"Compartment",type:"ontology-search",ontology:"GO",placeholder:"e.g., GO:0005829 (cytosol)",validatePattern:/^GO:\d{7}$/}]},{id:"physicalProperty",label:"Physical Property (OPB)",type:"ontology-search",required:!0,ontology:"OPB",placeholder:"e.g., OPB:00506 (electrical potential difference)",validatePattern:/^OPB:\d+$/}]}},Cp={Quantities:{displayName:"Fluid Quantity",description:"For volumes and fluid amounts",domain:"Fluid dynamics",qualifier:"bqbiol:isPropertyOf",fields:[{id:"fluid",label:"Portion of Body Fluid",type:"ontology-search",required:!0,ontology:"FMA",placeholder:"e.g., FMA:280556 (portion of body fluid)",helpText:"Search FMA for body fluid types",searchUrl:"https://bioportal.bioontology.org/ontologies/FMA?p=classes&conceptid=",validatePattern:/^FMA:\d+$/},{id:"compartment",label:"Compartment/Location",type:"ontology-search",required:!0,ontology:"FMA/UBERON",placeholder:"e.g., FMA:7088 (blood vessel)",helpText:"Search FMA or UBERON for anatomical structures",searchUrl:"https://bioportal.bioontology.org/ontologies/FMA?p=classes&conceptid=",validatePattern:/^(FMA:\d+|UBERON:\d{7})$/},{id:"physicalProperty",label:"Physical Property (OPB)",type:"ontology-search",required:!0,ontology:"OPB",placeholder:"e.g., OPB:00154 (volume)",validatePattern:/^OPB:\d+$/,commonTerms:[{id:"OPB:00154",label:"volume"},{id:"OPB:00340",label:"amount of substance"}]}]},"Flow rates":{displayName:"Fluid Flow Rate",description:"For fluid flows and transport",domain:"Fluid dynamics",qualifier:"bqbiol:isPropertyOf",fields:[{id:"source",label:"Source",type:"composite",required:!0,subfields:[{id:"fluid",label:"Fluid Type",type:"ontology-search",ontology:"FMA",placeholder:"e.g., FMA:9670 (blood)",validatePattern:/^FMA:\d+$/},{id:"compartment",label:"Compartment",type:"ontology-search",ontology:"FMA/UBERON",placeholder:"e.g., FMA:50723 (artery)",validatePattern:/^(FMA:\d+|UBERON:\d{7})$/},{id:"multiplier",label:"Multiplier",type:"number",placeholder:"e.g., 1",defaultValue:1}]},{id:"sink",label:"Sink",type:"composite",required:!0,subfields:[{id:"fluid",label:"Fluid Type",type:"ontology-search",ontology:"FMA",placeholder:"e.g., FMA:9670 (blood)",validatePattern:/^FMA:\d+$/},{id:"compartment",label:"Compartment",type:"ontology-search",ontology:"FMA/UBERON",placeholder:"e.g., FMA:50724 (vein)",validatePattern:/^(FMA:\d+|UBERON:\d{7})$/},{id:"multiplier",label:"Multiplier",type:"number",placeholder:"e.g., 1",defaultValue:1}]},{id:"mediator",label:"Mediator (Optional)",type:"composite",required:!1,subfields:[{id:"protein",label:"Protein/Structure",type:"ontology-search",ontology:"PR/FMA",placeholder:"e.g., PR:000001234 or FMA term",validatePattern:/^(PR:\d+|FMA:\d+)$/},{id:"compartment",label:"Compartment",type:"ontology-search",ontology:"FMA/UBERON",placeholder:"e.g., FMA:63842 (endothelium)",validatePattern:/^(FMA:\d+|UBERON:\d{7})$/}]},{id:"physicalProperty",label:"Physical Property (OPB)",type:"ontology-search",required:!0,ontology:"OPB",placeholder:"e.g., OPB:00593 (fluid flow rate)",validatePattern:/^OPB:\d+$/,commonTerms:[{id:"OPB:00593",label:"fluid flow rate"},{id:"OPB:01358",label:"volumetric flow rate"}]}]},Efforts:{displayName:"Fluid Pressure/Force",description:"For pressures and mechanical forces",domain:"Fluid dynamics",qualifier:"bqbiol:isPropertyOf",fields:[{id:"source",label:"Source Location",type:"composite",required:!0,subfields:[{id:"location",label:"Anatomical Location",type:"ontology-search",ontology:"FMA/UBERON",placeholder:"e.g., FMA:50723 (artery)",validatePattern:/^(FMA:\d+|UBERON:\d{7})$/}]},{id:"target",label:"Target Location",type:"composite",required:!0,subfields:[{id:"location",label:"Anatomical Location",type:"ontology-search",ontology:"FMA/UBERON",placeholder:"e.g., FMA:50724 (vein)",validatePattern:/^(FMA:\d+|UBERON:\d{7})$/}]},{id:"physicalProperty",label:"Physical Property (OPB)",type:"ontology-search",required:!0,ontology:"OPB",placeholder:"e.g., OPB:00509 (pressure)",validatePattern:/^OPB:\d+$/,commonTerms:[{id:"OPB:00509",label:"pressure"},{id:"OPB:01492",label:"pressure difference"}]}]}};function si(e){if(e===null||typeof e!="object")return e;if(e instanceof RegExp)return new RegExp(e.source,e.flags);if(Array.isArray(e))return e.map(o=>si(o));const r={};for(const o in e)e.hasOwnProperty(o)&&(r[o]=si(e[o]));return r}function Op(e,r,o){if(console.log("Getting template for:",{domain:e,annotationType:r}),!r)return null;let s;e==="Biochemistry"?s=js:e==="Fluid dynamics"?s=Cp:(console.warn("Unknown domain, using Biochemistry templates"),s=js);const l=s[r];if(!l)return console.error(`No template found for annotationType: ${r}`),null;const c=si(l);return o&&tl(c.fields,o),console.log("Selected template:",c.displayName),c}function tl(e,r){e.forEach(o=>{if(o.type==="composite"&&o.subfields)tl(o.subfields,r);else if(o.type==="ontology-search"&&o.ontology){const s=o.ontology.split("/");let l=[];s.forEach(c=>{const p=c.trim(),m=r[p]||r[p.toUpperCase()];m&&m.commonTerms&&(l=l.concat(m.commonTerms))}),l.length>0&&(o.commonTerms=l,console.log(`Injected ${l.length} terms for ${o.ontology}`))}})}const bn=(e,r)=>{const o=e.__vccOpts||e;for(const[s,l]of r)o[s]=l;return o},Ap={class:"ontology-search-input"},Fp={class:"input-with-button"},kp=["value","placeholder"],$p=["href"],Rp={key:0,class:"common-terms"},Mp={class:"terms-list"},xp=["onClick"],Ip={key:1,class:"format-error"},Np={__name:"OntologySearchInput",props:{field:Object,modelValue:String},emits:["update:model-value"],setup(e,{emit:r}){const o=e,s=r,l=De(!1),c=De(""),p=_=>{c.value="",s("update:model-value",_.target.value)},m=()=>{o.modelValue&&o.field.validatePattern&&(o.field.validatePattern instanceof RegExp?o.field.validatePattern.test(o.modelValue)||(c.value=`Invalid format for ${o.field.ontology} term (expected: ${o.field.validatePattern.source})`):(console.warn("validatePattern is not a RegExp:",o.field.validatePattern),c.value=`Invalid format for ${o.field.ontology} term`))},g=_=>{s("update:model-value",_.id),l.value=!1,c.value=""},E=()=>o.field.searchUrl+o.modelValue;return(_,T)=>(ie(),le("div",Ap,[S("div",Fp,[S("input",{value:e.modelValue,type:"text",placeholder:e.field.placeholder,onInput:p,onBlur:m},null,40,kp),e.field.searchUrl&&e.modelValue?(ie(),le("a",{key:0,href:E(),target:"_blank",class:"search-link",title:"Search in ontology database"},"  ",8,$p)):Ie("",!0)]),e.field.commonTerms?(ie(),le("div",Rp,[S("button",{type:"button",onClick:T[0]||(T[0]=x=>l.value=!l.value),class:"toggle-common"},ae(l.value?"Hide":"Show")+" common terms ",1),ur(S("div",Mp,[(ie(!0),le(je,null,vt(e.field.commonTerms,x=>(ie(),le("button",{key:x.id,type:"button",onClick:O=>g(x),class:"term-button"},ae(x.id)+" - "+ae(x.label),9,xp))),128))],512),[[Za,l.value]])])):Ie("",!0),c.value?(ie(),le("p",Ip,ae(c.value),1)):Ie("",!0)]))}},Up=bn(Np,[["__scopeId","data-v-0677a37a"]]),Dp=["for"],Lp={key:0,class:"required-indicator"},Bp={key:0,class:"help-text"},jp=["id","value","placeholder"],Vp=["id","value","placeholder"],Hp={key:4,class:"composite-field"},Gp={__name:"FormField",props:{field:Object,modelValue:[String,Number,Object]},emits:["update:model-value"],setup(e,{emit:r}){const o=e,s=r,l=m=>{const g=o.field.type==="number"?parseFloat(m.target.value):m.target.value;s("update:model-value",g)},c=m=>{s("update:model-value",m)},p=(m,g)=>{const E={...o.modelValue||{}};E[m]=g,s("update:model-value",E)};return(m,g)=>{const E=Ud("FormField",!0);return ie(),le("div",{class:Tt(["form-field",{required:e.field.required}])},[S("label",{for:e.field.id},[jt(ae(e.field.label)+" ",1),e.field.required?(ie(),le("span",Lp,"*")):Ie("",!0)],8,Dp),e.field.helpText?(ie(),le("p",Bp,ae(e.field.helpText),1)):Ie("",!0),e.field.type==="text"?(ie(),le("input",{key:1,id:e.field.id,value:e.modelValue,type:"text",placeholder:e.field.placeholder,onInput:l},null,40,jp)):e.field.type==="number"?(ie(),le("input",{key:2,id:e.field.id,value:e.modelValue,type:"number",placeholder:e.field.placeholder,onInput:l},null,40,Vp)):e.field.type==="ontology-search"?(ie(),Yt(Up,{key:3,field:e.field,"model-value":e.modelValue,"onUpdate:modelValue":c},null,8,["field","model-value"])):e.field.type==="composite"?(ie(),le("div",Hp,[(ie(!0),le(je,null,vt(e.field.subfields,_=>(ie(),Yt(E,{key:_.id,field:_,"model-value":e.modelValue?.[_.id]||"","onUpdate:modelValue":T=>p(_.id,T)},null,8,["field","model-value","onUpdate:modelValue"]))),128))])):Ie("",!0)],2)}}},Wp=bn(Gp,[["__scopeId","data-v-c96d9012"]]),qp={class:"dynamic-annotation-form"},zp={key:0,class:"no-annotation-needed"},Kp={class:"info-message"},Yp={key:0},Qp={key:1},Jp={key:2},Xp={key:3},Zp={key:1,class:"annotation-form-content"},eh={class:"form-header"},th={class:"auto-detected-info"},rh={class:"info-badge category"},nh={class:"info-badge domain"},oh={class:"info-badge units"},ih={class:"form-body"},sh={key:0,class:"validation-errors"},ah={__name:"DynamicAnnotationForm",props:{selectedVariable:Object,variableCategory:String,userOntologies:Object},emits:["annotation-added"],setup(e,{emit:r}){const o=e,s=r,l=De({}),c=De([]),p=kt(()=>o.selectedVariable?.annotationType!==null&&o.selectedVariable?.annotationType!==void 0),m=kt(()=>{if(!p.value)return null;const x=o.selectedVariable?.domain||"Biochemistry",O=o.selectedVariable?.annotationType;return console.log("Auto-selecting template for:",{domain:x,annotationType:O}),Op(x,O,o.userOntologies)}),g=()=>{const x=m.value;if(!x){console.error("No template found");return}const O={};x.fields.forEach(A=>{A.type==="composite"?(O[A.id]={},A.subfields.forEach(K=>{O[A.id][K.id]=K.defaultValue||""})):O[A.id]=A.defaultValue||""}),l.value=O,console.log("Initialized form data:",l.value)},E=(x,O)=>{console.log("Updating field:",x,"with value:",O),l.value[x]=O},_=()=>{c.value=[];const x=m.value;if(x)if(console.log("Validating form data:",l.value),x.fields.forEach(O=>{if(O.required&&(O.type==="composite"?O.subfields.forEach(A=>{A.required&&!l.value[O.id]?.[A.id]&&c.value.push(`${O.label} - ${A.label} is required`)}):l.value[O.id]||c.value.push(`${O.label} is required`)),O.type==="composite")O.subfields.forEach(A=>{const K=l.value[O.id]?.[A.id];K&&A.validatePattern&&(A.validatePattern instanceof RegExp?A.validatePattern.test(K)||c.value.push(`${O.label} - ${A.label} has invalid format (expected pattern: ${A.validatePattern.source})`):console.warn(`validatePattern for ${A.label} is not a RegExp:`,A.validatePattern))});else{const A=l.value[O.id];A&&O.validatePattern&&(O.validatePattern instanceof RegExp?O.validatePattern.test(A)||c.value.push(`${O.label} has invalid format (expected pattern: ${O.validatePattern.source})`):console.warn(`validatePattern for ${O.label} is not a RegExp:`,O.validatePattern))}}),c.value.length===0){const O={type:o.variableCategory,domain:o.selectedVariable?.domain,qualifier:x.qualifier,data:{...l.value},variable:o.selectedVariable};console.log("Submitting annotation:",O),s("annotation-added",O),T()}else console.log("Validation errors:",c.value)},T=()=>{g(),c.value=[]};return cn(()=>o.selectedVariable,()=>{g(),c.value=[]},{immediate:!0}),mo(()=>{g()}),(x,O)=>(ie(),le("div",qp,[p.value?(ie(),le("div",Zp,[S("div",eh,[S("h3",null,ae(m.value.displayName),1),S("p",null,ae(m.value.description),1),S("div",th,[S("span",rh,ae(e.selectedVariable.annotationType),1),S("span",nh,ae(e.selectedVariable.domain),1),S("span",oh,"Units: "+ae(e.selectedVariable.units),1)])]),S("div",ih,[(ie(!0),le(je,null,vt(m.value.fields,A=>(ie(),Yt(Wp,{key:A.id,field:A,"model-value":l.value[A.id],"onUpdate:modelValue":K=>E(A.id,K)},null,8,["field","model-value","onUpdate:modelValue"]))),128))]),S("div",{class:"form-actions"},[S("button",{type:"button",onClick:_,class:"btn btn-primary"}," Add Annotation "),S("button",{type:"button",onClick:T,class:"btn btn-secondary"}," Clear Form ")]),c.value.length?(ie(),le("div",sh,[O[2]||(O[2]=S("h4",null,"Please fix the following errors:",-1)),S("ul",null,[(ie(!0),le(je,null,vt(c.value,(A,K)=>(ie(),le("li",{key:K},ae(A),1))),128))])])):Ie("",!0)])):(ie(),le("div",zp,[S("div",Kp,[O[0]||(O[0]=S("h4",null," No Semantic Annotation Required",-1)),S("p",null,'Variables with units "'+ae(e.selectedVariable.units)+'" ('+ae(e.variableCategory)+") typically don't require semantic annotations.",1),O[1]||(O[1]=S("p",null,"This is usually used for:",-1)),S("ul",null,[e.variableCategory==="Temporal"?(ie(),le("li",Yp,"Time measurements and temporal properties")):Ie("",!0),e.variableCategory==="Thermodynamic"?(ie(),le("li",Qp,"Basic thermodynamic properties")):Ie("",!0),e.variableCategory==="Quantities"?(ie(),le("li",Jp,"Geometric dimensions (length, area, mass)")):Ie("",!0),e.variableCategory==="Flow rates"?(ie(),le("li",Xp,"Velocity and kinematic properties")):Ie("",!0)])])]))]))}},lh=bn(ah,[["__scopeId","data-v-9ea7c61c"]]),ch={class:"annotations-list"},uh={class:"annotation-key"},dh={__name:"AnnotationList",props:{annotations:Array},setup(e){return(r,o)=>(ie(),le("div",null,[o[0]||(o[0]=S("h4",null,"Current Annotations",-1)),S("div",ch,[(ie(!0),le(je,null,vt(e.annotations,(s,l)=>(ie(),le("div",{key:l,class:"annotation-item"},[S("span",uh,ae(s.key)+":",1),jt(" "+ae(s.value),1)]))),128))])]))}},fh={__name:"MessageDisplay",props:{message:Object},setup(e){return(r,o)=>e.message.text?(ie(),le("div",{key:0,class:Tt(e.message.type)},ae(e.message.text),3)):Ie("",!0)}},Sr={OPB:{name:"Ontology of Physics for Biology",terms:[{id:"OPB:00425",label:"chemical concentration"},{id:"OPB:00340",label:"amount of substance"},{id:"OPB:00523",label:"charge density"},{id:"OPB:00592",label:"chemical flux"},{id:"OPB:00593",label:"fluid flow rate"},{id:"OPB:01358",label:"volumetric flow rate"},{id:"OPB:00506",label:"electrical potential difference"},{id:"OPB:00378",label:"chemical potential"},{id:"OPB:00509",label:"pressure"},{id:"OPB:01492",label:"pressure difference"},{id:"OPB:00154",label:"volume"}]},GO:{name:"Gene Ontology (Cellular Component)",terms:[{id:"GO:0005886",label:"plasma membrane"},{id:"GO:0005829",label:"cytosol"},{id:"GO:0005739",label:"mitochondrion"},{id:"GO:0005783",label:"endoplasmic reticulum"},{id:"GO:0005634",label:"nucleus"},{id:"GO:0005615",label:"extracellular space"},{id:"GO:0005768",label:"endosome"},{id:"GO:0005764",label:"lysosome"},{id:"GO:0005840",label:"ribosome"},{id:"GO:0005856",label:"cytoskeleton"},{id:"GO:0005874",label:"microtubule"},{id:"GO:0005884",label:"actin filament"},{id:"GO:0005882",label:"intermediate filament"},{id:"GO:0031012",label:"extracellular matrix"}]},CHEBI:{name:"Chemical Entities of Biological Interest",terms:[{id:"CHEBI:29101",label:"Na+"},{id:"CHEBI:29103",label:"K+"},{id:"CHEBI:29108",label:"Ca2+"},{id:"CHEBI:18420",label:"Mg2+"},{id:"CHEBI:15378",label:"H+"},{id:"CHEBI:17996",label:"Cl-"},{id:"CHEBI:24870",label:"ion"},{id:"CHEBI:456216",label:"ADP(3)"},{id:"CHEBI:30616",label:"ATP(4)"},{id:"CHEBI:18367",label:"phosphate(3)"},{id:"CHEBI:17234",label:"glucose"},{id:"CHEBI:17925",label:"lactate"},{id:"CHEBI:16236",label:"ethanol"},{id:"CHEBI:15377",label:"water"},{id:"CHEBI:29985",label:"glutamate"},{id:"CHEBI:16038",label:"pyruvate"}]},PR:{name:"Protein Ontology",terms:[{id:"PR:000007235",label:"GLUT2 (glucose transporter)"},{id:"PR:000001195",label:"SGLT1 (sodium-glucose transporter)"},{id:"PR:000015665",label:"Na+/K+ ATPase"},{id:"PR:000001625",label:"Ca2+ ATPase"},{id:"PR:000001923",label:"voltage-gated sodium channel"},{id:"PR:000002066",label:"voltage-gated potassium channel"},{id:"PR:000001967",label:"voltage-gated calcium channel"}]},UNIPROT:{name:"UniProt",terms:[{id:"P14672",label:"SLC2A2 (GLUT2)"},{id:"P13866",label:"SLC5A1 (SGLT1)"},{id:"P05023",label:"ATP1A1 (Na+/K+ ATPase alpha-1)"},{id:"P20020",label:"ATP2B1 (Plasma membrane Ca2+ ATPase)"}]},GO_BP:{name:"Gene Ontology (Biological Process)",terms:[{id:"GO:0006810",label:"transport"},{id:"GO:0055085",label:"transmembrane transport"},{id:"GO:0015992",label:"proton transport"},{id:"GO:0006814",label:"sodium ion transport"},{id:"GO:0006813",label:"potassium ion transport"},{id:"GO:0006816",label:"calcium ion transport"},{id:"GO:0046323",label:"glucose import"},{id:"GO:0015749",label:"monosaccharide transport"},{id:"GO:0006096",label:"glycolysis"},{id:"GO:0006006",label:"glucose metabolic process"},{id:"GO:0015031",label:"protein transport"},{id:"GO:0006412",label:"translation"}]},SBO:{name:"Systems Biology Ontology",terms:[{id:"SBO:0000185",label:"transport reaction"},{id:"SBO:0000655",label:"passive transport"},{id:"SBO:0000657",label:"active transport"},{id:"SBO:0000659",label:"facilitated diffusion"}]},CL:{name:"Cell Ontology",terms:[{id:"CL:0000182",label:"hepatocyte"},{id:"CL:0000746",label:"cardiac muscle cell"},{id:"CL:0000187",label:"muscle cell"},{id:"CL:0000540",label:"neuron"},{id:"CL:0000115",label:"endothelial cell"},{id:"CL:0000235",label:"macrophage"},{id:"CL:0000236",label:"B cell"},{id:"CL:0000084",label:"T cell"}]},UBERON:{name:"Uberon",terms:[{id:"UBERON:0000178",label:"blood"},{id:"UBERON:0001981",label:"blood vessel"},{id:"UBERON:0001637",label:"artery"},{id:"UBERON:0001638",label:"vein"},{id:"UBERON:0000948",label:"heart"},{id:"UBERON:0002107",label:"liver"}]},FMA:{name:"Foundational Model of Anatomy",terms:[{id:"FMA:9670",label:"blood"},{id:"FMA:280556",label:"portion of body fluid"},{id:"FMA:50723",label:"artery"},{id:"FMA:50724",label:"vein"},{id:"FMA:63842",label:"endothelium"},{id:"FMA:7088",label:"blood vessel"},{id:"FMA:7197",label:"heart"},{id:"FMA:7195",label:"liver"},{id:"FMA:7203",label:"kidney"}]}},ph={class:"ontology-selector-modal"},hh={key:0,class:"step-content"},mh={key:0,class:"model-analysis"},vh={class:"stats-grid"},gh={class:"stat-item"},yh={class:"stat-value"},_h={class:"stat-item"},bh={class:"stat-value"},wh={class:"stat-item"},Eh={class:"stat-value"},Th={class:"ontology-sections"},Ph={key:0,class:"ontology-section"},Sh=["checked"],Ch={class:"ontology-list"},Oh=["id","value"],Ah=["for"],Fh={class:"ontology-info"},kh={class:"ontology-abbr"},$h={class:"ontology-description"},Rh={class:"ontology-usage"},Mh={class:"usage-tag"},xh={key:1,class:"ontology-section"},Ih=["checked"],Nh={class:"ontology-list"},Uh=["id","value"],Dh=["for"],Lh={class:"ontology-info"},Bh={class:"ontology-abbr"},jh={class:"ontology-description"},Vh={class:"ontology-usage"},Hh={class:"usage-tag"},Gh={class:"ontology-section"},Wh=["checked"],qh={class:"ontology-list"},zh=["id","value"],Kh=["for"],Yh={class:"ontology-info"},Qh={class:"ontology-abbr"},Jh={class:"ontology-description"},Xh={class:"ontology-usage"},Zh={class:"usage-tag"},em={class:"modal-actions"},tm=["disabled"],rm={key:1,class:"step-content"},nm={class:"terms-selection-container"},om={class:"ontology-terms-header"},im=["id","checked","onChange"],sm=["for"],am={class:"selected-count"},lm={class:"terms-search"},cm=["placeholder","onUpdate:modelValue"],um={class:"terms-grid-simple"},dm=["id","value"],fm=["for"],pm={class:"term-id"},hm={class:"term-label"},mm={class:"modal-actions"},vm={__name:"OntologySelector",props:{modelStats:Object},emits:["ontologies-selected"],setup(e,{emit:r}){const o=e,s=r,l=De(1),c=De([]),p=De([]),m=De({}),g=[{id:"CHEBI",name:"Chemical Entities of Biological Interest",description:"For atoms, small molecules, and metabolites",usage:"Species/Molecules",searchUrl:"https://www.ebi.ac.uk/chebi/"},{id:"GO",name:"Gene Ontology (Cellular Component)",description:"For cellular compartments and subcellular structures",usage:"Compartments",searchUrl:"https://www.ebi.ac.uk/QuickGO/"},{id:"GO_BP",name:"Gene Ontology (Biological Process)",description:"For biological processes and molecular activities",usage:"Bioprocesses/Activities",searchUrl:"https://www.ebi.ac.uk/QuickGO/"},{id:"PR",name:"Protein Ontology",description:"For protein entities",usage:"Proteins/Mediators",searchUrl:"https://www.ebi.ac.uk/ols4/ontologies/pr"},{id:"UNIPROT",name:"UniProt",description:"Comprehensive protein database",usage:"Proteins/Mediators",searchUrl:"https://www.uniprot.org/"},{id:"CL",name:"Cell Ontology",description:"For cell types",usage:"Cell Types",searchUrl:"https://www.ebi.ac.uk/ols4/ontologies/cl"},{id:"SBO",name:"Systems Biology Ontology",description:"For modeling and simulation concepts",usage:"Process Types",searchUrl:"https://www.ebi.ac.uk/ols4/ontologies/sbo"}],E=[{id:"FMA",name:"Foundational Model of Anatomy",description:"For human anatomical structures (tissue scale and higher)",usage:"Anatomical Structures/Fluids",searchUrl:"https://bioportal.bioontology.org/ontologies/FMA"},{id:"UBERON",name:"Uberon",description:"Cross-species anatomy ontology",usage:"Anatomical Structures",searchUrl:"https://www.ebi.ac.uk/ols4/ontologies/uberon"}],_=[{id:"OPB",name:"Ontology of Physics for Biology",description:"For physical properties and processes",usage:"Physical Properties (Required)",searchUrl:"https://bioportal.bioontology.org/ontologies/OPB"}],T=()=>{l.value===2||c.value.length>0?confirm("Are you sure you want to close? Your selection will be lost.")&&s("close"):s("close")},x=()=>{T()},O=kt(()=>g.every(M=>c.value.includes(M.id))),A=kt(()=>E.every(M=>c.value.includes(M.id))),K=kt(()=>_.every(M=>c.value.includes(M.id))),Q=M=>{const F=g.map(I=>I.id);M.target.checked?F.forEach(I=>{c.value.includes(I)||c.value.push(I)}):c.value=c.value.filter(I=>!F.includes(I))},$=M=>{const F=E.map(I=>I.id);M.target.checked?F.forEach(I=>{c.value.includes(I)||c.value.push(I)}):c.value=c.value.filter(I=>!F.includes(I))},G=M=>{const F=_.map(I=>I.id);M.target.checked?F.forEach(I=>{c.value.includes(I)||c.value.push(I)}):c.value=c.value.filter(I=>!F.includes(I))},Y=()=>{c.value=["OPB"],o.modelStats.biochemistryCount>0&&c.value.push("CHEBI","GO","GO_BP","PR","UNIPROT"),o.modelStats.fluidDynamicsCount>0&&c.value.push("FMA","UBERON")},V=()=>{l.value=2},q=M=>Sr[M],re=M=>p.value.includes(M),ee=M=>{const F=Sr[M];if(!F)return 0;const I=F.terms.map(de=>de.id);return p.value.filter(de=>I.includes(de)).length},fe=M=>{const F=Sr[M];return F?F.terms.map(de=>de.id).every(de=>p.value.includes(de)):!1},ue=(M,F)=>{const I=Sr[M];if(!I)return;const de=I.terms.map(U=>U.id);F.target.checked?de.forEach(U=>{p.value.includes(U)||p.value.push(U)}):p.value=p.value.filter(U=>!de.includes(U))},oe=()=>{const M=[...g,...E,..._],F={};c.value.forEach(I=>{const de=M.find(Ze=>Ze.id===I),U=Sr[I],te=U?.terms.map(Ze=>Ze.id)||[],it=p.value.filter(Ze=>te.includes(Ze)).map(Ze=>U.terms.find(_t=>_t.id===Ze)).filter(Boolean);F[I]={...de,commonTerms:it}}),console.log("Final ontology config:",F),s("ontologies-selected",F)},P=M=>{const F=Sr[M];if(!F)return[];const I=m.value[M]?.toLowerCase()||"";return I?F.terms.filter(de=>de.id.toLowerCase().includes(I)||de.label.toLowerCase().includes(I)):F.terms};return(M,F)=>(ie(),le("div",{class:"ontology-selector-overlay",onClick:tp(x,["self"])},[S("div",ph,[S("button",{class:"close-button",onClick:T,title:"Close"},"  "),l.value===1?(ie(),le("div",hh,[F[12]||(F[12]=Ss('<div class="modal-header" data-v-58e97a1d><div class="step-indicator" data-v-58e97a1d><span class="step active" data-v-58e97a1d>1</span><span class="step-line" data-v-58e97a1d></span><span class="step" data-v-58e97a1d>2</span></div><h2 data-v-58e97a1d>Step 1: Select Ontologies</h2><p data-v-58e97a1d>Choose the ontologies you&#39;ll use for annotating this model.</p></div>',1)),e.modelStats?(ie(),le("div",mh,[F[8]||(F[8]=S("h3",null,"Model Analysis",-1)),S("div",vh,[S("div",gh,[F[5]||(F[5]=S("span",{class:"stat-label"},"Total Variables:",-1)),S("span",yh,ae(e.modelStats.totalVariables),1)]),S("div",_h,[F[6]||(F[6]=S("span",{class:"stat-label"},"Biochemistry Variables:",-1)),S("span",bh,ae(e.modelStats.biochemistryCount),1)]),S("div",wh,[F[7]||(F[7]=S("span",{class:"stat-label"},"Fluid Dynamics Variables:",-1)),S("span",Eh,ae(e.modelStats.fluidDynamicsCount),1)])])])):Ie("",!0),S("div",Th,[e.modelStats&&e.modelStats.biochemistryCount>0?(ie(),le("div",Ph,[S("h3",null,[S("input",{type:"checkbox",id:"select-all-biochem",checked:O.value,onChange:Q},null,40,Sh),F[9]||(F[9]=S("label",{for:"select-all-biochem"},"Biochemistry Ontologies",-1))]),S("div",Ch,[(ie(),le(je,null,vt(g,I=>S("div",{key:I.id,class:Tt(["ontology-item",{selected:c.value.includes(I.id)}])},[ur(S("input",{type:"checkbox",id:I.id,value:I.id,"onUpdate:modelValue":F[0]||(F[0]=de=>c.value=de)},null,8,Oh),[[jn,c.value]]),S("label",{for:I.id},[S("div",Fh,[S("strong",null,ae(I.name),1),S("span",kh,"("+ae(I.id)+")",1)]),S("p",$h,ae(I.description),1),S("div",Rh,[S("span",Mh,ae(I.usage),1)])],8,Ah)],2)),64))])])):Ie("",!0),e.modelStats&&e.modelStats.fluidDynamicsCount>0?(ie(),le("div",xh,[S("h3",null,[S("input",{type:"checkbox",id:"select-all-fluid",checked:A.value,onChange:$},null,40,Ih),F[10]||(F[10]=S("label",{for:"select-all-fluid"},"Fluid Dynamics Ontologies",-1))]),S("div",Nh,[(ie(),le(je,null,vt(E,I=>S("div",{key:I.id,class:Tt(["ontology-item",{selected:c.value.includes(I.id)}])},[ur(S("input",{type:"checkbox",id:I.id,value:I.id,"onUpdate:modelValue":F[1]||(F[1]=de=>c.value=de)},null,8,Uh),[[jn,c.value]]),S("label",{for:I.id},[S("div",Lh,[S("strong",null,ae(I.name),1),S("span",Bh,"("+ae(I.id)+")",1)]),S("p",jh,ae(I.description),1),S("div",Vh,[S("span",Hh,ae(I.usage),1)])],8,Dh)],2)),64))])])):Ie("",!0),S("div",Gh,[S("h3",null,[S("input",{type:"checkbox",id:"select-all-common",checked:K.value,onChange:G},null,40,Wh),F[11]||(F[11]=S("label",{for:"select-all-common"},"Common Ontologies (Required)",-1))]),S("div",qh,[(ie(),le(je,null,vt(_,I=>S("div",{key:I.id,class:Tt(["ontology-item",{selected:c.value.includes(I.id)}])},[ur(S("input",{type:"checkbox",id:I.id,value:I.id,"onUpdate:modelValue":F[2]||(F[2]=de=>c.value=de)},null,8,zh),[[jn,c.value]]),S("label",{for:I.id},[S("div",Yh,[S("strong",null,ae(I.name),1),S("span",Qh,"("+ae(I.id)+")",1)]),S("p",Jh,ae(I.description),1),S("div",Xh,[S("span",Zh,ae(I.usage),1)])],8,Kh)],2)),64))])])]),S("div",em,[S("button",{onClick:V,class:"btn btn-primary",disabled:c.value.length===0}," Next: Select Terms ("+ae(c.value.length)+" ontolog"+ae(c.value.length===1?"y":"ies")+") ",9,tm),S("button",{onClick:Y,class:"btn btn-secondary"}," Use Recommended Selection ")])])):l.value===2?(ie(),le("div",rm,[F[13]||(F[13]=Ss('<div class="modal-header" data-v-58e97a1d><div class="step-indicator" data-v-58e97a1d><span class="step completed" data-v-58e97a1d></span><span class="step-line" data-v-58e97a1d></span><span class="step active" data-v-58e97a1d>2</span></div><h2 data-v-58e97a1d>Step 2: Select Common Terms</h2><p data-v-58e97a1d>Choose the specific terms you&#39;ll use from each ontology. This will make annotation faster.</p></div>',1)),S("div",nm,[(ie(!0),le(je,null,vt(c.value,I=>(ie(),le("div",{key:I,class:"ontology-terms-section"},[S("div",om,[S("h3",null,[S("input",{type:"checkbox",id:`select-all-${I}`,checked:fe(I),onChange:de=>ue(I,de)},null,40,im),S("label",{for:`select-all-${I}`},ae(q(I)?.name||I),9,sm)]),S("span",am,ae(ee(I))+" / "+ae(q(I)?.terms.length||0)+" selected ",1)]),S("div",lm,[ur(S("input",{type:"text",placeholder:`Search ${q(I)?.name||""} terms...`,"onUpdate:modelValue":de=>m.value[I]=de,class:"search-input"},null,8,cm),[[Jf,m.value[I]]])]),S("div",um,[(ie(!0),le(je,null,vt(P(I),de=>(ie(),le("div",{key:de.id,class:Tt(["term-item",{selected:re(de.id)}])},[ur(S("input",{type:"checkbox",id:de.id,value:de.id,"onUpdate:modelValue":F[3]||(F[3]=U=>p.value=U)},null,8,dm),[[jn,p.value]]),S("label",{for:de.id},[S("span",pm,ae(de.id),1),S("span",hm,ae(de.label),1)],8,fm)],2))),128))])]))),128))]),S("div",mm,[S("button",{onClick:F[4]||(F[4]=I=>l.value=1),class:"btn btn-secondary"},"  Back to Ontologies "),S("button",{onClick:oe,class:"btn btn-primary"}," Complete Setup ("+ae(p.value.length)+" terms selected) ",1)])])):Ie("",!0)])]))}},gm=bn(vm,[["__scopeId","data-v-58e97a1d"]]),ym="modulepreload",_m=function(e){return"/modelAnnotatorWeb/"+e},Vs={},bm=function(r,o,s){let l=Promise.resolve();if(o&&o.length>0){let g=function(E){return Promise.all(E.map(_=>Promise.resolve(_).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),m=p?.nonce||p?.getAttribute("nonce");l=g(o.map(E=>{if(E=_m(E),E in Vs)return;Vs[E]=!0;const _=E.endsWith(".css"),T=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${T}`))return;const x=document.createElement("link");if(x.rel=_?"stylesheet":ym,_||(x.as="script"),x.crossOrigin="",x.href=E,m&&x.setAttribute("nonce",m),document.head.appendChild(x),_)return new Promise((O,A)=>{x.addEventListener("load",O),x.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${E}`)))})}))}function c(p){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=p,window.dispatchEvent(m),!m.defaultPrevented)throw p}return l.then(p=>{for(const m of p||[])m.status==="rejected"&&c(m.reason);return r().catch(c)})};var wm=(()=>{var e=import.meta.url;return(async function(r={}){var o,s=r,l,c,p=new Promise((t,n)=>{l=t,c=n});["_memory","___indirect_function_table","onRuntimeInitialized"].forEach(t=>{Object.getOwnPropertyDescriptor(p,t)||Object.defineProperty(p,t,{get:()=>D("You are getting "+t+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>D("You are setting "+t+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})});var m=typeof window=="object",g=typeof importScripts=="function",E=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer",_=!m&&!E&&!g;if(E){const{createRequire:t}=await bm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let n=import.meta.url;n.startsWith("data:")&&(n="/");var T=t(n)}var x=Object.assign({},s),O="./this.program",A="";function K(t){return s.locateFile?s.locateFile(t,A):A+t}var Q,$;if(E){if(typeof process>"u"||!process.release||process.release.name!=="node")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var G=process.versions.node,Y=G.split(".").slice(0,3);if(Y=Y[0]*1e4+Y[1]*100+Y[2].split("-")[0]*1,Y<16e4)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+G+")");var V=T("fs"),q=T("path");import.meta.url.startsWith("data:")||(A=q.dirname(T("url").fileURLToPath(import.meta.url))+"/"),$=t=>{t=Z(t)?new URL(t):q.normalize(t);var n=V.readFileSync(t);return P(n.buffer),n},Q=(t,n=!0)=>(t=Z(t)?new URL(t):q.normalize(t),new Promise((i,a)=>{V.readFile(t,n?void 0:"utf8",(u,f)=>{u?a(u):i(n?f.buffer:f)})})),!s.thisProgram&&process.argv.length>1&&(O=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2)}else if(_){if(typeof process=="object"&&typeof T=="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)")}else if(m||g){if(g?A=self.location.href:typeof document<"u"&&document.currentScript&&(A=document.currentScript.src),e&&(A=e),A.startsWith("blob:")?A="":A=A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1),!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");g&&($=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),Q=t=>Z(t)?new Promise((n,i)=>{var a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType="arraybuffer",a.onload=()=>{if(a.status==200||a.status==0&&a.response){n(a.response);return}i(a.status)},a.onerror=i,a.send(null)}):fetch(t,{credentials:"same-origin"}).then(n=>n.ok?n.arrayBuffer():Promise.reject(new Error(n.status+" : "+n.url)))}else throw new Error("environment detection error");var re=s.print||console.log.bind(console),ee=s.printErr||console.error.bind(console);Object.assign(s,x),x=null,wu(),s.arguments&&s.arguments,Be("arguments","arguments_"),s.thisProgram&&(O=s.thisProgram),Be("thisProgram","thisProgram"),P(typeof s.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),P(typeof s.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),P(typeof s.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),P(typeof s.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),P(typeof s.read>"u","Module.read option was removed"),P(typeof s.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),P(typeof s.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),P(typeof s.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),P(typeof s.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Be("asm","wasmExports"),Be("readAsync","readAsync"),Be("readBinary","readBinary"),Be("setWindowTitle","setWindowTitle"),P(!_,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var fe=s.wasmBinary;Be("wasmBinary","wasmBinary"),typeof WebAssembly!="object"&&ee("no native wasm support detected");var ue,oe=!1;function P(t,n){t||D("Assertion failed"+(n?": "+n:""))}var M,F,I,de,U,te,Ee,it;function Ze(){var t=ue.buffer;s.HEAP8=M=new Int8Array(t),s.HEAP16=I=new Int16Array(t),s.HEAPU8=F=new Uint8Array(t),s.HEAPU16=de=new Uint16Array(t),s.HEAP32=U=new Int32Array(t),s.HEAPU32=te=new Uint32Array(t),s.HEAPF32=Ee=new Float32Array(t),s.HEAPF64=it=new Float64Array(t)}P(!s.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),P(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),P(!s.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),P(!s.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function _t(){var t=Do();P((t&3)==0),t==0&&(t+=4),te[t>>2]=34821223,te[t+4>>2]=2310721022,te[0]=1668509029}function nt(){if(!oe){var t=Do();t==0&&(t+=4);var n=te[t>>2],i=te[t+4>>2];(n!=34821223||i!=2310721022)&&D(`Stack overflow! Stack cookie has been overwritten at ${mr(t)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${mr(i)} ${mr(n)}`),te[0]!=1668509029&&D("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Nr=[],En=[],Tn=[],St=!1;function hr(){var t=s.preRun;t&&(typeof t=="function"&&(t=[t]),t.forEach(Zt)),_o(Nr)}function Ur(){P(!St),St=!0,nt(),!s.noFSInit&&!d.initialized&&d.init(),d.ignorePermissions=!1,Re.root=d.mount(Re,{},null),_o(En)}function Pn(){nt();var t=s.postRun;t&&(typeof t=="function"&&(t=[t]),t.forEach(y)),_o(Tn)}function Zt(t){Nr.unshift(t)}function Oi(t){En.unshift(t)}function y(t){Tn.unshift(t)}P(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),P(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),P(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),P(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var b=0,C=null,B=null,N={};function L(t){for(var n=t;;){if(!N[t])return t;t=n+Math.random()}}function J(t){b++,s.monitorRunDependencies?.(b),t?(P(!N[t]),N[t]=1,C===null&&typeof setInterval<"u"&&(C=setInterval(()=>{if(oe){clearInterval(C),C=null;return}var n=!1;for(var i in N)n||(n=!0,ee("still waiting on run dependencies:")),ee(`dependency: ${i}`);n&&ee("(end of list)")},1e4))):ee("warning: run dependency added without ID")}function z(t){if(b--,s.monitorRunDependencies?.(b),t?(P(N[t]),delete N[t]):ee("warning: run dependency removed without ID"),b==0&&(C!==null&&(clearInterval(C),C=null),B)){var n=B;B=null,n()}}function D(t){s.onAbort?.(t),t="Aborted("+t+")",ee(t),oe=!0;var n=new WebAssembly.RuntimeError(t);throw c(n),n}var j="data:application/octet-stream;base64,",ce=t=>t.startsWith(j),Z=t=>t.startsWith("file://");function ne(t,n){return(...i)=>{P(St,`native function \`${t}\` called before runtime initialization`);var a=Wt[t];return P(a,`exported native function \`${t}\` not found`),P(i.length<=n,`native function \`${t}\` called with ${i.length} args but expects ${n}`),a(...i)}}function he(){if(s.locateFile){var t="libcellml.wasm";return ce(t)?t:K(t)}return new URL("/modelAnnotatorWeb/assets/libcellml-Bvub9RAa.wasm",import.meta.url).href}var ye;function Se(t){if(t==ye&&fe)return new Uint8Array(fe);if($)return $(t);throw"both async and sync fetching of the wasm failed"}function we(t){return fe?Promise.resolve().then(()=>Se(t)):Q(t).then(n=>new Uint8Array(n),()=>Se(t))}function We(t,n,i){return we(t).then(a=>WebAssembly.instantiate(a,n)).then(i,a=>{ee(`failed to asynchronously prepare wasm: ${a}`),Z(ye)&&ee(`warning: Loading from a file URI (${ye}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),D(a)})}function ze(t,n,i,a){return!t&&typeof WebAssembly.instantiateStreaming=="function"&&!ce(n)&&!Z(n)&&!E&&typeof fetch=="function"?fetch(n,{credentials:"same-origin"}).then(u=>{var f=WebAssembly.instantiateStreaming(u,i);return f.then(a,function(h){return ee(`wasm streaming compile failed: ${h}`),ee("falling back to ArrayBuffer instantiation"),We(n,i,a)})}):We(n,i,a)}function ut(){return{env:ts,wasi_snapshot_preview1:ts}}function dt(){var t=ut();function n(u,f){return Wt=u.exports,ue=Wt.memory,P(ue,"memory not found in wasm exports"),Ze(),Mn=Wt.__indirect_function_table,P(Mn,"table not found in wasm exports"),Oi(Wt.__wasm_call_ctors),z("wasm-instantiate"),Wt}J("wasm-instantiate");var i=s;function a(u){P(s===i,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),i=null,n(u.instance)}if(s.instantiateWasm)try{return s.instantiateWasm(t,n)}catch(u){ee(`Module.instantiateWasm callback failed with error: ${u}`),c(u)}return ye??=he(),ze(fe,ye,t,a).catch(c),{}}var me,Le;if((()=>{var t=new Int16Array(1),n=new Int8Array(t.buffer);if(t[0]=25459,n[0]!==115||n[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})(),s.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");function Be(t,n,i=!0){Object.getOwnPropertyDescriptor(s,t)||Object.defineProperty(s,t,{configurable:!0,get(){let a=i?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";D(`\`Module.${t}\` has been replaced by \`${n}\``+a)}})}function ft(t){Object.getOwnPropertyDescriptor(s,t)&&D(`\`Module.${t}\` was supplied but \`${t}\` not included in INCOMING_MODULE_JS_API`)}function Dr(t){return t==="FS_createPath"||t==="FS_createDataFile"||t==="FS_createPreloadedFile"||t==="FS_unlink"||t==="addRunDependency"||t==="FS_createLazyFile"||t==="FS_createDevice"||t==="removeRunDependency"}function Lr(t,n){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,t)&&Object.defineProperty(globalThis,t,{configurable:!0,get(){n()}})}function Ai(t,n){Lr(t,()=>{er(`\`${t}\` is not longer defined by emscripten. ${n}`)})}Ai("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),Ai("asm","Please use wasmExports instead");function dl(t){Lr(t,()=>{var n=`\`${t}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`,i=t;i.startsWith("_")||(i="$"+t),n+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${i}')`,Dr(t)&&(n+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),er(n)}),Fi(t)}function Fi(t){Object.getOwnPropertyDescriptor(s,t)||Object.defineProperty(s,t,{configurable:!0,get(){var n=`'${t}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;Dr(t)&&(n+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),D(n)}})}var ki={276704:()=>{s.AnalyserEquation.Type=s["AnalyserEquation.Type"],delete s["AnalyserEquation.Type"]},276814:()=>{s.AnalyserEquationAst.Type=s["AnalyserEquationAst.Type"],delete s["AnalyserEquationAst.Type"]},276933:()=>{s.AnalyserModel.Type=s["AnalyserModel.Type"],delete s["AnalyserModel.Type"]},277034:()=>{s.AnalyserVariable.Type=s["AnalyserVariable.Type"],delete s["AnalyserVariable.Type"]},277144:()=>{s.GeneratorProfile.Profile=s["GeneratorProfile.Profile"],delete s["GeneratorProfile.Profile"]},277263:()=>{s.Issue.ReferenceRule=s["Issue.ReferenceRule"],delete s["Issue.ReferenceRule"],s.Issue.Level=s["Issue.Level"],delete s["Issue.Level"]},277447:()=>{s.Units.Prefix=s["Units.Prefix"],delete s["Units.Prefix"],s.Units.StandardUnit=s["Units.StandardUnit"],delete s["Units.StandardUnit"]},277631:()=>{s.Variable.InterfaceType=s["Variable.InterfaceType"],delete s["Variable.InterfaceType"]}},_o=t=>{t.forEach(n=>n(s))};s.noExitRuntime;var mr=t=>(P(typeof t=="number"),t>>>=0,"0x"+t.toString(16).padStart(8,"0")),er=t=>{er.shown||={},er.shown[t]||(er.shown[t]=1,E&&(t="warning: "+t),ee(t))},$i=typeof TextDecoder<"u"?new TextDecoder:void 0,vr=(t,n=0,i=NaN)=>{for(var a=n+i,u=n;t[u]&&!(u>=a);)++u;if(u-n>16&&t.buffer&&$i)return $i.decode(t.subarray(n,u));for(var f="";n<u;){var h=t[n++];if(!(h&128)){f+=String.fromCharCode(h);continue}var v=t[n++]&63;if((h&224)==192){f+=String.fromCharCode((h&31)<<6|v);continue}var w=t[n++]&63;if((h&240)==224?h=(h&15)<<12|v<<6|w:((h&248)!=240&&er("Invalid UTF-8 leading byte "+mr(h)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),h=(h&7)<<18|v<<12|w<<6|t[n++]&63),h<65536)f+=String.fromCharCode(h);else{var k=h-65536;f+=String.fromCharCode(55296|k>>10,56320|k&1023)}}return f},tr=(t,n)=>(P(typeof t=="number",`UTF8ToString expects a number (got ${typeof t})`),t?vr(F,t,n):""),fl=(t,n,i,a)=>{D(`Assertion failed: ${tr(t)}, at: `+[n?tr(n):"unknown filename",i,a?tr(a):"unknown function"])};class pl{constructor(n){this.excPtr=n,this.ptr=n-24}set_type(n){te[this.ptr+4>>2]=n}get_type(){return te[this.ptr+4>>2]}set_destructor(n){te[this.ptr+8>>2]=n}get_destructor(){return te[this.ptr+8>>2]}set_caught(n){n=n?1:0,M[this.ptr+12]=n}get_caught(){return M[this.ptr+12]!=0}set_rethrown(n){n=n?1:0,M[this.ptr+13]=n}get_rethrown(){return M[this.ptr+13]!=0}init(n,i){this.set_adjusted_ptr(0),this.set_type(n),this.set_destructor(i)}set_adjusted_ptr(n){te[this.ptr+16>>2]=n}get_adjusted_ptr(){return te[this.ptr+16>>2]}}var hl=(t,n,i)=>{var a=new pl(t);a.init(n,i),P(!1,"Exception thrown, but exception catching is not enabled. Compile with -sNO_DISABLE_EXCEPTION_CATCHING or -sEXCEPTION_CATCHING_ALLOWED=[..] to catch.")},Fe={isAbs:t=>t.charAt(0)==="/",splitPath:t=>{var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return n.exec(t).slice(1)},normalizeArray:(t,n)=>{for(var i=0,a=t.length-1;a>=0;a--){var u=t[a];u==="."?t.splice(a,1):u===".."?(t.splice(a,1),i++):i&&(t.splice(a,1),i--)}if(n)for(;i;i--)t.unshift("..");return t},normalize:t=>{var n=Fe.isAbs(t),i=t.substr(-1)==="/";return t=Fe.normalizeArray(t.split("/").filter(a=>!!a),!n).join("/"),!t&&!n&&(t="."),t&&i&&(t+="/"),(n?"/":"")+t},dirname:t=>{var n=Fe.splitPath(t),i=n[0],a=n[1];return!i&&!a?".":(a&&(a=a.substr(0,a.length-1)),i+a)},basename:t=>{if(t==="/")return"/";t=Fe.normalize(t),t=t.replace(/\/$/,"");var n=t.lastIndexOf("/");return n===-1?t:t.substr(n+1)},join:(...t)=>Fe.normalize(t.join("/")),join2:(t,n)=>Fe.normalize(t+"/"+n)},ml=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return a=>crypto.getRandomValues(a);if(E)try{var t=T("crypto"),n=t.randomFillSync;if(n)return a=>t.randomFillSync(a);var i=t.randomBytes;return a=>(a.set(i(a.byteLength)),a)}catch{}D("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: (array) => { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")},Ri=t=>(Ri=ml())(t),xt={resolve:(...t)=>{for(var n="",i=!1,a=t.length-1;a>=-1&&!i;a--){var u=a>=0?t[a]:d.cwd();if(typeof u!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!u)return"";n=u+"/"+n,i=Fe.isAbs(u)}return n=Fe.normalizeArray(n.split("/").filter(f=>!!f),!i).join("/"),(i?"/":"")+n||"."},relative:(t,n)=>{t=xt.resolve(t).substr(1),n=xt.resolve(n).substr(1);function i(k){for(var R=0;R<k.length&&k[R]==="";R++);for(var H=k.length-1;H>=0&&k[H]==="";H--);return R>H?[]:k.slice(R,H-R+1)}for(var a=i(t.split("/")),u=i(n.split("/")),f=Math.min(a.length,u.length),h=f,v=0;v<f;v++)if(a[v]!==u[v]){h=v;break}for(var w=[],v=h;v<a.length;v++)w.push("..");return w=w.concat(u.slice(h)),w.join("/")}},bo=[],gr=t=>{for(var n=0,i=0;i<t.length;++i){var a=t.charCodeAt(i);a<=127?n++:a<=2047?n+=2:a>=55296&&a<=57343?(n+=4,++i):n+=3}return n},wo=(t,n,i,a)=>{if(P(typeof t=="string",`stringToUTF8Array expects a string (got ${typeof t})`),!(a>0))return 0;for(var u=i,f=i+a-1,h=0;h<t.length;++h){var v=t.charCodeAt(h);if(v>=55296&&v<=57343){var w=t.charCodeAt(++h);v=65536+((v&1023)<<10)|w&1023}if(v<=127){if(i>=f)break;n[i++]=v}else if(v<=2047){if(i+1>=f)break;n[i++]=192|v>>6,n[i++]=128|v&63}else if(v<=65535){if(i+2>=f)break;n[i++]=224|v>>12,n[i++]=128|v>>6&63,n[i++]=128|v&63}else{if(i+3>=f)break;v>1114111&&er("Invalid Unicode code point "+mr(v)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),n[i++]=240|v>>18,n[i++]=128|v>>12&63,n[i++]=128|v>>6&63,n[i++]=128|v&63}}return n[i]=0,i-u};function Mi(t,n,i){var a=gr(t)+1,u=new Array(a),f=wo(t,u,0,u.length);return u.length=f,u}var vl=()=>{if(!bo.length){var t=null;if(E){var n=256,i=Buffer.alloc(n),a=0,u=process.stdin.fd;try{a=V.readSync(u,i,0,n)}catch(f){if(f.toString().includes("EOF"))a=0;else throw f}a>0&&(t=i.slice(0,a).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(t=window.prompt("Input: "),t!==null&&(t+=`
`));if(!t)return null;bo=Mi(t)}return bo.shift()},rr={ttys:[],init(){},shutdown(){},register(t,n){rr.ttys[t]={input:[],output:[],ops:n},d.registerDevice(t,rr.stream_ops)},stream_ops:{open(t){var n=rr.ttys[t.node.rdev];if(!n)throw new d.ErrnoError(43);t.tty=n,t.seekable=!1},close(t){t.tty.ops.fsync(t.tty)},fsync(t){t.tty.ops.fsync(t.tty)},read(t,n,i,a,u){if(!t.tty||!t.tty.ops.get_char)throw new d.ErrnoError(60);for(var f=0,h=0;h<a;h++){var v;try{v=t.tty.ops.get_char(t.tty)}catch{throw new d.ErrnoError(29)}if(v===void 0&&f===0)throw new d.ErrnoError(6);if(v==null)break;f++,n[i+h]=v}return f&&(t.node.timestamp=Date.now()),f},write(t,n,i,a,u){if(!t.tty||!t.tty.ops.put_char)throw new d.ErrnoError(60);try{for(var f=0;f<a;f++)t.tty.ops.put_char(t.tty,n[i+f])}catch{throw new d.ErrnoError(29)}return a&&(t.node.timestamp=Date.now()),f}},default_tty_ops:{get_char(t){return vl()},put_char(t,n){n===null||n===10?(re(vr(t.output)),t.output=[]):n!=0&&t.output.push(n)},fsync(t){t.output&&t.output.length>0&&(re(vr(t.output)),t.output=[])},ioctl_tcgets(t){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(t,n,i){return 0},ioctl_tiocgwinsz(t){return[24,80]}},default_tty1_ops:{put_char(t,n){n===null||n===10?(ee(vr(t.output)),t.output=[]):n!=0&&t.output.push(n)},fsync(t){t.output&&t.output.length>0&&(ee(vr(t.output)),t.output=[])}}},xi=(t,n)=>{F.fill(0,t,t+n)},gl=(t,n)=>(P(n,"alignment argument is required"),Math.ceil(t/n)*n),Ii=t=>{D("internal error: mmapAlloc called but `emscripten_builtin_memalign` native symbol not exported")},ge={ops_table:null,mount(t){return ge.createNode(null,"/",16895,0)},createNode(t,n,i,a){if(d.isBlkdev(i)||d.isFIFO(i))throw new d.ErrnoError(63);ge.ops_table||={dir:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr,lookup:ge.node_ops.lookup,mknod:ge.node_ops.mknod,rename:ge.node_ops.rename,unlink:ge.node_ops.unlink,rmdir:ge.node_ops.rmdir,readdir:ge.node_ops.readdir,symlink:ge.node_ops.symlink},stream:{llseek:ge.stream_ops.llseek}},file:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr},stream:{llseek:ge.stream_ops.llseek,read:ge.stream_ops.read,write:ge.stream_ops.write,allocate:ge.stream_ops.allocate,mmap:ge.stream_ops.mmap,msync:ge.stream_ops.msync}},link:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr,readlink:ge.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr},stream:d.chrdev_stream_ops}};var u=d.createNode(t,n,i,a);return d.isDir(u.mode)?(u.node_ops=ge.ops_table.dir.node,u.stream_ops=ge.ops_table.dir.stream,u.contents={}):d.isFile(u.mode)?(u.node_ops=ge.ops_table.file.node,u.stream_ops=ge.ops_table.file.stream,u.usedBytes=0,u.contents=null):d.isLink(u.mode)?(u.node_ops=ge.ops_table.link.node,u.stream_ops=ge.ops_table.link.stream):d.isChrdev(u.mode)&&(u.node_ops=ge.ops_table.chrdev.node,u.stream_ops=ge.ops_table.chrdev.stream),u.timestamp=Date.now(),t&&(t.contents[n]=u,t.timestamp=u.timestamp),u},getFileDataAsTypedArray(t){return t.contents?t.contents.subarray?t.contents.subarray(0,t.usedBytes):new Uint8Array(t.contents):new Uint8Array(0)},expandFileStorage(t,n){var i=t.contents?t.contents.length:0;if(!(i>=n)){var a=1024*1024;n=Math.max(n,i*(i<a?2:1.125)>>>0),i!=0&&(n=Math.max(n,256));var u=t.contents;t.contents=new Uint8Array(n),t.usedBytes>0&&t.contents.set(u.subarray(0,t.usedBytes),0)}},resizeFileStorage(t,n){if(t.usedBytes!=n)if(n==0)t.contents=null,t.usedBytes=0;else{var i=t.contents;t.contents=new Uint8Array(n),i&&t.contents.set(i.subarray(0,Math.min(n,t.usedBytes))),t.usedBytes=n}},node_ops:{getattr(t){var n={};return n.dev=d.isChrdev(t.mode)?t.id:1,n.ino=t.id,n.mode=t.mode,n.nlink=1,n.uid=0,n.gid=0,n.rdev=t.rdev,d.isDir(t.mode)?n.size=4096:d.isFile(t.mode)?n.size=t.usedBytes:d.isLink(t.mode)?n.size=t.link.length:n.size=0,n.atime=new Date(t.timestamp),n.mtime=new Date(t.timestamp),n.ctime=new Date(t.timestamp),n.blksize=4096,n.blocks=Math.ceil(n.size/n.blksize),n},setattr(t,n){n.mode!==void 0&&(t.mode=n.mode),n.timestamp!==void 0&&(t.timestamp=n.timestamp),n.size!==void 0&&ge.resizeFileStorage(t,n.size)},lookup(t,n){throw d.genericErrors[44]},mknod(t,n,i,a){return ge.createNode(t,n,i,a)},rename(t,n,i){if(d.isDir(t.mode)){var a;try{a=d.lookupNode(n,i)}catch{}if(a)for(var u in a.contents)throw new d.ErrnoError(55)}delete t.parent.contents[t.name],t.parent.timestamp=Date.now(),t.name=i,n.contents[i]=t,n.timestamp=t.parent.timestamp},unlink(t,n){delete t.contents[n],t.timestamp=Date.now()},rmdir(t,n){var i=d.lookupNode(t,n);for(var a in i.contents)throw new d.ErrnoError(55);delete t.contents[n],t.timestamp=Date.now()},readdir(t){var n=[".",".."];for(var i of Object.keys(t.contents))n.push(i);return n},symlink(t,n,i){var a=ge.createNode(t,n,41471,0);return a.link=i,a},readlink(t){if(!d.isLink(t.mode))throw new d.ErrnoError(28);return t.link}},stream_ops:{read(t,n,i,a,u){var f=t.node.contents;if(u>=t.node.usedBytes)return 0;var h=Math.min(t.node.usedBytes-u,a);if(P(h>=0),h>8&&f.subarray)n.set(f.subarray(u,u+h),i);else for(var v=0;v<h;v++)n[i+v]=f[u+v];return h},write(t,n,i,a,u,f){if(P(!(n instanceof ArrayBuffer)),n.buffer===M.buffer&&(f=!1),!a)return 0;var h=t.node;if(h.timestamp=Date.now(),n.subarray&&(!h.contents||h.contents.subarray)){if(f)return P(u===0,"canOwn must imply no weird position inside the file"),h.contents=n.subarray(i,i+a),h.usedBytes=a,a;if(h.usedBytes===0&&u===0)return h.contents=n.slice(i,i+a),h.usedBytes=a,a;if(u+a<=h.usedBytes)return h.contents.set(n.subarray(i,i+a),u),a}if(ge.expandFileStorage(h,u+a),h.contents.subarray&&n.subarray)h.contents.set(n.subarray(i,i+a),u);else for(var v=0;v<a;v++)h.contents[u+v]=n[i+v];return h.usedBytes=Math.max(h.usedBytes,u+a),a},llseek(t,n,i){var a=n;if(i===1?a+=t.position:i===2&&d.isFile(t.node.mode)&&(a+=t.node.usedBytes),a<0)throw new d.ErrnoError(28);return a},allocate(t,n,i){ge.expandFileStorage(t.node,n+i),t.node.usedBytes=Math.max(t.node.usedBytes,n+i)},mmap(t,n,i,a,u){if(!d.isFile(t.node.mode))throw new d.ErrnoError(43);var f,h,v=t.node.contents;if(!(u&2)&&v&&v.buffer===M.buffer)h=!1,f=v.byteOffset;else{if(h=!0,f=Ii(),!f)throw new d.ErrnoError(48);v&&((i>0||i+n<v.length)&&(v.subarray?v=v.subarray(i,i+n):v=Array.prototype.slice.call(v,i,i+n)),M.set(v,f))}return{ptr:f,allocated:h}},msync(t,n,i,a,u){return ge.stream_ops.write(t,n,0,a,i,!1),0}}},yl=(t,n,i,a)=>{var u=L(`al ${t}`);Q(t).then(f=>{P(f,`Loading data file "${t}" failed (no arrayBuffer).`),n(new Uint8Array(f)),u&&z(u)},f=>{if(i)i();else throw`Loading data file "${t}" failed.`}),u&&J(u)},_l=(t,n,i,a,u,f)=>{d.createDataFile(t,n,i,a,u,f)},bl=s.preloadPlugins||[],wl=(t,n,i,a)=>{typeof Browser<"u"&&Browser.init();var u=!1;return bl.forEach(f=>{u||f.canHandle(n)&&(f.handle(t,n,i,a),u=!0)}),u},El=(t,n,i,a,u,f,h,v,w,k)=>{var R=n?xt.resolve(Fe.join2(t,n)):t,H=L(`cp ${R}`);function X(W){function se(_e){k?.(),v||_l(t,n,_e,a,u,w),f?.(),z(H)}wl(W,R,se,()=>{h?.(),z(H)})||se(W)}J(H),typeof i=="string"?yl(i,X,h):X(i)},Tl=t=>{var n={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},i=n[t];if(typeof i>"u")throw new Error(`Unknown file open mode: ${t}`);return i},Eo=(t,n)=>{var i=0;return t&&(i|=365),n&&(i|=146),i},Pl=t=>tr(Pu(t)),Ni={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},d={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class extends Error{constructor(t){super(St?Pl(t):""),this.name="ErrnoError",this.errno=t;for(var n in Ni)if(Ni[n]===t){this.code=n;break}}},genericErrors:{},filesystems:null,syncFSRequests:0,readFiles:{},FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(t){this.node=t}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(t){this.shared.flags=t}get position(){return this.shared.position}set position(t){this.shared.position=t}},FSNode:class{constructor(t,n,i,a){t||(t=this),this.parent=t,this.mount=t.mount,this.mounted=null,this.id=d.nextInode++,this.name=n,this.mode=i,this.node_ops={},this.stream_ops={},this.rdev=a,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(t){t?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(t){t?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return d.isDir(this.mode)}get isDevice(){return d.isChrdev(this.mode)}},lookupPath(t,n={}){if(t=xt.resolve(t),!t)return{path:"",node:null};var i={follow_mount:!0,recurse_count:0};if(n=Object.assign(i,n),n.recurse_count>8)throw new d.ErrnoError(32);for(var a=t.split("/").filter(H=>!!H),u=d.root,f="/",h=0;h<a.length;h++){var v=h===a.length-1;if(v&&n.parent)break;if(u=d.lookupNode(u,a[h]),f=Fe.join2(f,a[h]),d.isMountpoint(u)&&(!v||v&&n.follow_mount)&&(u=u.mounted.root),!v||n.follow)for(var w=0;d.isLink(u.mode);){var k=d.readlink(f);f=xt.resolve(Fe.dirname(f),k);var R=d.lookupPath(f,{recurse_count:n.recurse_count+1});if(u=R.node,w++>40)throw new d.ErrnoError(32)}}return{path:f,node:u}},getPath(t){for(var n;;){if(d.isRoot(t)){var i=t.mount.mountpoint;return n?i[i.length-1]!=="/"?`${i}/${n}`:i+n:i}n=n?`${t.name}/${n}`:t.name,t=t.parent}},hashName(t,n){for(var i=0,a=0;a<n.length;a++)i=(i<<5)-i+n.charCodeAt(a)|0;return(t+i>>>0)%d.nameTable.length},hashAddNode(t){var n=d.hashName(t.parent.id,t.name);t.name_next=d.nameTable[n],d.nameTable[n]=t},hashRemoveNode(t){var n=d.hashName(t.parent.id,t.name);if(d.nameTable[n]===t)d.nameTable[n]=t.name_next;else for(var i=d.nameTable[n];i;){if(i.name_next===t){i.name_next=t.name_next;break}i=i.name_next}},lookupNode(t,n){var i=d.mayLookup(t);if(i)throw new d.ErrnoError(i);for(var a=d.hashName(t.id,n),u=d.nameTable[a];u;u=u.name_next){var f=u.name;if(u.parent.id===t.id&&f===n)return u}return d.lookup(t,n)},createNode(t,n,i,a){P(typeof t=="object");var u=new d.FSNode(t,n,i,a);return d.hashAddNode(u),u},destroyNode(t){d.hashRemoveNode(t)},isRoot(t){return t===t.parent},isMountpoint(t){return!!t.mounted},isFile(t){return(t&61440)===32768},isDir(t){return(t&61440)===16384},isLink(t){return(t&61440)===40960},isChrdev(t){return(t&61440)===8192},isBlkdev(t){return(t&61440)===24576},isFIFO(t){return(t&61440)===4096},isSocket(t){return(t&49152)===49152},flagsToPermissionString(t){var n=["r","w","rw"][t&3];return t&512&&(n+="w"),n},nodePermissions(t,n){return d.ignorePermissions?0:n.includes("r")&&!(t.mode&292)||n.includes("w")&&!(t.mode&146)||n.includes("x")&&!(t.mode&73)?2:0},mayLookup(t){if(!d.isDir(t.mode))return 54;var n=d.nodePermissions(t,"x");return n||(t.node_ops.lookup?0:2)},mayCreate(t,n){try{var i=d.lookupNode(t,n);return 20}catch{}return d.nodePermissions(t,"wx")},mayDelete(t,n,i){var a;try{a=d.lookupNode(t,n)}catch(f){return f.errno}var u=d.nodePermissions(t,"wx");if(u)return u;if(i){if(!d.isDir(a.mode))return 54;if(d.isRoot(a)||d.getPath(a)===d.cwd())return 10}else if(d.isDir(a.mode))return 31;return 0},mayOpen(t,n){return t?d.isLink(t.mode)?32:d.isDir(t.mode)&&(d.flagsToPermissionString(n)!=="r"||n&512)?31:d.nodePermissions(t,d.flagsToPermissionString(n)):44},MAX_OPEN_FDS:4096,nextfd(){for(var t=0;t<=d.MAX_OPEN_FDS;t++)if(!d.streams[t])return t;throw new d.ErrnoError(33)},getStreamChecked(t){var n=d.getStream(t);if(!n)throw new d.ErrnoError(8);return n},getStream:t=>d.streams[t],createStream(t,n=-1){return P(n>=-1),t=Object.assign(new d.FSStream,t),n==-1&&(n=d.nextfd()),t.fd=n,d.streams[n]=t,t},closeStream(t){d.streams[t]=null},dupStream(t,n=-1){var i=d.createStream(t,n);return i.stream_ops?.dup?.(i),i},chrdev_stream_ops:{open(t){var n=d.getDevice(t.node.rdev);t.stream_ops=n.stream_ops,t.stream_ops.open?.(t)},llseek(){throw new d.ErrnoError(70)}},major:t=>t>>8,minor:t=>t&255,makedev:(t,n)=>t<<8|n,registerDevice(t,n){d.devices[t]={stream_ops:n}},getDevice:t=>d.devices[t],getMounts(t){for(var n=[],i=[t];i.length;){var a=i.pop();n.push(a),i.push(...a.mounts)}return n},syncfs(t,n){typeof t=="function"&&(n=t,t=!1),d.syncFSRequests++,d.syncFSRequests>1&&ee(`warning: ${d.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var i=d.getMounts(d.root.mount),a=0;function u(h){return P(d.syncFSRequests>0),d.syncFSRequests--,n(h)}function f(h){if(h)return f.errored?void 0:(f.errored=!0,u(h));++a>=i.length&&u(null)}i.forEach(h=>{if(!h.type.syncfs)return f(null);h.type.syncfs(h,t,f)})},mount(t,n,i){if(typeof t=="string")throw t;var a=i==="/",u=!i,f;if(a&&d.root)throw new d.ErrnoError(10);if(!a&&!u){var h=d.lookupPath(i,{follow_mount:!1});if(i=h.path,f=h.node,d.isMountpoint(f))throw new d.ErrnoError(10);if(!d.isDir(f.mode))throw new d.ErrnoError(54)}var v={type:t,opts:n,mountpoint:i,mounts:[]},w=t.mount(v);return w.mount=v,v.root=w,a?d.root=w:f&&(f.mounted=v,f.mount&&f.mount.mounts.push(v)),w},unmount(t){var n=d.lookupPath(t,{follow_mount:!1});if(!d.isMountpoint(n.node))throw new d.ErrnoError(28);var i=n.node,a=i.mounted,u=d.getMounts(a);Object.keys(d.nameTable).forEach(h=>{for(var v=d.nameTable[h];v;){var w=v.name_next;u.includes(v.mount)&&d.destroyNode(v),v=w}}),i.mounted=null;var f=i.mount.mounts.indexOf(a);P(f!==-1),i.mount.mounts.splice(f,1)},lookup(t,n){return t.node_ops.lookup(t,n)},mknod(t,n,i){var a=d.lookupPath(t,{parent:!0}),u=a.node,f=Fe.basename(t);if(!f||f==="."||f==="..")throw new d.ErrnoError(28);var h=d.mayCreate(u,f);if(h)throw new d.ErrnoError(h);if(!u.node_ops.mknod)throw new d.ErrnoError(63);return u.node_ops.mknod(u,f,n,i)},create(t,n){return n=n!==void 0?n:438,n&=4095,n|=32768,d.mknod(t,n,0)},mkdir(t,n){return n=n!==void 0?n:511,n&=1023,n|=16384,d.mknod(t,n,0)},mkdirTree(t,n){for(var i=t.split("/"),a="",u=0;u<i.length;++u)if(i[u]){a+="/"+i[u];try{d.mkdir(a,n)}catch(f){if(f.errno!=20)throw f}}},mkdev(t,n,i){return typeof i>"u"&&(i=n,n=438),n|=8192,d.mknod(t,n,i)},symlink(t,n){if(!xt.resolve(t))throw new d.ErrnoError(44);var i=d.lookupPath(n,{parent:!0}),a=i.node;if(!a)throw new d.ErrnoError(44);var u=Fe.basename(n),f=d.mayCreate(a,u);if(f)throw new d.ErrnoError(f);if(!a.node_ops.symlink)throw new d.ErrnoError(63);return a.node_ops.symlink(a,u,t)},rename(t,n){var i=Fe.dirname(t),a=Fe.dirname(n),u=Fe.basename(t),f=Fe.basename(n),h,v,w;if(h=d.lookupPath(t,{parent:!0}),v=h.node,h=d.lookupPath(n,{parent:!0}),w=h.node,!v||!w)throw new d.ErrnoError(44);if(v.mount!==w.mount)throw new d.ErrnoError(75);var k=d.lookupNode(v,u),R=xt.relative(t,a);if(R.charAt(0)!==".")throw new d.ErrnoError(28);if(R=xt.relative(n,i),R.charAt(0)!==".")throw new d.ErrnoError(55);var H;try{H=d.lookupNode(w,f)}catch{}if(k!==H){var X=d.isDir(k.mode),W=d.mayDelete(v,u,X);if(W)throw new d.ErrnoError(W);if(W=H?d.mayDelete(w,f,X):d.mayCreate(w,f),W)throw new d.ErrnoError(W);if(!v.node_ops.rename)throw new d.ErrnoError(63);if(d.isMountpoint(k)||H&&d.isMountpoint(H))throw new d.ErrnoError(10);if(w!==v&&(W=d.nodePermissions(v,"w"),W))throw new d.ErrnoError(W);d.hashRemoveNode(k);try{v.node_ops.rename(k,w,f),k.parent=w}catch(se){throw se}finally{d.hashAddNode(k)}}},rmdir(t){var n=d.lookupPath(t,{parent:!0}),i=n.node,a=Fe.basename(t),u=d.lookupNode(i,a),f=d.mayDelete(i,a,!0);if(f)throw new d.ErrnoError(f);if(!i.node_ops.rmdir)throw new d.ErrnoError(63);if(d.isMountpoint(u))throw new d.ErrnoError(10);i.node_ops.rmdir(i,a),d.destroyNode(u)},readdir(t){var n=d.lookupPath(t,{follow:!0}),i=n.node;if(!i.node_ops.readdir)throw new d.ErrnoError(54);return i.node_ops.readdir(i)},unlink(t){var n=d.lookupPath(t,{parent:!0}),i=n.node;if(!i)throw new d.ErrnoError(44);var a=Fe.basename(t),u=d.lookupNode(i,a),f=d.mayDelete(i,a,!1);if(f)throw new d.ErrnoError(f);if(!i.node_ops.unlink)throw new d.ErrnoError(63);if(d.isMountpoint(u))throw new d.ErrnoError(10);i.node_ops.unlink(i,a),d.destroyNode(u)},readlink(t){var n=d.lookupPath(t),i=n.node;if(!i)throw new d.ErrnoError(44);if(!i.node_ops.readlink)throw new d.ErrnoError(28);return xt.resolve(d.getPath(i.parent),i.node_ops.readlink(i))},stat(t,n){var i=d.lookupPath(t,{follow:!n}),a=i.node;if(!a)throw new d.ErrnoError(44);if(!a.node_ops.getattr)throw new d.ErrnoError(63);return a.node_ops.getattr(a)},lstat(t){return d.stat(t,!0)},chmod(t,n,i){var a;if(typeof t=="string"){var u=d.lookupPath(t,{follow:!i});a=u.node}else a=t;if(!a.node_ops.setattr)throw new d.ErrnoError(63);a.node_ops.setattr(a,{mode:n&4095|a.mode&-4096,timestamp:Date.now()})},lchmod(t,n){d.chmod(t,n,!0)},fchmod(t,n){var i=d.getStreamChecked(t);d.chmod(i.node,n)},chown(t,n,i,a){var u;if(typeof t=="string"){var f=d.lookupPath(t,{follow:!a});u=f.node}else u=t;if(!u.node_ops.setattr)throw new d.ErrnoError(63);u.node_ops.setattr(u,{timestamp:Date.now()})},lchown(t,n,i){d.chown(t,n,i,!0)},fchown(t,n,i){var a=d.getStreamChecked(t);d.chown(a.node,n,i)},truncate(t,n){if(n<0)throw new d.ErrnoError(28);var i;if(typeof t=="string"){var a=d.lookupPath(t,{follow:!0});i=a.node}else i=t;if(!i.node_ops.setattr)throw new d.ErrnoError(63);if(d.isDir(i.mode))throw new d.ErrnoError(31);if(!d.isFile(i.mode))throw new d.ErrnoError(28);var u=d.nodePermissions(i,"w");if(u)throw new d.ErrnoError(u);i.node_ops.setattr(i,{size:n,timestamp:Date.now()})},ftruncate(t,n){var i=d.getStreamChecked(t);if((i.flags&2097155)===0)throw new d.ErrnoError(28);d.truncate(i.node,n)},utime(t,n,i){var a=d.lookupPath(t,{follow:!0}),u=a.node;u.node_ops.setattr(u,{timestamp:Math.max(n,i)})},open(t,n,i){if(t==="")throw new d.ErrnoError(44);n=typeof n=="string"?Tl(n):n,n&64?(i=typeof i>"u"?438:i,i=i&4095|32768):i=0;var a;if(typeof t=="object")a=t;else{t=Fe.normalize(t);try{var u=d.lookupPath(t,{follow:!(n&131072)});a=u.node}catch{}}var f=!1;if(n&64)if(a){if(n&128)throw new d.ErrnoError(20)}else a=d.mknod(t,i,0),f=!0;if(!a)throw new d.ErrnoError(44);if(d.isChrdev(a.mode)&&(n&=-513),n&65536&&!d.isDir(a.mode))throw new d.ErrnoError(54);if(!f){var h=d.mayOpen(a,n);if(h)throw new d.ErrnoError(h)}n&512&&!f&&d.truncate(a,0),n&=-131713;var v=d.createStream({node:a,path:d.getPath(a),flags:n,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1});return v.stream_ops.open&&v.stream_ops.open(v),s.logReadFiles&&!(n&1)&&(t in d.readFiles||(d.readFiles[t]=1)),v},close(t){if(d.isClosed(t))throw new d.ErrnoError(8);t.getdents&&(t.getdents=null);try{t.stream_ops.close&&t.stream_ops.close(t)}catch(n){throw n}finally{d.closeStream(t.fd)}t.fd=null},isClosed(t){return t.fd===null},llseek(t,n,i){if(d.isClosed(t))throw new d.ErrnoError(8);if(!t.seekable||!t.stream_ops.llseek)throw new d.ErrnoError(70);if(i!=0&&i!=1&&i!=2)throw new d.ErrnoError(28);return t.position=t.stream_ops.llseek(t,n,i),t.ungotten=[],t.position},read(t,n,i,a,u){if(P(i>=0),a<0||u<0)throw new d.ErrnoError(28);if(d.isClosed(t))throw new d.ErrnoError(8);if((t.flags&2097155)===1)throw new d.ErrnoError(8);if(d.isDir(t.node.mode))throw new d.ErrnoError(31);if(!t.stream_ops.read)throw new d.ErrnoError(28);var f=typeof u<"u";if(!f)u=t.position;else if(!t.seekable)throw new d.ErrnoError(70);var h=t.stream_ops.read(t,n,i,a,u);return f||(t.position+=h),h},write(t,n,i,a,u,f){if(P(i>=0),a<0||u<0)throw new d.ErrnoError(28);if(d.isClosed(t))throw new d.ErrnoError(8);if((t.flags&2097155)===0)throw new d.ErrnoError(8);if(d.isDir(t.node.mode))throw new d.ErrnoError(31);if(!t.stream_ops.write)throw new d.ErrnoError(28);t.seekable&&t.flags&1024&&d.llseek(t,0,2);var h=typeof u<"u";if(!h)u=t.position;else if(!t.seekable)throw new d.ErrnoError(70);var v=t.stream_ops.write(t,n,i,a,u,f);return h||(t.position+=v),v},allocate(t,n,i){if(d.isClosed(t))throw new d.ErrnoError(8);if(n<0||i<=0)throw new d.ErrnoError(28);if((t.flags&2097155)===0)throw new d.ErrnoError(8);if(!d.isFile(t.node.mode)&&!d.isDir(t.node.mode))throw new d.ErrnoError(43);if(!t.stream_ops.allocate)throw new d.ErrnoError(138);t.stream_ops.allocate(t,n,i)},mmap(t,n,i,a,u){if((a&2)!==0&&(u&2)===0&&(t.flags&2097155)!==2)throw new d.ErrnoError(2);if((t.flags&2097155)===1)throw new d.ErrnoError(2);if(!t.stream_ops.mmap)throw new d.ErrnoError(43);if(!n)throw new d.ErrnoError(28);return t.stream_ops.mmap(t,n,i,a,u)},msync(t,n,i,a,u){return P(i>=0),t.stream_ops.msync?t.stream_ops.msync(t,n,i,a,u):0},ioctl(t,n,i){if(!t.stream_ops.ioctl)throw new d.ErrnoError(59);return t.stream_ops.ioctl(t,n,i)},readFile(t,n={}){if(n.flags=n.flags||0,n.encoding=n.encoding||"binary",n.encoding!=="utf8"&&n.encoding!=="binary")throw new Error(`Invalid encoding type "${n.encoding}"`);var i,a=d.open(t,n.flags),u=d.stat(t),f=u.size,h=new Uint8Array(f);return d.read(a,h,0,f,0),n.encoding==="utf8"?i=vr(h):n.encoding==="binary"&&(i=h),d.close(a),i},writeFile(t,n,i={}){i.flags=i.flags||577;var a=d.open(t,i.flags,i.mode);if(typeof n=="string"){var u=new Uint8Array(gr(n)+1),f=wo(n,u,0,u.length);d.write(a,u,0,f,void 0,i.canOwn)}else if(ArrayBuffer.isView(n))d.write(a,n,0,n.byteLength,void 0,i.canOwn);else throw new Error("Unsupported data type");d.close(a)},cwd:()=>d.currentPath,chdir(t){var n=d.lookupPath(t,{follow:!0});if(n.node===null)throw new d.ErrnoError(44);if(!d.isDir(n.node.mode))throw new d.ErrnoError(54);var i=d.nodePermissions(n.node,"x");if(i)throw new d.ErrnoError(i);d.currentPath=n.path},createDefaultDirectories(){d.mkdir("/tmp"),d.mkdir("/home"),d.mkdir("/home/web_user")},createDefaultDevices(){d.mkdir("/dev"),d.registerDevice(d.makedev(1,3),{read:()=>0,write:(a,u,f,h,v)=>h}),d.mkdev("/dev/null",d.makedev(1,3)),rr.register(d.makedev(5,0),rr.default_tty_ops),rr.register(d.makedev(6,0),rr.default_tty1_ops),d.mkdev("/dev/tty",d.makedev(5,0)),d.mkdev("/dev/tty1",d.makedev(6,0));var t=new Uint8Array(1024),n=0,i=()=>(n===0&&(n=Ri(t).byteLength),t[--n]);d.createDevice("/dev","random",i),d.createDevice("/dev","urandom",i),d.mkdir("/dev/shm"),d.mkdir("/dev/shm/tmp")},createSpecialDirectories(){d.mkdir("/proc");var t=d.mkdir("/proc/self");d.mkdir("/proc/self/fd"),d.mount({mount(){var n=d.createNode(t,"fd",16895,73);return n.node_ops={lookup(i,a){var u=+a,f=d.getStreamChecked(u),h={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>f.path}};return h.parent=h,h}},n}},{},"/proc/self/fd")},createStandardStreams(t,n,i){t?d.createDevice("/dev","stdin",t):d.symlink("/dev/tty","/dev/stdin"),n?d.createDevice("/dev","stdout",null,n):d.symlink("/dev/tty","/dev/stdout"),i?d.createDevice("/dev","stderr",null,i):d.symlink("/dev/tty1","/dev/stderr");var a=d.open("/dev/stdin",0),u=d.open("/dev/stdout",1),f=d.open("/dev/stderr",1);P(a.fd===0,`invalid handle for stdin (${a.fd})`),P(u.fd===1,`invalid handle for stdout (${u.fd})`),P(f.fd===2,`invalid handle for stderr (${f.fd})`)},staticInit(){[44].forEach(t=>{d.genericErrors[t]=new d.ErrnoError(t),d.genericErrors[t].stack="<generic error, no stack>"}),d.nameTable=new Array(4096),d.mount(ge,{},"/"),d.createDefaultDirectories(),d.createDefaultDevices(),d.createSpecialDirectories(),d.filesystems={MEMFS:ge}},init(t,n,i){P(!d.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),d.initialized=!0,t??=s.stdin,n??=s.stdout,i??=s.stderr,d.createStandardStreams(t,n,i)},quit(){d.initialized=!1,Tu(0);for(var t=0;t<d.streams.length;t++){var n=d.streams[t];n&&d.close(n)}},findObject(t,n){var i=d.analyzePath(t,n);return i.exists?i.object:null},analyzePath(t,n){try{var i=d.lookupPath(t,{follow:!n});t=i.path}catch{}var a={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var i=d.lookupPath(t,{parent:!0});a.parentExists=!0,a.parentPath=i.path,a.parentObject=i.node,a.name=Fe.basename(t),i=d.lookupPath(t,{follow:!n}),a.exists=!0,a.path=i.path,a.object=i.node,a.name=i.node.name,a.isRoot=i.path==="/"}catch(u){a.error=u.errno}return a},createPath(t,n,i,a){t=typeof t=="string"?t:d.getPath(t);for(var u=n.split("/").reverse();u.length;){var f=u.pop();if(f){var h=Fe.join2(t,f);try{d.mkdir(h)}catch{}t=h}}return h},createFile(t,n,i,a,u){var f=Fe.join2(typeof t=="string"?t:d.getPath(t),n),h=Eo(a,u);return d.create(f,h)},createDataFile(t,n,i,a,u,f){var h=n;t&&(t=typeof t=="string"?t:d.getPath(t),h=n?Fe.join2(t,n):t);var v=Eo(a,u),w=d.create(h,v);if(i){if(typeof i=="string"){for(var k=new Array(i.length),R=0,H=i.length;R<H;++R)k[R]=i.charCodeAt(R);i=k}d.chmod(w,v|146);var X=d.open(w,577);d.write(X,i,0,i.length,0,f),d.close(X),d.chmod(w,v)}},createDevice(t,n,i,a){var u=Fe.join2(typeof t=="string"?t:d.getPath(t),n),f=Eo(!!i,!!a);d.createDevice.major??=64;var h=d.makedev(d.createDevice.major++,0);return d.registerDevice(h,{open(v){v.seekable=!1},close(v){a?.buffer?.length&&a(10)},read(v,w,k,R,H){for(var X=0,W=0;W<R;W++){var se;try{se=i()}catch{throw new d.ErrnoError(29)}if(se===void 0&&X===0)throw new d.ErrnoError(6);if(se==null)break;X++,w[k+W]=se}return X&&(v.node.timestamp=Date.now()),X},write(v,w,k,R,H){for(var X=0;X<R;X++)try{a(w[k+X])}catch{throw new d.ErrnoError(29)}return R&&(v.node.timestamp=Date.now()),X}}),d.mkdev(u,f,h)},forceLoadFile(t){if(t.isDevice||t.isFolder||t.link||t.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{t.contents=$(t.url),t.usedBytes=t.contents.length}catch{throw new d.ErrnoError(29)}},createLazyFile(t,n,i,a,u){class f{constructor(){this.lengthKnown=!1,this.chunks=[]}get(W){if(!(W>this.length-1||W<0)){var se=W%this.chunkSize,_e=W/this.chunkSize|0;return this.getter(_e)[se]}}setDataGetter(W){this.getter=W}cacheLength(){var W=new XMLHttpRequest;if(W.open("HEAD",i,!1),W.send(null),!(W.status>=200&&W.status<300||W.status===304))throw new Error("Couldn't load "+i+". Status: "+W.status);var se=Number(W.getResponseHeader("Content-length")),_e,Ae=(_e=W.getResponseHeader("Accept-Ranges"))&&_e==="bytes",Ce=(_e=W.getResponseHeader("Content-Encoding"))&&_e==="gzip",Ge=1024*1024;Ae||(Ge=se);var Ue=(Me,Ve)=>{if(Me>Ve)throw new Error("invalid range ("+Me+", "+Ve+") or no bytes requested!");if(Ve>se-1)throw new Error("only "+se+" bytes available! programmer error!");var xe=new XMLHttpRequest;if(xe.open("GET",i,!1),se!==Ge&&xe.setRequestHeader("Range","bytes="+Me+"-"+Ve),xe.responseType="arraybuffer",xe.overrideMimeType&&xe.overrideMimeType("text/plain; charset=x-user-defined"),xe.send(null),!(xe.status>=200&&xe.status<300||xe.status===304))throw new Error("Couldn't load "+i+". Status: "+xe.status);return xe.response!==void 0?new Uint8Array(xe.response||[]):Mi(xe.responseText||"")},mt=this;mt.setDataGetter(Me=>{var Ve=Me*Ge,xe=(Me+1)*Ge-1;if(xe=Math.min(xe,se-1),typeof mt.chunks[Me]>"u"&&(mt.chunks[Me]=Ue(Ve,xe)),typeof mt.chunks[Me]>"u")throw new Error("doXHR failed!");return mt.chunks[Me]}),(Ce||!se)&&(Ge=se=1,se=this.getter(0).length,Ge=se,re("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=se,this._chunkSize=Ge,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!g)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var h=new f,v={isDevice:!1,contents:h}}else var v={isDevice:!1,url:i};var w=d.createFile(t,n,v,a,u);v.contents?w.contents=v.contents:v.url&&(w.contents=null,w.url=v.url),Object.defineProperties(w,{usedBytes:{get:function(){return this.contents.length}}});var k={},R=Object.keys(w.stream_ops);R.forEach(X=>{var W=w.stream_ops[X];k[X]=(...se)=>(d.forceLoadFile(w),W(...se))});function H(X,W,se,_e,Ae){var Ce=X.node.contents;if(Ae>=Ce.length)return 0;var Ge=Math.min(Ce.length-Ae,_e);if(P(Ge>=0),Ce.slice)for(var Ue=0;Ue<Ge;Ue++)W[se+Ue]=Ce[Ae+Ue];else for(var Ue=0;Ue<Ge;Ue++)W[se+Ue]=Ce.get(Ae+Ue);return Ge}return k.read=(X,W,se,_e,Ae)=>(d.forceLoadFile(w),H(X,W,se,_e,Ae)),k.mmap=(X,W,se,_e,Ae)=>{d.forceLoadFile(w);var Ce=Ii();if(!Ce)throw new d.ErrnoError(48);return H(X,M,Ce,W,se),{ptr:Ce,allocated:!0}},w.stream_ops=k,w},absolutePath(){D("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder(){D("FS.createFolder has been removed; use FS.mkdir instead")},createLink(){D("FS.createLink has been removed; use FS.symlink instead")},joinPath(){D("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc(){D("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath(){D("FS.standardizePath has been removed; use PATH.normalize instead")}},Oe={DEFAULT_POLLMASK:5,calculateAt(t,n,i){if(Fe.isAbs(n))return n;var a;if(t===-100)a=d.cwd();else{var u=Oe.getStreamFromFD(t);a=u.path}if(n.length==0){if(!i)throw new d.ErrnoError(44);return a}return Fe.join2(a,n)},doStat(t,n,i){var a=t(n);U[i>>2]=a.dev,U[i+4>>2]=a.mode,te[i+8>>2]=a.nlink,U[i+12>>2]=a.uid,U[i+16>>2]=a.gid,U[i+20>>2]=a.rdev,Le=[a.size>>>0,(me=a.size,+Math.abs(me)>=1?me>0?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],U[i+24>>2]=Le[0],U[i+28>>2]=Le[1],U[i+32>>2]=4096,U[i+36>>2]=a.blocks;var u=a.atime.getTime(),f=a.mtime.getTime(),h=a.ctime.getTime();return Le=[Math.floor(u/1e3)>>>0,(me=Math.floor(u/1e3),+Math.abs(me)>=1?me>0?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],U[i+40>>2]=Le[0],U[i+44>>2]=Le[1],te[i+48>>2]=u%1e3*1e3*1e3,Le=[Math.floor(f/1e3)>>>0,(me=Math.floor(f/1e3),+Math.abs(me)>=1?me>0?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],U[i+56>>2]=Le[0],U[i+60>>2]=Le[1],te[i+64>>2]=f%1e3*1e3*1e3,Le=[Math.floor(h/1e3)>>>0,(me=Math.floor(h/1e3),+Math.abs(me)>=1?me>0?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],U[i+72>>2]=Le[0],U[i+76>>2]=Le[1],te[i+80>>2]=h%1e3*1e3*1e3,Le=[a.ino>>>0,(me=a.ino,+Math.abs(me)>=1?me>0?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],U[i+88>>2]=Le[0],U[i+92>>2]=Le[1],0},doMsync(t,n,i,a,u){if(!d.isFile(n.node.mode))throw new d.ErrnoError(43);if(a&2)return 0;var f=F.slice(t,t+i);d.msync(n,f,u,i,a)},getStreamFromFD(t){var n=d.getStreamChecked(t);return n},varargs:void 0,getStr(t){var n=tr(t);return n}};function Sl(t,n,i,a,u){try{P(t<=64,"nfds must be less than or equal to 64");for(var f=0,h=n?U[n>>2]:0,v=n?U[n+4>>2]:0,w=i?U[i>>2]:0,k=i?U[i+4>>2]:0,R=a?U[a>>2]:0,H=a?U[a+4>>2]:0,X=0,W=0,se=0,_e=0,Ae=0,Ce=0,Ge=(n?U[n>>2]:0)|(i?U[i>>2]:0)|(a?U[a>>2]:0),Ue=(n?U[n+4>>2]:0)|(i?U[i+4>>2]:0)|(a?U[a+4>>2]:0),mt=function(Gr,ku,$u,ls){return Gr<32?ku&ls:$u&ls},Me=0;Me<t;Me++){var Ve=1<<Me%32;if(mt(Me,Ge,Ue,Ve)){var xe=Oe.getStreamFromFD(Me),sr=Oe.DEFAULT_POLLMASK;if(xe.stream_ops.poll){var as=-1;if(u){var Au=n?U[u>>2]:0,Fu=n?U[u+4>>2]:0;as=(Au+Fu/1e6)*1e3}sr=xe.stream_ops.poll(xe,as)}sr&1&&mt(Me,h,v,Ve)&&(Me<32?X=X|Ve:W=W|Ve,f++),sr&4&&mt(Me,w,k,Ve)&&(Me<32?se=se|Ve:_e=_e|Ve,f++),sr&2&&mt(Me,R,H,Ve)&&(Me<32?Ae=Ae|Ve:Ce=Ce|Ve,f++)}}return n&&(U[n>>2]=X,U[n+4>>2]=W),i&&(U[i>>2]=se,U[i+4>>2]=_e),a&&(U[a>>2]=Ae,U[a+4>>2]=Ce),f}catch(Gr){if(typeof d>"u"||Gr.name!=="ErrnoError")throw Gr;return-Gr.errno}}var Re={mount(t){return s.websocket=s.websocket&&typeof s.websocket=="object"?s.websocket:{},s.websocket._callbacks={},s.websocket.on=function(n,i){return typeof i=="function"&&(this._callbacks[n]=i),this},s.websocket.emit=function(n,i){typeof this._callbacks[n]=="function"&&this._callbacks[n].call(this,i)},d.createNode(null,"/",16895,0)},createSocket(t,n,i){n&=-526337;var a=n==1;if(a&&i&&i!=6)throw new d.ErrnoError(66);var u={family:t,type:n,protocol:i,server:null,error:null,peers:{},pending:[],recv_queue:[],sock_ops:Re.websocket_sock_ops},f=Re.nextname(),h=d.createNode(Re.root,f,49152,0);h.sock=u;var v=d.createStream({path:f,node:h,flags:2,seekable:!1,stream_ops:Re.stream_ops});return u.stream=v,u},getSocket(t){var n=d.getStream(t);return!n||!d.isSocket(n.node.mode)?null:n.node.sock},stream_ops:{poll(t){var n=t.node.sock;return n.sock_ops.poll(n)},ioctl(t,n,i){var a=t.node.sock;return a.sock_ops.ioctl(a,n,i)},read(t,n,i,a,u){var f=t.node.sock,h=f.sock_ops.recvmsg(f,a);return h?(n.set(h.buffer,i),h.buffer.length):0},write(t,n,i,a,u){var f=t.node.sock;return f.sock_ops.sendmsg(f,n,i,a)},close(t){var n=t.node.sock;n.sock_ops.close(n)}},nextname(){return Re.nextname.current||(Re.nextname.current=0),"socket["+Re.nextname.current+++"]"},websocket_sock_ops:{createPeer(t,n,i){var a;if(typeof n=="object"&&(a=n,n=null,i=null),a)if(a._socket)n=a._socket.remoteAddress,i=a._socket.remotePort;else{var u=/ws[s]?:\/\/([^:]+):(\d+)/.exec(a.url);if(!u)throw new Error("WebSocket URL must be in the format ws(s)://address:port");n=u[1],i=parseInt(u[2],10)}else try{var f=s.websocket&&typeof s.websocket=="object",h="ws:#".replace("#","//");if(f&&typeof s.websocket.url=="string"&&(h=s.websocket.url),h==="ws://"||h==="wss://"){var v=n.split("/");h=h+v[0]+":"+i+"/"+v.slice(1).join("/")}var w="binary";f&&typeof s.websocket.subprotocol=="string"&&(w=s.websocket.subprotocol);var k=void 0;w!=="null"&&(w=w.replace(/^ +| +$/g,"").split(/ *, */),k=w),f&&s.websocket.subprotocol===null&&(w="null",k=void 0);var R;E?R=T("ws"):R=WebSocket,a=new R(h,k),a.binaryType="arraybuffer"}catch{throw new d.ErrnoError(23)}var H={addr:n,port:i,socket:a,msg_send_queue:[]};return Re.websocket_sock_ops.addPeer(t,H),Re.websocket_sock_ops.handlePeerEvents(t,H),t.type===2&&typeof t.sport<"u"&&H.msg_send_queue.push(new Uint8Array([255,255,255,255,112,111,114,116,(t.sport&65280)>>8,t.sport&255])),H},getPeer(t,n,i){return t.peers[n+":"+i]},addPeer(t,n){t.peers[n.addr+":"+n.port]=n},removePeer(t,n){delete t.peers[n.addr+":"+n.port]},handlePeerEvents(t,n){var i=!0,a=function(){s.websocket.emit("open",t.stream.fd);try{for(var f=n.msg_send_queue.shift();f;)n.socket.send(f),f=n.msg_send_queue.shift()}catch{n.socket.close()}};function u(f){if(typeof f=="string"){var h=new TextEncoder;f=h.encode(f)}else{if(P(f.byteLength!==void 0),f.byteLength==0)return;f=new Uint8Array(f)}var v=i;if(i=!1,v&&f.length===10&&f[0]===255&&f[1]===255&&f[2]===255&&f[3]===255&&f[4]===112&&f[5]===111&&f[6]===114&&f[7]===116){var w=f[8]<<8|f[9];Re.websocket_sock_ops.removePeer(t,n),n.port=w,Re.websocket_sock_ops.addPeer(t,n);return}t.recv_queue.push({addr:n.addr,port:n.port,data:f}),s.websocket.emit("message",t.stream.fd)}E?(n.socket.on("open",a),n.socket.on("message",function(f,h){h&&u(new Uint8Array(f).buffer)}),n.socket.on("close",function(){s.websocket.emit("close",t.stream.fd)}),n.socket.on("error",function(f){t.error=14,s.websocket.emit("error",[t.stream.fd,t.error,"ECONNREFUSED: Connection refused"])})):(n.socket.onopen=a,n.socket.onclose=function(){s.websocket.emit("close",t.stream.fd)},n.socket.onmessage=function(h){u(h.data)},n.socket.onerror=function(f){t.error=14,s.websocket.emit("error",[t.stream.fd,t.error,"ECONNREFUSED: Connection refused"])})},poll(t){if(t.type===1&&t.server)return t.pending.length?65:0;var n=0,i=t.type===1?Re.websocket_sock_ops.getPeer(t,t.daddr,t.dport):null;return(t.recv_queue.length||!i||i&&i.socket.readyState===i.socket.CLOSING||i&&i.socket.readyState===i.socket.CLOSED)&&(n|=65),(!i||i&&i.socket.readyState===i.socket.OPEN)&&(n|=4),(i&&i.socket.readyState===i.socket.CLOSING||i&&i.socket.readyState===i.socket.CLOSED)&&(n|=16),n},ioctl(t,n,i){switch(n){case 21531:var a=0;return t.recv_queue.length&&(a=t.recv_queue[0].data.length),U[i>>2]=a,0;default:return 28}},close(t){if(t.server){try{t.server.close()}catch{}t.server=null}for(var n=Object.keys(t.peers),i=0;i<n.length;i++){var a=t.peers[n[i]];try{a.socket.close()}catch{}Re.websocket_sock_ops.removePeer(t,a)}return 0},bind(t,n,i){if(typeof t.saddr<"u"||typeof t.sport<"u")throw new d.ErrnoError(28);if(t.saddr=n,t.sport=i,t.type===2){t.server&&(t.server.close(),t.server=null);try{t.sock_ops.listen(t,0)}catch(a){if(a.name!=="ErrnoError"||a.errno!==138)throw a}}},connect(t,n,i){if(t.server)throw new d.ErrnoError(138);if(typeof t.daddr<"u"&&typeof t.dport<"u"){var a=Re.websocket_sock_ops.getPeer(t,t.daddr,t.dport);if(a)throw a.socket.readyState===a.socket.CONNECTING?new d.ErrnoError(7):new d.ErrnoError(30)}var u=Re.websocket_sock_ops.createPeer(t,n,i);t.daddr=u.addr,t.dport=u.port},listen(t,n){if(!E)throw new d.ErrnoError(138);if(t.server)throw new d.ErrnoError(28);var i=T("ws").Server,a=t.saddr;t.server=new i({host:a,port:t.sport}),s.websocket.emit("listen",t.stream.fd),t.server.on("connection",function(u){if(t.type===1){var f=Re.createSocket(t.family,t.type,t.protocol),h=Re.websocket_sock_ops.createPeer(f,u);f.daddr=h.addr,f.dport=h.port,t.pending.push(f),s.websocket.emit("connection",f.stream.fd)}else Re.websocket_sock_ops.createPeer(t,u),s.websocket.emit("connection",t.stream.fd)}),t.server.on("close",function(){s.websocket.emit("close",t.stream.fd),t.server=null}),t.server.on("error",function(u){t.error=23,s.websocket.emit("error",[t.stream.fd,t.error,"EHOSTUNREACH: Host is unreachable"])})},accept(t){if(!t.server||!t.pending.length)throw new d.ErrnoError(28);var n=t.pending.shift();return n.stream.flags=t.stream.flags,n},getname(t,n){var i,a;if(n){if(t.daddr===void 0||t.dport===void 0)throw new d.ErrnoError(53);i=t.daddr,a=t.dport}else i=t.saddr||0,a=t.sport||0;return{addr:i,port:a}},sendmsg(t,n,i,a,u,f){if(t.type===2){if((u===void 0||f===void 0)&&(u=t.daddr,f=t.dport),u===void 0||f===void 0)throw new d.ErrnoError(17)}else u=t.daddr,f=t.dport;var h=Re.websocket_sock_ops.getPeer(t,u,f);if(t.type===1&&(!h||h.socket.readyState===h.socket.CLOSING||h.socket.readyState===h.socket.CLOSED))throw new d.ErrnoError(53);ArrayBuffer.isView(n)&&(i+=n.byteOffset,n=n.buffer);var v;if(v=n.slice(i,i+a),!h||h.socket.readyState!==h.socket.OPEN)return t.type===2&&(!h||h.socket.readyState===h.socket.CLOSING||h.socket.readyState===h.socket.CLOSED)&&(h=Re.websocket_sock_ops.createPeer(t,u,f)),h.msg_send_queue.push(v),a;try{return h.socket.send(v),a}catch{throw new d.ErrnoError(28)}},recvmsg(t,n){if(t.type===1&&t.server)throw new d.ErrnoError(53);var i=t.recv_queue.shift();if(!i){if(t.type===1){var a=Re.websocket_sock_ops.getPeer(t,t.daddr,t.dport);if(!a)throw new d.ErrnoError(53);if(a.socket.readyState===a.socket.CLOSING||a.socket.readyState===a.socket.CLOSED)return null;throw new d.ErrnoError(6)}throw new d.ErrnoError(6)}var u=i.data.byteLength||i.data.length,f=i.data.byteOffset||0,h=i.data.buffer||i.data,v=Math.min(n,u),w={buffer:new Uint8Array(h,f,v),addr:i.addr,port:i.port};if(t.type===1&&v<u){var k=u-v;i.data=new Uint8Array(h,f+v,k),t.recv_queue.unshift(i)}return w}}},nr=t=>{var n=Re.getSocket(t);if(!n)throw new d.ErrnoError(8);return n},Ui=t=>(t&255)+"."+(t>>8&255)+"."+(t>>16&255)+"."+(t>>24&255),Cl=t=>{var n="",i=0,a=0,u=0,f=0,h=0,v=0,w=[t[0]&65535,t[0]>>16,t[1]&65535,t[1]>>16,t[2]&65535,t[2]>>16,t[3]&65535,t[3]>>16],k=!0,R="";for(v=0;v<5;v++)if(w[v]!==0){k=!1;break}if(k){if(R=Ui(w[6]|w[7]<<16),w[5]===-1)return n="::ffff:",n+=R,n;if(w[5]===0)return n="::",R==="0.0.0.0"&&(R=""),R==="0.0.0.1"&&(R="1"),n+=R,n}for(i=0;i<8;i++)w[i]===0&&(i-u>1&&(h=0),u=i,h++),h>a&&(a=h,f=i-a+1);for(i=0;i<8;i++){if(a>1&&w[i]===0&&i>=f&&i<f+a){i===f&&(n+=":",f===0&&(n+=":"));continue}n+=Number(ns(w[i]&65535)).toString(16),n+=i<7?":":""}return n},Ol=(t,n)=>{var i=I[t>>1],a=ns(de[t+2>>1]),u;switch(i){case 2:if(n!==16)return{errno:28};u=U[t+4>>2],u=Ui(u);break;case 10:if(n!==28)return{errno:28};u=[U[t+8>>2],U[t+12>>2],U[t+16>>2],U[t+20>>2]],u=Cl(u);break;default:return{errno:5}}return{family:i,addr:u,port:a}},To=t=>{for(var n=t.split("."),i=0;i<4;i++){var a=Number(n[i]);if(isNaN(a))return null;n[i]=a}return(n[0]|n[1]<<8|n[2]<<16|n[3]<<24)>>>0},Sn=t=>parseInt(t),Di=t=>{var n,i,a,u,f=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,h=[];if(!f.test(t))return null;if(t==="::")return[0,0,0,0,0,0,0,0];for(t.startsWith("::")?t=t.replace("::","Z:"):t=t.replace("::",":Z:"),t.indexOf(".")>0?(t=t.replace(new RegExp("[.]","g"),":"),n=t.split(":"),n[n.length-4]=Sn(n[n.length-4])+Sn(n[n.length-3])*256,n[n.length-3]=Sn(n[n.length-2])+Sn(n[n.length-1])*256,n=n.slice(0,n.length-2)):n=t.split(":"),a=0,u=0,i=0;i<n.length;i++)if(typeof n[i]=="string")if(n[i]==="Z"){for(u=0;u<8-n.length+1;u++)h[i+u]=0;a=u-1}else h[i+a]=Uo(parseInt(n[i],16));else h[i+a]=n[i];return[h[1]<<16|h[0],h[3]<<16|h[2],h[5]<<16|h[4],h[7]<<16|h[6]]},bt={address_map:{id:1,addrs:{},names:{}},lookup_name(t){var n=To(t);if(n!==null||(n=Di(t),n!==null))return t;var i;if(bt.address_map.addrs[t])i=bt.address_map.addrs[t];else{var a=bt.address_map.id++;P(a<65535,"exceeded max address mappings of 65535"),i="172.29."+(a&255)+"."+(a&65280),bt.address_map.names[i]=t,bt.address_map.addrs[t]=i}return i},lookup_addr(t){return bt.address_map.names[t]?bt.address_map.names[t]:null}},Po=(t,n)=>{var i=Ol(t,n);if(i.errno)throw new d.ErrnoError(i.errno);return i.addr=bt.lookup_addr(i.addr)||i.addr,i};function Al(t,n,i,a,u,f){try{var h=nr(t),v=Po(n,i);return h.sock_ops.bind(h,v.addr,v.port),0}catch(w){if(typeof d>"u"||w.name!=="ErrnoError")throw w;return-w.errno}}function Fl(t,n,i,a,u,f){try{var h=nr(t),v=Po(n,i);return h.sock_ops.connect(h,v.addr,v.port),0}catch(w){if(typeof d>"u"||w.name!=="ErrnoError")throw w;return-w.errno}}function kl(t){try{var n=Oe.getStreamFromFD(t);return d.dupStream(n).fd}catch(i){if(typeof d>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}function Cn(){P(Oe.varargs!=null);var t=U[+Oe.varargs>>2];return Oe.varargs+=4,t}var yr=Cn;function $l(t,n,i){Oe.varargs=i;try{var a=Oe.getStreamFromFD(t);switch(n){case 0:{var u=Cn();if(u<0)return-28;for(;d.streams[u];)u++;var f;return f=d.dupStream(a,u),f.fd}case 1:case 2:return 0;case 3:return a.flags;case 4:{var u=Cn();return a.flags|=u,0}case 12:{var u=yr(),h=0;return I[u+h>>1]=2,0}case 13:case 14:return 0}return-28}catch(v){if(typeof d>"u"||v.name!=="ErrnoError")throw v;return-v.errno}}function Rl(t,n){try{var i=Oe.getStreamFromFD(t);return Oe.doStat(d.stat,i.path,n)}catch(a){if(typeof d>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}var _r=(t,n,i)=>(P(typeof i=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),wo(t,F,n,i));function Ml(t,n){try{if(n===0)return-28;var i=d.cwd(),a=gr(i)+1;return n<a?-68:(_r(i,t,n),a)}catch(u){if(typeof d>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}var Li=(t,n,i,a,u)=>{switch(n){case 2:i=To(i),xi(t,16),u&&(U[u>>2]=16),I[t>>1]=n,U[t+4>>2]=i,I[t+2>>1]=Uo(a);break;case 10:i=Di(i),xi(t,28),u&&(U[u>>2]=28),U[t>>2]=n,U[t+8>>2]=i[0],U[t+12>>2]=i[1],U[t+16>>2]=i[2],U[t+20>>2]=i[3],I[t+2>>1]=Uo(a);break;default:return 5}return 0};function xl(t,n,i,a,u,f){try{var h=nr(t),v=Li(n,h.family,bt.lookup_name(h.saddr||"0.0.0.0"),h.sport,i);return P(!v),0}catch(w){if(typeof d>"u"||w.name!=="ErrnoError")throw w;return-w.errno}}function Il(t,n,i,a,u,f){try{var h=nr(t);return n===1&&i===4?(U[a>>2]=h.error,U[u>>2]=4,h.error=null,0):-50}catch(v){if(typeof d>"u"||v.name!=="ErrnoError")throw v;return-v.errno}}function Nl(t,n,i){Oe.varargs=i;try{var a=Oe.getStreamFromFD(t);switch(n){case 21509:return a.tty?0:-59;case 21505:{if(!a.tty)return-59;if(a.tty.ops.ioctl_tcgets){var u=a.tty.ops.ioctl_tcgets(a),f=yr();U[f>>2]=u.c_iflag||0,U[f+4>>2]=u.c_oflag||0,U[f+8>>2]=u.c_cflag||0,U[f+12>>2]=u.c_lflag||0;for(var h=0;h<32;h++)M[f+h+17]=u.c_cc[h]||0;return 0}return 0}case 21510:case 21511:case 21512:return a.tty?0:-59;case 21506:case 21507:case 21508:{if(!a.tty)return-59;if(a.tty.ops.ioctl_tcsets){for(var f=yr(),v=U[f>>2],w=U[f+4>>2],k=U[f+8>>2],R=U[f+12>>2],H=[],h=0;h<32;h++)H.push(M[f+h+17]);return a.tty.ops.ioctl_tcsets(a.tty,n,{c_iflag:v,c_oflag:w,c_cflag:k,c_lflag:R,c_cc:H})}return 0}case 21519:{if(!a.tty)return-59;var f=yr();return U[f>>2]=0,0}case 21520:return a.tty?-28:-59;case 21531:{var f=yr();return d.ioctl(a,n,f)}case 21523:{if(!a.tty)return-59;if(a.tty.ops.ioctl_tiocgwinsz){var X=a.tty.ops.ioctl_tiocgwinsz(a.tty),f=yr();I[f>>1]=X[0],I[f+2>>1]=X[1]}return 0}case 21524:return a.tty?0:-59;case 21515:return a.tty?0:-59;default:return-28}}catch(W){if(typeof d>"u"||W.name!=="ErrnoError")throw W;return-W.errno}}function Ul(t,n){try{var i=nr(t);return i.sock_ops.listen(i,n),0}catch(a){if(typeof d>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function Dl(t,n){try{return t=Oe.getStr(t),Oe.doStat(d.lstat,t,n)}catch(i){if(typeof d>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}function Ll(t,n,i,a){try{n=Oe.getStr(n);var u=a&256,f=a&4096;return a=a&-6401,P(!a,`unknown flags in __syscall_newfstatat: ${a}`),n=Oe.calculateAt(t,n,f),Oe.doStat(u?d.lstat:d.stat,n,i)}catch(h){if(typeof d>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function Bl(t,n,i,a){Oe.varargs=a;try{n=Oe.getStr(n),n=Oe.calculateAt(t,n);var u=a?Cn():0;return d.open(n,i,u).fd}catch(f){if(typeof d>"u"||f.name!=="ErrnoError")throw f;return-f.errno}}function jl(t,n,i){try{for(var a=0,u=0;u<n;u++){var f=t+8*u,h=U[f>>2],v=I[f+4>>1],w=32,k=d.getStream(h);k&&(w=Oe.DEFAULT_POLLMASK,k.stream_ops.poll&&(w=k.stream_ops.poll(k,-1))),w&=v|8|16,w&&a++,I[f+6>>1]=w}return a}catch(R){if(typeof d>"u"||R.name!=="ErrnoError")throw R;return-R.errno}}function Vl(t,n,i,a,u,f){try{var h=nr(t),v=h.sock_ops.recvmsg(h,i);if(!v)return 0;if(u){var w=Li(u,h.family,bt.lookup_name(v.addr),v.port,f);P(!w)}return F.set(v.buffer,n),v.buffer.byteLength}catch(k){if(typeof d>"u"||k.name!=="ErrnoError")throw k;return-k.errno}}function Hl(t,n,i,a,u,f){try{var h=nr(t);if(!u)return d.write(h.stream,M,n,i);var v=Po(u,f);return h.sock_ops.sendmsg(h,M,n,i,v.addr,v.port)}catch(w){if(typeof d>"u"||w.name!=="ErrnoError")throw w;return-w.errno}}function Gl(t,n,i){try{var a=Re.createSocket(t,n,i);return P(a.stream.fd<64),a.stream.fd}catch(u){if(typeof d>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}function Wl(t,n){try{return t=Oe.getStr(t),Oe.doStat(d.stat,t,n)}catch(i){if(typeof d>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}var ql=()=>{D("native code called abort()")},zl=(t,n,i,a,u)=>{},Kl=()=>{for(var t=new Array(256),n=0;n<256;++n)t[n]=String.fromCharCode(n);Bi=t},Bi,Ke=t=>{for(var n="",i=t;F[i];)n+=Bi[F[i++]];return n},br={},or={},On={},wr,be=t=>{throw new wr(t)},ji,An=t=>{throw new ji(t)},It=(t,n,i)=>{t.forEach(v=>On[v]=n);function a(v){var w=i(v);w.length!==t.length&&An("Mismatched type converter count");for(var k=0;k<t.length;++k)wt(t[k],w[k])}var u=new Array(n.length),f=[],h=0;n.forEach((v,w)=>{or.hasOwnProperty(v)?u[w]=or[v]:(f.push(v),br.hasOwnProperty(v)||(br[v]=[]),br[v].push(()=>{u[w]=or[v],++h,h===f.length&&a(u)}))}),f.length===0&&a(u)};function Yl(t,n,i={}){var a=n.name;if(t||be(`type "${a}" must have a positive integer typeid pointer`),or.hasOwnProperty(t)){if(i.ignoreDuplicateRegistrations)return;be(`Cannot register type '${a}' twice`)}if(or[t]=n,delete On[t],br.hasOwnProperty(t)){var u=br[t];delete br[t],u.forEach(f=>f())}}function wt(t,n,i={}){if(!("argPackAdvance"in n))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Yl(t,n,i)}var Nt=8,Ql=(t,n,i,a)=>{n=Ke(n),wt(t,{name:n,fromWireType:function(u){return!!u},toWireType:function(u,f){return f?i:a},argPackAdvance:Nt,readValueFromPointer:function(u){return this.fromWireType(F[u])},destructorFunction:null})},Jl=t=>({count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType}),So=t=>{function n(i){return i.$$.ptrType.registeredClass.name}be(n(t)+" instance already deleted")},Co=!1,Vi=t=>{},Xl=t=>{t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)},Hi=t=>{t.count.value-=1;var n=t.count.value===0;n&&Xl(t)},Gi=(t,n,i)=>{if(n===i)return t;if(i.baseClass===void 0)return null;var a=Gi(t,n,i.baseClass);return a===null?null:i.downcast(a)},Wi={},Zl={},ec=(t,n)=>{for(n===void 0&&be("ptr should not be undefined");t.baseClass;)n=t.upcast(n),t=t.baseClass;return n},tc=(t,n)=>(n=ec(t,n),Zl[n]),Fn=(t,n)=>{(!n.ptrType||!n.ptr)&&An("makeClassHandle requires ptr and ptrType");var i=!!n.smartPtrType,a=!!n.smartPtr;return i!==a&&An("Both smartPtrType and smartPtr must be specified"),n.count={value:1},Br(Object.create(t,{$$:{value:n,writable:!0}}))};function qi(t){var n=this.getPointee(t);if(!n)return this.destructor(t),null;var i=tc(this.registeredClass,n);if(i!==void 0){if(i.$$.count.value===0)return i.$$.ptr=n,i.$$.smartPtr=t,i.clone();var a=i.clone();return this.destructor(t),a}function u(){return this.isSmartPointer?Fn(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:n,smartPtrType:this,smartPtr:t}):Fn(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var f=this.registeredClass.getActualType(n),h=Wi[f];if(!h)return u.call(this);var v;this.isConst?v=h.constPointerType:v=h.pointerType;var w=Gi(n,this.registeredClass,v.registeredClass);return w===null?u.call(this):this.isSmartPointer?Fn(v.registeredClass.instancePrototype,{ptrType:v,ptr:w,smartPtrType:this,smartPtr:t}):Fn(v.registeredClass.instancePrototype,{ptrType:v,ptr:w})}var Br=t=>typeof FinalizationRegistry>"u"?(Br=n=>n,t):(Co=new FinalizationRegistry(n=>{console.warn(n.leakWarning),Hi(n.$$)}),Br=n=>{var i=n.$$,a=!!i.smartPtr;if(a){var u={$$:i},f=i.ptrType.registeredClass,h=new Error(`Embind found a leaked C++ instance ${f.name} <${mr(i.ptr)}>.
We'll free it automatically in this case, but this functionality is not reliable across various environments.
Make sure to invoke .delete() manually once you're done with the instance instead.
Originally allocated`);"captureStackTrace"in Error&&Error.captureStackTrace(h,qi),u.leakWarning=h.stack.replace(/^Error: /,""),Co.register(n,u,n)}return n},Vi=n=>Co.unregister(n),Br(t)),rc=()=>{Object.assign(kn.prototype,{isAliasOf(t){if(!(this instanceof kn)||!(t instanceof kn))return!1;var n=this.$$.ptrType.registeredClass,i=this.$$.ptr;t.$$=t.$$;for(var a=t.$$.ptrType.registeredClass,u=t.$$.ptr;n.baseClass;)i=n.upcast(i),n=n.baseClass;for(;a.baseClass;)u=a.upcast(u),a=a.baseClass;return n===a&&i===u},clone(){if(this.$$.ptr||So(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t=Br(Object.create(Object.getPrototypeOf(this),{$$:{value:Jl(this.$$)}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t},delete(){this.$$.ptr||So(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&be("Object already scheduled for deletion"),Vi(this),Hi(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||So(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&be("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}})};function kn(){}var Er=(t,n)=>Object.defineProperty(n,"name",{value:t}),Oo=(t,n,i)=>{if(t[n].overloadTable===void 0){var a=t[n];t[n]=function(...u){return t[n].overloadTable.hasOwnProperty(u.length)||be(`Function '${i}' called with an invalid number of arguments (${u.length}) - expects one of (${t[n].overloadTable})!`),t[n].overloadTable[u.length].apply(this,u)},t[n].overloadTable=[],t[n].overloadTable[a.argCount]=a}},Ao=(t,n,i)=>{s.hasOwnProperty(t)?((i===void 0||s[t].overloadTable!==void 0&&s[t].overloadTable[i]!==void 0)&&be(`Cannot register public name '${t}' twice`),Oo(s,t,t),s.hasOwnProperty(i)&&be(`Cannot register multiple overloads of a function with the same number of arguments (${i})!`),s[t].overloadTable[i]=n):(s[t]=n,i!==void 0&&(s[t].numArguments=i))},nc=48,oc=57,ic=t=>{P(typeof t=="string"),t=t.replace(/[^a-zA-Z0-9_]/g,"$");var n=t.charCodeAt(0);return n>=nc&&n<=oc?`_${t}`:t};function sc(t,n,i,a,u,f,h,v){this.name=t,this.constructor=n,this.instancePrototype=i,this.rawDestructor=a,this.baseClass=u,this.getActualType=f,this.upcast=h,this.downcast=v,this.pureVirtualFunctions=[]}var Fo=(t,n,i)=>{for(;n!==i;)n.upcast||be(`Expected null or instance of ${i.name}, got an instance of ${n.name}`),t=n.upcast(t),n=n.baseClass;return t};function ac(t,n){if(n===null)return this.isReference&&be(`null is not a valid ${this.name}`),0;n.$$||be(`Cannot pass "${Tr(n)}" as a ${this.name}`),n.$$.ptr||be(`Cannot pass deleted object as a pointer of type ${this.name}`);var i=n.$$.ptrType.registeredClass,a=Fo(n.$$.ptr,i,this.registeredClass);return a}function lc(t,n){var i;if(n===null)return this.isReference&&be(`null is not a valid ${this.name}`),this.isSmartPointer?(i=this.rawConstructor(),t!==null&&t.push(this.rawDestructor,i),i):0;(!n||!n.$$)&&be(`Cannot pass "${Tr(n)}" as a ${this.name}`),n.$$.ptr||be(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&n.$$.ptrType.isConst&&be(`Cannot convert argument of type ${n.$$.smartPtrType?n.$$.smartPtrType.name:n.$$.ptrType.name} to parameter type ${this.name}`);var a=n.$$.ptrType.registeredClass;if(i=Fo(n.$$.ptr,a,this.registeredClass),this.isSmartPointer)switch(n.$$.smartPtr===void 0&&be("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:n.$$.smartPtrType===this?i=n.$$.smartPtr:be(`Cannot convert argument of type ${n.$$.smartPtrType?n.$$.smartPtrType.name:n.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:i=n.$$.smartPtr;break;case 2:if(n.$$.smartPtrType===this)i=n.$$.smartPtr;else{var u=n.clone();i=this.rawShare(i,ir.toHandle(()=>u.delete())),t!==null&&t.push(this.rawDestructor,i)}break;default:be("Unsupporting sharing policy")}return i}function cc(t,n){if(n===null)return this.isReference&&be(`null is not a valid ${this.name}`),0;n.$$||be(`Cannot pass "${Tr(n)}" as a ${this.name}`),n.$$.ptr||be(`Cannot pass deleted object as a pointer of type ${this.name}`),n.$$.ptrType.isConst&&be(`Cannot convert argument of type ${n.$$.ptrType.name} to parameter type ${this.name}`);var i=n.$$.ptrType.registeredClass,a=Fo(n.$$.ptr,i,this.registeredClass);return a}function $n(t){return this.fromWireType(te[t>>2])}var uc=()=>{Object.assign(jr.prototype,{getPointee(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t},destructor(t){this.rawDestructor?.(t)},argPackAdvance:Nt,readValueFromPointer:$n,fromWireType:qi})};function jr(t,n,i,a,u,f,h,v,w,k,R){this.name=t,this.registeredClass=n,this.isReference=i,this.isConst=a,this.isSmartPointer=u,this.pointeeType=f,this.sharingPolicy=h,this.rawGetPointee=v,this.rawConstructor=w,this.rawShare=k,this.rawDestructor=R,!u&&n.baseClass===void 0?a?(this.toWireType=ac,this.destructorFunction=null):(this.toWireType=cc,this.destructorFunction=null):this.toWireType=lc}var zi=(t,n,i)=>{s.hasOwnProperty(t)||An("Replacing nonexistent public symbol"),s[t].overloadTable!==void 0&&i!==void 0?s[t].overloadTable[i]=n:(s[t]=n,s[t].argCount=i)},dc=(t,n,i)=>{t=t.replace(/p/g,"i"),P("dynCall_"+t in s,`bad function pointer type - dynCall function not found for sig '${t}'`),i?.length?P(i.length===t.substring(1).replace(/j/g,"--").length):P(t.length==1);var a=s["dynCall_"+t];return a(n,...i)},Rn=[],Mn,ko=t=>{var n=Rn[t];return n||(t>=Rn.length&&(Rn.length=t+1),Rn[t]=n=Mn.get(t)),P(Mn.get(t)==n,"JavaScript-side Wasm function table mirror is out of date!"),n},fc=(t,n,i=[])=>{if(t.includes("j"))return dc(t,n,i);P(ko(n),`missing table entry in dynCall: ${n}`);var a=ko(n)(...i);return a},pc=(t,n)=>(P(t.includes("j")||t.includes("p"),"getDynCaller should only be called with i64 sigs"),(...i)=>fc(t,n,i)),pt=(t,n)=>{t=Ke(t);function i(){return t.includes("j")?pc(t,n):ko(n)}var a=i();return typeof a!="function"&&be(`unknown function pointer with signature ${t}: ${n}`),a},hc=(t,n)=>{var i=Er(n,function(a){this.name=n,this.message=a;var u=new Error(a).stack;u!==void 0&&(this.stack=this.toString()+`
`+u.replace(/^Error(:[^\n]*)?\n/,""))});return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},i},Ki,Yi=t=>{var n=Eu(t),i=Ke(n);return qt(n),i},Vr=(t,n)=>{var i=[],a={};function u(f){if(!a[f]&&!or[f]){if(On[f]){On[f].forEach(u);return}i.push(f),a[f]=!0}}throw n.forEach(u),new Ki(`${t}: `+i.map(Yi).join([", "]))},mc=(t,n,i,a,u,f,h,v,w,k,R,H,X)=>{R=Ke(R),f=pt(u,f),v&&=pt(h,v),k&&=pt(w,k),X=pt(H,X);var W=ic(R);Ao(W,function(){Vr(`Cannot construct ${R} due to unbound types`,[a])}),It([t,n,i],a?[a]:[],se=>{se=se[0];var _e,Ae;a?(_e=se.registeredClass,Ae=_e.instancePrototype):Ae=kn.prototype;var Ce=Er(R,function(...xe){if(Object.getPrototypeOf(this)!==Ge)throw new wr("Use 'new' to construct "+R);if(Ue.constructor_body===void 0)throw new wr(R+" has no accessible constructor");var sr=Ue.constructor_body[xe.length];if(sr===void 0)throw new wr(`Tried to invoke ctor of ${R} with invalid number of parameters (${xe.length}) - expected (${Object.keys(Ue.constructor_body).toString()}) parameters instead!`);return sr.apply(this,xe)}),Ge=Object.create(Ae,{constructor:{value:Ce}});Ce.prototype=Ge;var Ue=new sc(R,Ce,Ge,X,_e,f,v,k);Ue.baseClass&&(Ue.baseClass.__derivedClasses??=[],Ue.baseClass.__derivedClasses.push(Ue));var mt=new jr(R,Ue,!0,!1,!1),Me=new jr(R+"*",Ue,!1,!1,!1),Ve=new jr(R+" const*",Ue,!1,!0,!1);return Wi[t]={pointerType:Me,constPointerType:Ve},zi(W,Ce),[mt,Me,Ve]})},Qi=t=>{for(;t.length;){var n=t.pop(),i=t.pop();i(n)}};function Ji(t){for(var n=1;n<t.length;++n)if(t[n]!==null&&t[n].destructorFunction===void 0)return!0;return!1}function Xi(t,n){if(!(t instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof t} which is not a function`);var i=Er(t.name||"unknownFunctionName",function(){});i.prototype=t.prototype;var a=new i,u=t.apply(a,n);return u instanceof Object?u:a}function vc(t,n,i,a,u){if(t<n||t>i){var f=n==i?n:`${n} to ${i}`;u(`function ${a} called with ${t} arguments, expected ${f}`)}}function gc(t,n,i,a){var u=Ji(t),f=t.length-2,h=[],v=["fn"];n&&v.push("thisWired");for(var w=0;w<f;++w)h.push(`arg${w}`),v.push(`arg${w}Wired`);h=h.join(","),v=v.join(",");var k=`return function (${h}) {
`;k+=`checkArgCount(arguments.length, minArgs, maxArgs, humanName, throwBindingError);
`,u&&(k+=`var destructors = [];
`);var R=u?"destructors":"null",H=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];n&&(k+=`var thisWired = classParam['toWireType'](${R}, this);
`);for(var w=0;w<f;++w)k+=`var arg${w}Wired = argType${w}['toWireType'](${R}, arg${w});
`,H.push(`argType${w}`);if(k+=(i||a?"var rv = ":"")+`invoker(${v});
`,u)k+=`runDestructors(destructors);
`;else for(var w=n?1:2;w<t.length;++w){var X=w===1?"thisWired":"arg"+(w-2)+"Wired";t[w].destructorFunction!==null&&(k+=`${X}_dtor(${X});
`,H.push(`${X}_dtor`))}return i&&(k+=`var ret = retType['fromWireType'](rv);
return ret;
`),k+=`}
`,H.push("checkArgCount","minArgs","maxArgs"),k=`if (arguments.length !== ${H.length}){ throw new Error(humanName + "Expected ${H.length} closure arguments " + arguments.length + " given."); }
${k}`,[H,k]}function yc(t){for(var n=t.length-2,i=t.length-1;i>=2&&t[i].optional;--i)n--;return n}function xn(t,n,i,a,u,f){var h=n.length;h<2&&be("argTypes array size mismatch! Must at least get return value and 'this' types!"),P(!f,"Async bindings are only supported with JSPI.");for(var v=n[1]!==null&&i!==null,w=Ji(n),k=n[0].name!=="void",R=h-2,H=yc(n),X=[t,be,a,u,Qi,n[0],n[1]],W=0;W<h-2;++W)X.push(n[W+2]);if(!w)for(var W=v?1:2;W<n.length;++W)n[W].destructorFunction!==null&&X.push(n[W].destructorFunction);X.push(vc,H,R);let[se,_e]=gc(n,v,k,f);se.push(_e);var Ae=Xi(Function,se)(...X);return Er(t,Ae)}var In=(t,n)=>{for(var i=[],a=0;a<t;a++)i.push(te[n+a*4>>2]);return i},$o=t=>{t=t.trim();const n=t.indexOf("(");return n!==-1?(P(t[t.length-1]==")","Parentheses for argument names should match."),t.substr(0,n)):t},_c=(t,n,i,a,u,f,h,v,w)=>{var k=In(i,a);n=Ke(n),n=$o(n),f=pt(u,f),It([],[t],R=>{R=R[0];var H=`${R.name}.${n}`;function X(){Vr(`Cannot call ${H} due to unbound types`,k)}n.startsWith("@@")&&(n=Symbol[n.substring(2)]);var W=R.registeredClass.constructor;return W[n]===void 0?(X.argCount=i-1,W[n]=X):(Oo(W,n,H),W[n].overloadTable[i-1]=X),It([],k,se=>{var _e=[se[0],null].concat(se.slice(1)),Ae=xn(H,_e,null,f,h,v);if(W[n].overloadTable===void 0?(Ae.argCount=i-1,W[n]=Ae):W[n].overloadTable[i-1]=Ae,R.registeredClass.__derivedClasses)for(const Ce of R.registeredClass.__derivedClasses)Ce.constructor.hasOwnProperty(n)||(Ce.constructor[n]=Ae);return[]}),[]})},bc=(t,n,i,a,u,f)=>{P(n>0);var h=In(n,i);u=pt(a,u),It([],[t],v=>{v=v[0];var w=`constructor ${v.name}`;if(v.registeredClass.constructor_body===void 0&&(v.registeredClass.constructor_body=[]),v.registeredClass.constructor_body[n-1]!==void 0)throw new wr(`Cannot register multiple constructors with identical number of parameters (${n-1}) for class '${v.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return v.registeredClass.constructor_body[n-1]=()=>{Vr(`Cannot construct ${v.name} due to unbound types`,h)},It([],h,k=>(k.splice(1,0,null),v.registeredClass.constructor_body[n-1]=xn(w,k,null,u,f),[])),[]})},wc=(t,n,i,a,u,f,h,v,w,k)=>{var R=In(i,a);n=Ke(n),n=$o(n),f=pt(u,f),It([],[t],H=>{H=H[0];var X=`${H.name}.${n}`;n.startsWith("@@")&&(n=Symbol[n.substring(2)]),v&&H.registeredClass.pureVirtualFunctions.push(n);function W(){Vr(`Cannot call ${X} due to unbound types`,R)}var se=H.registeredClass.instancePrototype,_e=se[n];return _e===void 0||_e.overloadTable===void 0&&_e.className!==H.name&&_e.argCount===i-2?(W.argCount=i-2,W.className=H.name,se[n]=W):(Oo(se,n,X),se[n].overloadTable[i-2]=W),It([],R,Ae=>{var Ce=xn(X,Ae,H,f,h,w);return se[n].overloadTable===void 0?(Ce.argCount=i-2,se[n]=Ce):se[n].overloadTable[i-2]=Ce,[]}),[]})},Ro=[],ht=[],Mo=t=>{t>9&&--ht[t+1]===0&&(P(ht[t]!==void 0,"Decref for unallocated handle."),ht[t]=void 0,Ro.push(t))},Ec=()=>ht.length/2-5-Ro.length,Tc=()=>{ht.push(0,1,void 0,1,null,1,!0,1,!1,1),P(ht.length===10),s.count_emval_handles=Ec},ir={toValue:t=>(t||be("Cannot use deleted val. handle = "+t),P(t===2||ht[t]!==void 0&&t%2===0,`invalid handle: ${t}`),ht[t]),toHandle:t=>{switch(t){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const n=Ro.pop()||ht.length;return ht[n]=t,ht[n+1]=1,n}}}},Zi={name:"emscripten::val",fromWireType:t=>{var n=ir.toValue(t);return Mo(t),n},toWireType:(t,n)=>ir.toHandle(n),argPackAdvance:Nt,readValueFromPointer:$n,destructorFunction:null},Pc=t=>wt(t,Zi),Sc=(t,n,i)=>{switch(n){case 1:return i?function(a){return this.fromWireType(M[a])}:function(a){return this.fromWireType(F[a])};case 2:return i?function(a){return this.fromWireType(I[a>>1])}:function(a){return this.fromWireType(de[a>>1])};case 4:return i?function(a){return this.fromWireType(U[a>>2])}:function(a){return this.fromWireType(te[a>>2])};default:throw new TypeError(`invalid integer width (${n}): ${t}`)}},Cc=(t,n,i,a)=>{n=Ke(n);function u(){}u.values={},wt(t,{name:n,constructor:u,fromWireType:function(f){return this.constructor.values[f]},toWireType:(f,h)=>h.value,argPackAdvance:Nt,readValueFromPointer:Sc(n,i,a),destructorFunction:null}),Ao(n,u)},xo=(t,n)=>{var i=or[t];return i===void 0&&be(`${n} has unknown type ${Yi(t)}`),i},Oc=(t,n,i)=>{var a=xo(t,"enum");n=Ke(n);var u=a.constructor,f=Object.create(a.constructor.prototype,{value:{value:i},constructor:{value:Er(`${a.name}_${n}`,function(){})}});u.values[i]=f,u[n]=f},Tr=t=>{if(t===null)return"null";var n=typeof t;return n==="object"||n==="array"||n==="function"?t.toString():""+t},Ac=(t,n)=>{switch(n){case 4:return function(i){return this.fromWireType(Ee[i>>2])};case 8:return function(i){return this.fromWireType(it[i>>3])};default:throw new TypeError(`invalid float width (${n}): ${t}`)}},Fc=(t,n,i)=>{n=Ke(n),wt(t,{name:n,fromWireType:a=>a,toWireType:(a,u)=>{if(typeof u!="number"&&typeof u!="boolean")throw new TypeError(`Cannot convert ${Tr(u)} to ${this.name}`);return u},argPackAdvance:Nt,readValueFromPointer:Ac(n,i),destructorFunction:null})},kc=(t,n,i,a,u,f,h,v)=>{var w=In(n,i);t=Ke(t),t=$o(t),u=pt(a,u),Ao(t,function(){Vr(`Cannot call ${t} due to unbound types`,w)},n-1),It([],w,k=>{var R=[k[0],null].concat(k.slice(1));return zi(t,xn(t,R,null,u,f,h),n-1),[]})},$c=(t,n,i)=>{switch(n){case 1:return i?a=>M[a]:a=>F[a];case 2:return i?a=>I[a>>1]:a=>de[a>>1];case 4:return i?a=>U[a>>2]:a=>te[a>>2];default:throw new TypeError(`invalid integer width (${n}): ${t}`)}},Rc=(t,n,i,a,u)=>{n=Ke(n),u===-1&&(u=4294967295);var f=R=>R;if(a===0){var h=32-8*i;f=R=>R<<h>>>h}var v=n.includes("unsigned"),w=(R,H)=>{if(typeof R!="number"&&typeof R!="boolean")throw new TypeError(`Cannot convert "${Tr(R)}" to ${H}`);if(R<a||R>u)throw new TypeError(`Passing a number "${Tr(R)}" from JS side to C/C++ side to an argument of type "${n}", which is outside the valid range [${a}, ${u}]!`)},k;v?k=function(R,H){return w(H,this.name),H>>>0}:k=function(R,H){return w(H,this.name),H},wt(t,{name:n,fromWireType:f,toWireType:k,argPackAdvance:Nt,readValueFromPointer:$c(n,i,a!==0),destructorFunction:null})},Mc=(t,n,i)=>{var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],u=a[n];function f(h){var v=te[h>>2],w=te[h+4>>2];return new u(M.buffer,w,v)}i=Ke(i),wt(t,{name:i,fromWireType:f,argPackAdvance:Nt,readValueFromPointer:f},{ignoreDuplicateRegistrations:!0})},xc=Object.assign({optional:!0},Zi),Ic=(t,n)=>{wt(t,xc)},Nc=(t,n,i,a,u,f,h,v,w,k,R,H)=>{i=Ke(i),f=pt(u,f),v=pt(h,v),k=pt(w,k),H=pt(R,H),It([t],[n],X=>{X=X[0];var W=new jr(i,X.registeredClass,!1,!1,!0,X,a,f,v,k,H);return[W]})},Uc=(t,n)=>{n=Ke(n);var i=n==="std::string";wt(t,{name:n,fromWireType(a){var u=te[a>>2],f=a+4,h;if(i)for(var v=f,w=0;w<=u;++w){var k=f+w;if(w==u||F[k]==0){var R=k-v,H=tr(v,R);h===void 0?h=H:(h+="\0",h+=H),v=k+1}}else{for(var X=new Array(u),w=0;w<u;++w)X[w]=String.fromCharCode(F[f+w]);h=X.join("")}return qt(a),h},toWireType(a,u){u instanceof ArrayBuffer&&(u=new Uint8Array(u));var f,h=typeof u=="string";h||u instanceof Uint8Array||u instanceof Uint8ClampedArray||u instanceof Int8Array||be("Cannot pass non-string to std::string"),i&&h?f=gr(u):f=u.length;var v=rs(4+f+1),w=v+4;if(te[v>>2]=f,i&&h)_r(u,w,f+1);else if(h)for(var k=0;k<f;++k){var R=u.charCodeAt(k);R>255&&(qt(w),be("String has UTF-16 code units that do not fit in 8 bits")),F[w+k]=R}else for(var k=0;k<f;++k)F[w+k]=u[k];return a!==null&&a.push(qt,v),v},argPackAdvance:Nt,readValueFromPointer:$n,destructorFunction(a){qt(a)}})},es=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Dc=(t,n)=>{P(t%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var i=t,a=i>>1,u=a+n/2;!(a>=u)&&de[a];)++a;if(i=a<<1,i-t>32&&es)return es.decode(F.subarray(t,i));for(var f="",h=0;!(h>=n/2);++h){var v=I[t+h*2>>1];if(v==0)break;f+=String.fromCharCode(v)}return f},Lc=(t,n,i)=>{if(P(n%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),P(typeof i=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),i??=2147483647,i<2)return 0;i-=2;for(var a=n,u=i<t.length*2?i/2:t.length,f=0;f<u;++f){var h=t.charCodeAt(f);I[n>>1]=h,n+=2}return I[n>>1]=0,n-a},Bc=t=>t.length*2,jc=(t,n)=>{P(t%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var i=0,a="";!(i>=n/4);){var u=U[t+i*4>>2];if(u==0)break;if(++i,u>=65536){var f=u-65536;a+=String.fromCharCode(55296|f>>10,56320|f&1023)}else a+=String.fromCharCode(u)}return a},Vc=(t,n,i)=>{if(P(n%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),P(typeof i=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),i??=2147483647,i<4)return 0;for(var a=n,u=a+i-4,f=0;f<t.length;++f){var h=t.charCodeAt(f);if(h>=55296&&h<=57343){var v=t.charCodeAt(++f);h=65536+((h&1023)<<10)|v&1023}if(U[n>>2]=h,n+=4,n+4>u)break}return U[n>>2]=0,n-a},Hc=t=>{for(var n=0,i=0;i<t.length;++i){var a=t.charCodeAt(i);a>=55296&&a<=57343&&++i,n+=4}return n},Gc=(t,n,i)=>{i=Ke(i);var a,u,f,h;n===2?(a=Dc,u=Lc,h=Bc,f=v=>de[v>>1]):n===4&&(a=jc,u=Vc,h=Hc,f=v=>te[v>>2]),wt(t,{name:i,fromWireType:v=>{for(var w=te[v>>2],k,R=v+4,H=0;H<=w;++H){var X=v+4+H*n;if(H==w||f(X)==0){var W=X-R,se=a(R,W);k===void 0?k=se:(k+="\0",k+=se),R=X+n}}return qt(v),k},toWireType:(v,w)=>{typeof w!="string"&&be(`Cannot pass non-string to C++ string type ${i}`);var k=h(w),R=rs(4+k+n);return te[R>>2]=k/n,u(w,R+4,k+n),v!==null&&v.push(qt,R),R},argPackAdvance:Nt,readValueFromPointer:$n,destructorFunction(v){qt(v)}})},Wc=(t,n)=>{n=Ke(n),wt(t,{isVoid:!0,name:n,argPackAdvance:0,fromWireType:()=>{},toWireType:(i,a)=>{}})},qc=t=>{var n=tr(t);return To(bt.lookup_name(n))},zc=(t,n,i)=>F.copyWithin(t,n,n+i),Io=[],Kc=(t,n,i,a)=>(t=Io[t],n=ir.toValue(n),t(null,n,i,a)),Yc=t=>{var n=Io.length;return Io.push(t),n},Qc=(t,n)=>{for(var i=new Array(t),a=0;a<t;++a)i[a]=xo(te[n+a*4>>2],"parameter "+a);return i},Jc=(t,n,i)=>{var a=[],u=t.toWireType(a,i);return a.length&&(te[n>>2]=ir.toHandle(a)),u},Xc=(t,n,i)=>{var a=Qc(t,n),u=a.shift();t--;var f=`return function (obj, func, destructorsRef, args) {
`,h=0,v=[];i===0&&v.push("obj");for(var w=["retType"],k=[u],R=0;R<t;++R)v.push("arg"+R),w.push("argType"+R),k.push(a[R]),f+=`  var arg${R} = argType${R}.readValueFromPointer(args${h?"+"+h:""});
`,h+=a[R].argPackAdvance;var H=i===1?"new func":"func.call";f+=`  var rv = ${H}(${v.join(", ")});
`,u.isVoid||(w.push("emval_returnValue"),k.push(Jc),f+=`  return emval_returnValue(retType, destructorsRef, rv);
`),f+=`};
`,w.push(f);var X=Xi(Function,w)(...k),W=`methodCaller<(${a.map(se=>se.name).join(", ")}) => ${u.name}>`;return Yc(Er(W,X))},Zc=t=>{t>9&&(ht[t+1]+=1)},eu=t=>{var n=ir.toValue(t);Qi(n),Mo(t)},tu=(t,n)=>{t=xo(t,"_emval_take_value");var i=t.readValueFromPointer(n);return ir.toHandle(i)},ru=(t,n,i,a)=>{var u=new Date().getFullYear(),f=new Date(u,0,1),h=new Date(u,6,1),v=f.getTimezoneOffset(),w=h.getTimezoneOffset(),k=Math.max(v,w);te[t>>2]=k*60,U[n>>2]=+(v!=w);var R=W=>{var se=W>=0?"-":"+",_e=Math.abs(W),Ae=String(Math.floor(_e/60)).padStart(2,"0"),Ce=String(_e%60).padStart(2,"0");return`UTC${se}${Ae}${Ce}`},H=R(v),X=R(w);P(H),P(X),P(gr(H)<=16,`timezone name truncated to fit in TZNAME_MAX (${H})`),P(gr(X)<=16,`timezone name truncated to fit in TZNAME_MAX (${X})`),w<v?(_r(H,i,17),_r(X,a,17)):(_r(H,a,17),_r(X,i,17))},Nn=[],nu=(t,n)=>{P(Array.isArray(Nn)),P(n%16==0),Nn.length=0;for(var i;i=F[t++];){var a=String.fromCharCode(i),u=["d","f","i","p"];P(u.includes(a),`Invalid character ${i}("${a}") in readEmAsmArgs! Use only [${u}], and do not specify "v" for void return argument.`);var f=i!=105;f&=i!=112,n+=f&&n%8?4:0,Nn.push(i==112?te[n>>2]:i==105?U[n>>2]:it[n>>3]),n+=f?8:4}return Nn},ou=(t,n,i)=>{var a=nu(n,i);return P(ki.hasOwnProperty(t),`No EM_ASM constant found at address ${t}.  The loaded WebAssembly file is likely out of sync with the generated JavaScript.`),ki[t](...a)},iu=(t,n,i)=>ou(t,n,i),su=()=>Date.now(),au=()=>2147483648,lu=t=>{var n=ue.buffer,i=(t-n.byteLength+65535)/65536|0;try{return ue.grow(i),Ze(),1}catch(a){ee(`growMemory: Attempted to grow heap from ${n.byteLength} bytes to ${t} bytes, but got error: ${a}`)}},cu=t=>{var n=F.length;t>>>=0,P(t>n);var i=au();if(t>i)return ee(`Cannot enlarge memory, requested ${t} bytes, but the limit is ${i} bytes!`),!1;for(var a=1;a<=4;a*=2){var u=n*(1+.2/a);u=Math.min(u,t+100663296);var f=Math.min(i,gl(Math.max(t,u),65536)),h=lu(f);if(h)return!0}return ee(`Failed to grow the heap from ${n} bytes to ${f} bytes, not enough memory!`),!1},No={},uu=()=>O||"./this.program",Hr=()=>{if(!Hr.strings){var t=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",n={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:t,_:uu()};for(var i in No)No[i]===void 0?delete n[i]:n[i]=No[i];var a=[];for(var i in n)a.push(`${i}=${n[i]}`);Hr.strings=a}return Hr.strings},du=(t,n)=>{for(var i=0;i<t.length;++i)P(t.charCodeAt(i)===(t.charCodeAt(i)&255)),M[n++]=t.charCodeAt(i);M[n]=0},fu=(t,n)=>{var i=0;return Hr().forEach((a,u)=>{var f=n+i;te[t+u*4>>2]=f,du(a,f),i+=a.length+1}),0},pu=(t,n)=>{var i=Hr();te[t>>2]=i.length;var a=0;return i.forEach(u=>a+=u.length+1),te[n>>2]=a,0};function hu(t){try{var n=Oe.getStreamFromFD(t);return d.close(n),0}catch(i){if(typeof d>"u"||i.name!=="ErrnoError")throw i;return i.errno}}var mu=(t,n,i,a)=>{for(var u=0,f=0;f<i;f++){var h=te[n>>2],v=te[n+4>>2];n+=8;var w=d.read(t,M,h,v,a);if(w<0)return-1;if(u+=w,w<v)break}return u};function vu(t,n,i,a){try{var u=Oe.getStreamFromFD(t),f=mu(u,n,i);return te[a>>2]=f,0}catch(h){if(typeof d>"u"||h.name!=="ErrnoError")throw h;return h.errno}}var gu=(t,n)=>(P(t==t>>>0||t==(t|0)),P(n===(n|0)),n+2097152>>>0<4194305-!!t?(t>>>0)+n*4294967296:NaN);function yu(t,n,i,a,u){var f=gu(n,i);try{if(isNaN(f))return 61;var h=Oe.getStreamFromFD(t);return d.llseek(h,f,a),Le=[h.position>>>0,(me=h.position,+Math.abs(me)>=1?me>0?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],U[u>>2]=Le[0],U[u+4>>2]=Le[1],h.getdents&&f===0&&a===0&&(h.getdents=null),0}catch(v){if(typeof d>"u"||v.name!=="ErrnoError")throw v;return v.errno}}var _u=(t,n,i,a)=>{for(var u=0,f=0;f<i;f++){var h=te[n>>2],v=te[n+4>>2];n+=8;var w=d.write(t,M,h,v,a);if(w<0)return-1;if(u+=w,w<v)break}return u};function bu(t,n,i,a){try{var u=Oe.getStreamFromFD(t),f=_u(u,n,i);return te[a>>2]=f,0}catch(h){if(typeof d>"u"||h.name!=="ErrnoError")throw h;return h.errno}}d.createPreloadedFile=El,d.staticInit(),Kl(),wr=s.BindingError=class extends Error{constructor(n){super(n),this.name="BindingError"}},ji=s.InternalError=class extends Error{constructor(n){super(n),this.name="InternalError"}},rc(),uc(),Ki=s.UnboundTypeError=hc(Error,"UnboundTypeError"),Tc();function wu(){ft("fetchSettings")}var ts={__assert_fail:fl,__cxa_throw:hl,__syscall__newselect:Sl,__syscall_bind:Al,__syscall_connect:Fl,__syscall_dup:kl,__syscall_fcntl64:$l,__syscall_fstat64:Rl,__syscall_getcwd:Ml,__syscall_getsockname:xl,__syscall_getsockopt:Il,__syscall_ioctl:Nl,__syscall_listen:Ul,__syscall_lstat64:Dl,__syscall_newfstatat:Ll,__syscall_openat:Bl,__syscall_poll:jl,__syscall_recvfrom:Vl,__syscall_sendto:Hl,__syscall_socket:Gl,__syscall_stat64:Wl,_abort_js:ql,_embind_register_bigint:zl,_embind_register_bool:Ql,_embind_register_class:mc,_embind_register_class_class_function:_c,_embind_register_class_constructor:bc,_embind_register_class_function:wc,_embind_register_emval:Pc,_embind_register_enum:Cc,_embind_register_enum_value:Oc,_embind_register_float:Fc,_embind_register_function:kc,_embind_register_integer:Rc,_embind_register_memory_view:Mc,_embind_register_optional:Ic,_embind_register_smart_ptr:Nc,_embind_register_std_string:Uc,_embind_register_std_wstring:Gc,_embind_register_void:Wc,_emscripten_lookup_name:qc,_emscripten_memcpy_js:zc,_emval_call:Kc,_emval_decref:Mo,_emval_get_method_caller:Xc,_emval_incref:Zc,_emval_run_destructors:eu,_emval_take_value:tu,_tzset_js:ru,emscripten_asm_const_int:iu,emscripten_date_now:su,emscripten_resize_heap:cu,environ_get:fu,environ_sizes_get:pu,fd_close:hu,fd_read:vu,fd_seek:yu,fd_write:bu},Wt=dt(),Eu=ne("__getTypeName",1),rs=ne("malloc",1),qt=ne("free",1),Tu=ne("fflush",1),Uo=ne("htons",1),Pu=ne("strerror",1),ns=ne("ntohs",1),os=()=>(os=Wt.emscripten_stack_init)(),Do=()=>(Do=Wt.emscripten_stack_get_end)();s.dynCall_jiji=ne("dynCall_jiji",5),s.dynCall_viijii=ne("dynCall_viijii",7),s.dynCall_iiiiij=ne("dynCall_iiiiij",7),s.dynCall_iiiiijj=ne("dynCall_iiiiijj",9),s.dynCall_iiiiiijj=ne("dynCall_iiiiiijj",10);var Su=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","stackAlloc","getTempRet0","setTempRet0","exitJS","emscriptenLog","runMainThreadEmAsm","listenOnce","autoResumeAudioContext","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayToString","AsciiToString","stringToNewUTF8","stringToUTF8OnStack","writeArrayToMemory","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","registerPostMainLoop","registerPreMainLoop","getPromise","makePromise","idsToPromises","makePromiseCallback","findMatchingCatch","Browser_asyncPrepareDataCounter","safeRequestAnimationFrame","isLeapYear","ydayFromDate","arraySum","addDays","FS_unlink","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","webgl_enable_EXT_polygon_offset_clamp","webgl_enable_EXT_clip_control","webgl_enable_WEBGL_polygon_mode","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","setErrNo","demangle","stackTrace","getFunctionArgsName","createJsInvokerSignature","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","setDelayFunction","validateThis","getStringOrSymbol","emval_get_global"];Su.forEach(dl);var Cu=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","out","err","callMain","abort","wasmMemory","wasmExports","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","stackSave","stackRestore","ptrToString","zeroMemory","getHeapMax","growMemory","ENV","ERRNO_CODES","strError","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","DNS","Protocols","Sockets","initRandomFill","randomFill","timers","warnOnce","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","jstoi_q","jstoi_s","getExecutableName","dynCallLegacy","getDynCaller","dynCall","asyncLoad","alignMemory","mmapAlloc","wasmTable","noExitRuntime","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","intArrayFromString","stringToAscii","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","UNWIND_CACHE","ExitStatus","getEnvStrings","doReadv","doWritev","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","Browser","getPreloadedImageData__data","wget","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","SYSCALLS","getSocketFromFD","getSocketAddress","preloadPlugins","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar_buffer","FS_stdin_getChar","FS_createPath","FS_createDevice","FS_readFile","FS","FS_createDataFile","FS_createLazyFile","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","print","printErr","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","getTypeName","getFunctionName","heap32VectorToArray","requireRegisteredType","usesDestructorStack","checkArgCount","getRequiredArgCount","createJsInvoker","UnboundTypeError","PureVirtualError","GenericWireTypeSize","EmValType","EmValOptionalType","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","embindRepr","registeredInstances","getBasestPointer","getInheritedInstance","registeredPointers","registerType","integerReadValueFromPointer","enumReadValueFromPointer","floatReadValueFromPointer","readPointer","runDestructors","newFunc","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","finalizationRegistry","detachFinalizer_deps","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","throwInstanceAlreadyDeleted","deletionQueue","flushPendingDeletes","delayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","char_0","char_9","makeLegalFunctionName","emval_freelist","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_returnValue","emval_lookupTypes","emval_methodCallers","emval_addMethodCaller","reflectConstruct"];Cu.forEach(Fi);var Un,is;B=function t(){Un||ss(),Un||(B=t)};function Ou(){os(),_t()}function ss(){if(b>0||(Ou(),!is&&(is=1,hr(),b>0)))return;function t(){Un||(Un=1,s.calledRun=1,!oe&&(Ur(),l(s),s.onRuntimeInitialized?.(),P(!s._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),Pn()))}s.setStatus?(s.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>s.setStatus(""),1),t()},1)):t(),nt()}if(s.preInit)for(typeof s.preInit=="function"&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();ss(),o=p;for(const t of Object.keys(s))t in r||Object.defineProperty(r,t,{configurable:!0,get(){D(`Access to module property ('${t}') is no longer possible via the module constructor argument; Instead, use the result of the module constructor.`)}});return o})})();const Em="/modelAnnotatorWeb/assets/libcellml-Bvub9RAa.wasm",Hs={Temporal:{description:"Time-related properties",units:[{name:"ms",definition:[["second","milli"]],domain:"Biochemistry",annotationType:null}]},Thermodynamic:{description:"Temperature and energy properties",units:[{name:"K",definition:[["kelvin"]],domain:"Biochemistry",annotationType:null},{name:"J",definition:[["joule"]],domain:"Biochemistry",annotationType:null},{name:"mW",definition:[["watt","milli"]],domain:"Biochemistry",annotationType:null},{name:"S",definition:[["joule"],["kelvin",null,-1]],domain:"Biochemistry",annotationType:null},{name:"S_per_s",definition:[["S"],["second",null,-1]],domain:"Biochemistry",annotationType:null}]},Quantities:{description:"Amounts and concentrations",units:[{name:"fmol",definition:[["mole","femto"]],domain:"Biochemistry",annotationType:"Quantities"},{name:"mM",definition:[["mole","milli"],["litre",null,-1]],domain:"Biochemistry",annotationType:"Quantities"},{name:"mol_per_m2",definition:[["mole"],["metre",null,-2]],domain:"Biochemistry",annotationType:"Quantities"},{name:"C_per_m2",definition:[["coulomb"],["metre",null,-2]],domain:"Biochemistry",annotationType:"Quantities"},{name:"C_per_m3",definition:[["coulomb"],["metre",null,-3]],domain:"Biochemistry",annotationType:"Quantities"},{name:"fC",definition:[["coulomb","femto"]],domain:"Biochemistry",annotationType:"Quantities"},{name:"m3",definition:[["metre",null,3]],domain:"Fluid dynamics",annotationType:"Quantities"},{name:"um",definition:[["metre","micro"]],domain:"Fluid dynamics",annotationType:null},{name:"m2",definition:[["metre",null,2]],domain:"Fluid dynamics",annotationType:null},{name:"rad",definition:[["radian"]],domain:"Fluid dynamics",annotationType:null},{name:"kg",definition:[["kilogram"]],domain:"Fluid dynamics",annotationType:null},{name:"kg_per_m2",definition:[["kilogram"],["metre",null,-2]],domain:"Fluid dynamics",annotationType:null},{name:"kg_per_m3",definition:[["kilogram"],["metre",null,-3]],domain:"Fluid dynamics",annotationType:null}]},"Flow rates":{description:"Fluxes and flows",units:[{name:"fmol_per_s",definition:[["mole","femto"],["second",null,-1]],domain:"Biochemistry",annotationType:"Flow rates"},{name:"mM_per_s",definition:[["mole","milli"],["litre",null,-1],["second",null,-1]],domain:"Biochemistry",annotationType:"Flow rates"},{name:"mol_per_m2_s",definition:[["mole"],["metre",null,-2],["second",null,-1]],domain:"Biochemistry",annotationType:"Flow rates"},{name:"C_per_m2_s",definition:[["coulomb"],["metre",null,-2],["second",null,-1]],domain:"Biochemistry",annotationType:"Flow rates"},{name:"C_per_m3_s",definition:[["coulomb"],["metre",null,-3],["second",null,-1]],domain:"Biochemistry",annotationType:"Flow rates"},{name:"fA",definition:[["ampere","femto"]],domain:"Biochemistry",annotationType:"Flow rates"},{name:"m3_per_s",definition:[["metre",null,3],["second",null,-1]],domain:"Fluid dynamics",annotationType:"Flow rates"},{name:"m_per_s",definition:[["metre"],["second",null,-1]],domain:"Fluid dynamics",annotationType:null},{name:"m2_per_s",definition:[["metre",null,2],["second",null,-1]],domain:"Fluid dynamics",annotationType:null},{name:"rad_per_s",definition:[["radian"],["second",null,-1]],domain:"Fluid dynamics",annotationType:null},{name:"kg_per_s",definition:[["kilogram"],["second",null,-1]],domain:"Fluid dynamics",annotationType:null}]},Efforts:{description:"Potentials and driving forces",units:[{name:"mV",definition:[["volt","milli"]],domain:"Biochemistry",annotationType:"Efforts"},{name:"J_per_mol",definition:[["joule"],["mole",null,-1]],domain:"Biochemistry",annotationType:"Efforts"},{name:"Pa",definition:[["pascal"]],domain:"Fluid dynamics",annotationType:"Efforts"},{name:"N",definition:[["newton"]],domain:"Fluid dynamics",annotationType:null},{name:"J_per_m2",definition:[["joule"],["metre",null,-2]],domain:"Fluid dynamics",annotationType:null},{name:"J_per_kg",definition:[["joule"],["kilogram",null,-1]],domain:"Fluid dynamics",annotationType:null}]}};function Tm(){const e=De(null),r=De(null),o=De([]),s=De([]),l=De(null),c=De(null),p=De(null),m=kt(()=>{if(!p.value||!s.value.length)return{Uncategorized:s.value};const T={};Object.keys(Hs).forEach(O=>{T[O]=[]}),T.Uncategorized=[],s.value.forEach(O=>{let A=!1,K=O.units||"???",Q=null;try{if(O.variable?.units&&typeof O.variable.units=="function"&&(Q=O.variable.units(),Q&&(K=Q.name?.()||K)),Q)for(const[$,G]of Object.entries(Hs)){if(A)break;for(const Y of G.units){if(A)break;try{const V=new p.value.Units;if(V.setName(Y.name),Y.definition.forEach(q=>{const[re,ee=null,fe=1]=q;ee&&fe!==1?V.addUnitByReferenceStringPrefix(re,ee,fe):ee?V.addUnitByReferenceStringPrefix(re,ee):fe!==1?V.addUnitByReferenceExponent(re,fe,"1"):V.addUnitByReference(re)}),p.value.Units.compatible(V,Q)){const q={...O,category:$,matchedUnit:Y.name,domain:Y.domain||"Unknown",annotationType:Y.annotationType||null};T[$].push(q),A=!0}V?.delete&&V.delete()}catch(V){console.warn(`Error comparing with ${Y.name}:`,V)}}}A||T.Uncategorized.push({...O,domain:"Unknown"}),Q?.delete&&(Q.delete(),Q=null)}catch($){if(console.warn(`Error processing variable ${O.name}:`,$),A||T.Uncategorized.push({...O,domain:"Unknown"}),Q?.delete)try{Q.delete()}catch{}}});const x={};return Object.entries(T).forEach(([O,A])=>{A.length>0&&(x[O]=A)}),x});return{model:e,components:o,variables:s,groupedVariables:m,parseModel:T=>{try{e.value=Zr(l.value.parseModel(T)),o.value=[],s.value=[],r.value=e.value.name(),console.log("model name",r.value);const x=e.value.componentCount();for(let O=0;O<x;O++){const A=Zr(e.value.componentByIndex(O)),K={name:A.name()||`component ${O+1}`,variableCount:A.variableCount(),component:A};o.value.push(K);const Q=A.variableCount();for(let $=0;$<Q;$++){const G=Zr(A.variableByIndex($));let Y="???",V=null;try{G.units&&typeof G.units=="function"&&(V=G.units(),V&&(Y=V.name?.()||"???",(Y==="???"||!Y)&&(Y=V.unitAttributeReference?.(0)||"???")))}catch(q){console.warn(`Error getting units for variable ${$}:`,q)}s.value.push({name:G.name()||`Variable${$+1}`,units:Y,initialValue:G.initialValue()||"",interfaceType:G.interfaceType()||"none",component:K,variable:G})}}}catch(x){console.error("Model parse failed:",x)}},exportModel:()=>{try{if(!e.value||!c.value)throw new Error("Model or printer not initialized");const T=c.value.printModel(e.value),x=new Blob([T],{type:"application/xml"}),O=URL.createObjectURL(x),A=document.createElement("a");A.href=O,A.download=`${r.value||"model"}_annotated.cellml`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(O)}catch(T){console.error("Export failed:",T)}},initLibCellML:async()=>{try{p.value=await wm({locateFile(T,x){return T.endsWith(".wasm")?Em:x+T}}),p.value&&(l.value=Zr(new p.value.Parser(!1)),c.value=new p.value.Printer)}catch(T){console.error("libCellML load failed:",T)}}}}const Kr="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Yr="http://www.w3.org/2001/XMLSchema#",Vn="http://www.w3.org/2000/10/swap/",rl={xsd:{decimal:`${Yr}decimal`,boolean:`${Yr}boolean`,double:`${Yr}double`,integer:`${Yr}integer`,string:`${Yr}string`},rdf:{type:`${Kr}type`,nil:`${Kr}nil`,first:`${Kr}first`,rest:`${Kr}rest`,langString:`${Kr}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${Vn}reify#forSome`,forAll:`${Vn}reify#forAll`},log:{implies:`${Vn}log#implies`,isImpliedBy:`${Vn}log#isImpliedBy`}},{rdf:Pm,xsd:Ar}=rl;let wn,Sm=0;const nl={namedNode:sl,blankNode:al,variable:cl,literal:ll,defaultGraph:Fm,quad:ai,triple:ai,fromTerm:tn,fromQuad:ul};class Mt{constructor(r){this.id=r}get value(){return this.id}equals(r){return r instanceof Mt?this.id===r.id:!!r&&this.termType===r.termType&&this.value===r.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class ol extends Mt{get termType(){return"NamedNode"}}class dn extends Mt{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const r=this.id;let o=r.lastIndexOf('"')+1;return o<r.length&&r[o++]==="@"?r.substr(o).toLowerCase():""}get datatype(){return new ol(this.datatypeString)}get datatypeString(){const r=this.id,o=r.lastIndexOf('"')+1,s=o<r.length?r[o]:"";return s==="^"?r.substr(o+2):s!=="@"?Ar.string:Pm.langString}equals(r){return r instanceof dn?this.id===r.id:!!r&&!!r.datatype&&this.termType===r.termType&&this.value===r.value&&this.language===r.language&&this.datatype.value===r.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class Cm extends Mt{constructor(r){super(`_:${r}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class Om extends Mt{constructor(r){super(`?${r}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class Am extends Mt{constructor(){return super(""),wn||this}get termType(){return"DefaultGraph"}equals(r){return this===r||!!r&&this.termType===r.termType}}wn=new Am;class il extends Mt{constructor(r,o,s,l){super(""),this._subject=r,this._predicate=o,this._object=s,this._graph=l||wn}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(r){return!!r&&this._subject.equals(r.subject)&&this._predicate.equals(r.predicate)&&this._object.equals(r.object)&&this._graph.equals(r.graph)}}function sl(e){return new ol(e)}function al(e){return new Cm(e||`n3-${Sm++}`)}function ll(e,r){if(typeof r=="string")return new dn(`"${e}"@${r.toLowerCase()}`);let o=r?r.value:"";return o===""&&(typeof e=="boolean"?o=Ar.boolean:typeof e=="number"&&(Number.isFinite(e)?o=Number.isInteger(e)?Ar.integer:Ar.double:(o=Ar.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),o===""||o===Ar.string?new dn(`"${e}"`):new dn(`"${e}"^^${o}`)}function cl(e){return new Om(e)}function Fm(){return wn}function ai(e,r,o,s){return new il(e,r,o,s)}function tn(e){if(e instanceof Mt)return e;switch(e.termType){case"NamedNode":return sl(e.value);case"BlankNode":return al(e.value);case"Variable":return cl(e.value);case"DefaultGraph":return wn;case"Literal":return ll(e.value,e.language||e.datatype);case"Quad":return ul(e);default:throw new Error(`Unexpected termType: ${e.termType}`)}}function ul(e){if(e instanceof il)return e;if(e.termType!=="Quad")throw new Error(`Unexpected termType: ${e.termType}`);return ai(tn(e.subject),tn(e.predicate),tn(e.object),tn(e.graph))}function km(e){return!!e&&e.termType==="DefaultGraph"}function Yn(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}const $m=/^:?[^:?#]*(?:[?#]|$)|^file:|^[^:]*:\/*[^?#]+?\/(?:\.\.?(?:\/|$)|\/)/i,Rm=/^(?:(?:[^/?#]{3,}|\.?[^/?#.]\.?)(?:\/[^/?#]{3,}|\.?[^/?#.]\.?)*\/?)?(?:[?#]|$)/,Gs="./",Mm="../",Ko="?",Ws="#";class Ci{constructor(r){this.base=r,this._baseLength=0,this._baseMatcher=null,this._pathReplacements=new Array(r.length+1)}static supports(r){return!$m.test(r)}_getBaseMatcher(){if(this._baseMatcher)return this._baseMatcher;if(!Ci.supports(this.base))return this._baseMatcher=/.^/;const r=/^[^:]*:\/*/.exec(this.base)[0],o=["^",Yn(r)],s=[],l=[],c=/[^/?#]*([/?#])/y;let p,m=0,g=0,E=c.lastIndex=r.length;for(;!m&&!g&&(p=c.exec(this.base));)p[1]===Ws?g=c.lastIndex-1:(o.push(Yn(p[0]),"(?:"),s.push(")?"),p[1]!==Ko?l.push(E=c.lastIndex):(m=E=c.lastIndex,g=this.base.indexOf(Ws,m),this._pathReplacements[m]=Ko));for(let _=0;_<l.length;_++)this._pathReplacements[l[_]]=Mm.repeat(l.length-_-1);return this._pathReplacements[l[l.length-1]]=Gs,this._baseLength=g>0?g:this.base.length,o.push(Yn(this.base.substring(E,this._baseLength)),m?"(?:#|$)":"(?:[?#]|$)"),this._baseMatcher=new RegExp([...o,...s].join(""))}toRelative(r){const o=this._getBaseMatcher().exec(r);if(!o)return r;const s=o[0].length;if(s===this._baseLength&&s===r.length)return"";const l=this._pathReplacements[s];if(l){const c=r.substring(s);return l!==Ko&&!Rm.test(c)?r:l===Gs&&/^[^?#]/.test(c)?c:l+c}return r.substring(s-1)}}const Qr=nl.defaultGraph(),{rdf:xm,xsd:Cr}=rl,qs=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,zs=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,Im={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class Jr extends Mt{equals(r){return r===this}}class Nm{constructor(r,o){if(this._prefixRegex=/$0^/,r&&typeof r.write!="function"&&(o=r,r=null),o=o||{},this._lists=o.lists,r)this._outputStream=r,this._endStream=o.end===void 0?!0:!!o.end;else{let s="";this._outputStream={write(l,c,p){s+=l,p&&p()},end:l=>{l&&l(null,s)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(o.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=Qr,this._prefixIRIs=Object.create(null),o.prefixes&&this.addPrefixes(o.prefixes),o.baseIRI&&(this._baseIri=new Ci(o.baseIRI)))}get _inDefaultGraph(){return Qr.equals(this._graph)}_write(r,o){this._outputStream.write(r,"utf8",o)}_writeQuad(r,o,s,l,c){try{l.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(Qr.equals(l)?"":`${this._encodeIriOrBlank(l)} {
`)),this._graph=l,this._subject=null),r.equals(this._subject)?o.equals(this._predicate)?this._write(`, ${this._encodeObject(s)}`,c):this._write(`;
    ${this._encodePredicate(this._predicate=o)} ${this._encodeObject(s)}`,c):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=r)} ${this._encodePredicate(this._predicate=o)} ${this._encodeObject(s)}`,c)}catch(p){c&&c(p)}}_writeQuadLine(r,o,s,l,c){delete this._prefixMatch,this._write(this.quadToString(r,o,s,l),c)}quadToString(r,o,s,l){return`${this._encodeSubject(r)} ${this._encodeIriOrBlank(o)} ${this._encodeObject(s)}${l&&l.value?` ${this._encodeIriOrBlank(l)} .
`:` .
`}`}quadsToString(r){let o="";for(const s of r)o+=this.quadToString(s.subject,s.predicate,s.object,s.graph);return o}_encodeSubject(r){return r.termType==="Quad"?this._encodeQuad(r):this._encodeIriOrBlank(r)}_encodeIriOrBlank(r){if(r.termType!=="NamedNode")return this._lists&&r.value in this._lists&&(r=this.list(this._lists[r.value])),"id"in r?r.id:`_:${r.value}`;let o=r.value;this._baseIri&&(o=this._baseIri.toRelative(o)),qs.test(o)&&(o=o.replace(zs,Ks));const s=this._prefixRegex.exec(o);return s?s[1]?this._prefixIRIs[s[1]]+s[2]:o:`<${o}>`}_encodeLiteral(r){let o=r.value;if(qs.test(o)&&(o=o.replace(zs,Ks)),r.language)return`"${o}"@${r.language}`;if(this._lineMode){if(r.datatype.value===Cr.string)return`"${o}"`}else switch(r.datatype.value){case Cr.string:return`"${o}"`;case Cr.boolean:if(o==="true"||o==="false")return o;break;case Cr.integer:if(/^[+-]?\d+$/.test(o))return o;break;case Cr.decimal:if(/^[+-]?\d*\.\d+$/.test(o))return o;break;case Cr.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(o))return o;break}return`"${o}"^^${this._encodeIriOrBlank(r.datatype)}`}_encodePredicate(r){return r.value===xm.type?"a":this._encodeIriOrBlank(r)}_encodeObject(r){switch(r.termType){case"Quad":return this._encodeQuad(r);case"Literal":return this._encodeLiteral(r);default:return this._encodeIriOrBlank(r)}}_encodeQuad({subject:r,predicate:o,object:s,graph:l}){return`<<${this._encodeSubject(r)} ${this._encodePredicate(o)} ${this._encodeObject(s)}${km(l)?"":` ${this._encodeIriOrBlank(l)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(r,o,s,l,c){s===void 0?this._writeQuad(r.subject,r.predicate,r.object,r.graph,o):typeof l=="function"?this._writeQuad(r,o,s,Qr,l):this._writeQuad(r,o,s,l||Qr,c)}addQuads(r){for(let o=0;o<r.length;o++)this.addQuad(r[o])}addPrefix(r,o,s){const l={};l[r]=o,this.addPrefixes(l,s)}addPrefixes(r,o){if(!this._prefixIRIs)return o&&o();let s=!1;for(let l in r){let c=r[l];typeof c!="string"&&(c=c.value),s=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[c]=l+=":",this._write(`@prefix ${l} <${c}>.
`)}if(s){let l="",c="";for(const p in this._prefixIRIs)l+=l?`|${p}`:p,c+=(c?"|":"")+this._prefixIRIs[p];l=Yn(l),this._prefixRegex=new RegExp(`^(?:${c})[^/]*$|^(${l})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(s?`
`:"",o)}blank(r,o){let s=r,l,c;switch(r===void 0?s=[]:r.termType?s=[{predicate:r,object:o}]:"length"in r||(s=[r]),c=s.length){case 0:return new Jr("[]");case 1:if(l=s[0],!(l.object instanceof Jr))return new Jr(`[ ${this._encodePredicate(l.predicate)} ${this._encodeObject(l.object)} ]`);default:let p="[";for(let m=0;m<c;m++)l=s[m],l.predicate.equals(r)?p+=`, ${this._encodeObject(l.object)}`:(p+=`${(m?`;
  `:`
  `)+this._encodePredicate(l.predicate)} ${this._encodeObject(l.object)}`,r=l.predicate);return new Jr(`${p}
]`)}}list(r){const o=r&&r.length||0,s=new Array(o);for(let l=0;l<o;l++)s[l]=this._encodeObject(r[l]);return new Jr(`(${s.join(" ")})`)}end(r){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let o=r&&((s,l)=>{o=null,r(s,l)});if(this._endStream)try{return this._outputStream.end(o)}catch{}o&&o()}}function Ks(e){let r=Im[e];return r===void 0&&(e.length===1?(r=e.charCodeAt(0).toString(16),r="\\u0000".substr(0,6-r.length)+r):(r=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),r="\\U00000000".substr(0,10-r.length)+r)),r}const{namedNode:Et,literal:Hn,quad:Xr}=nl;function Um(){const e=De([]),r=De(new Set),o={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",dc:"http://purl.org/dc/terms/",bqbiol:"http://biomodels.net/biology-qualifiers/",bqmodel:"http://biomodels.net/model-qualifiers/",semsim:"http://www.bhi.washington.edu/semsim#",chebi:"http://identifiers.org/chebi/",go:"http://identifiers.org/go/",pr:"http://identifiers.org/pr/",fma:"http://purl.org/sig/ont/fma/",uberon:"http://purl.obolibrary.org/obo/UBERON_",opb:"http://identifiers.org/opb/",sbo:"http://identifiers.org/sbo/",uniprot:"http://identifiers.org/uniprot/"},s=(Q,$)=>{if($.includes(":")){const[G,Y]=$.split(":"),V=o[G.toLowerCase()];if(V)return r.value.add(G.toLowerCase()),V+Y}return r.value.add(Q),o[Q]+$},l=(Q,$,G)=>`#${$}.${G}`,c=(Q,$,G)=>{const Y=Et(Q),V=Et($),q=Et(G),re=fe=>{for(const[ue,oe]of Object.entries(o))if(fe.startsWith(oe)){r.value.add(ue);return}};re($),re(G),Q.startsWith("#")||re(Q);const ee=Xr(Y,V,q);return e.value.push(ee),ee},p=(Q,$)=>{const{modelName:G,component:Y,variable:V}=Q,{species:q,compartment:re,physicalProperty:ee}=$,fe=l(G,Y.name,V.name),ue=`${fe}_annotation`;if(c(ue,o.rdf+"type",o.semsim+"CompositePhysicalEntity"),c(fe,o.semsim+"hasPhysicalEntityReference",ue),q){const oe=s("chebi",q);c(ue,o.bqbiol+"is",oe)}if(re){const oe=s("go",re);c(ue,o.bqbiol+"isPartOf",oe)}if(ee){const oe=s("opb",ee);c(fe,o.bqbiol+"isPropertyOf",oe)}return ue},m=(Q,$)=>{const{modelName:G,component:Y,variable:V}=Q,{source:q,sink:re,mediator:ee,bioprocess:fe,physicalProperty:ue}=$,oe=l(G,Y.name,V.name),P=`${oe}_process`;if(c(P,o.rdf+"type",o.semsim+"PhysicalProcess"),c(oe,o.semsim+"hasPhysicalProcessReference",P),q){const M=`${P}_source`;if(c(P,o.semsim+"hasSourceParticipant",M),q.species){const F=s("chebi",q.species);c(M,o.bqbiol+"is",F)}if(q.compartment){const F=s("go",q.compartment);c(M,o.bqbiol+"isPartOf",F)}if(q.multiplier){const F=Et(M),I=Hn(q.multiplier.toString());e.value.push(Xr(F,Et(o.semsim+"hasMultiplier"),I))}}if(re){const M=`${P}_sink`;if(c(P,o.semsim+"hasSinkParticipant",M),re.species){const F=s("chebi",re.species);c(M,o.bqbiol+"is",F)}if(re.compartment){const F=s("go",re.compartment);c(M,o.bqbiol+"isPartOf",F)}if(re.multiplier){const F=Et(M),I=Hn(re.multiplier.toString());e.value.push(Xr(F,Et(o.semsim+"hasMultiplier"),I))}}if(ee&&ee.protein){const M=`${P}_mediator`;c(P,o.semsim+"hasMediatorParticipant",M);let F;if(ee.protein.startsWith("PR:")?F=s("pr",ee.protein):F=s("uniprot",ee.protein),c(M,o.bqbiol+"is",F),ee.compartment){const I=s("go",ee.compartment);c(M,o.bqbiol+"isPartOf",I)}}if(fe){let M;fe.startsWith("SBO:")?M=s("sbo",fe):M=s("go",fe),c(P,o.bqbiol+"is",M)}if(ue){const M=s("opb",ue);c(oe,o.bqbiol+"isPropertyOf",M)}return P},g=(Q,$)=>{const{modelName:G,component:Y,variable:V}=Q,{source:q,target:re,physicalProperty:ee}=$,fe=l(G,Y.name,V.name),ue=`${fe}_potential`;if(c(ue,o.rdf+"type",o.semsim+"PhysicalForce"),c(fe,o.semsim+"hasPhysicalForceReference",ue),q){const oe=`${ue}_source`;if(c(ue,o.semsim+"hasSource",oe),q.species){const P=s("chebi",q.species);c(oe,o.bqbiol+"is",P)}if(q.compartment){const P=s("go",q.compartment);c(oe,o.bqbiol+"isPartOf",P)}}if(re){const oe=`${ue}_target`;if(c(ue,o.semsim+"hasTarget",oe),re.species){const P=s("chebi",re.species);c(oe,o.bqbiol+"is",P)}if(re.compartment){const P=s("go",re.compartment);c(oe,o.bqbiol+"isPartOf",P)}}if(ee){const oe=s("opb",ee);c(fe,o.bqbiol+"isPropertyOf",oe)}return ue},E=(Q,$)=>{const{modelName:G,component:Y,variable:V}=Q,{fluid:q,compartment:re,physicalProperty:ee}=$,fe=l(G,Y.name,V.name),ue=`${fe}_annotation`;if(c(ue,o.rdf+"type",o.semsim+"CompositePhysicalEntity"),c(fe,o.semsim+"hasPhysicalEntityReference",ue),q){const oe=s("fma",q);c(ue,o.bqbiol+"is",oe)}if(re){let oe;re.startsWith("UBERON:")?oe=s("uberon",re):oe=s("fma",re),c(ue,o.bqbiol+"isPartOf",oe)}if(ee){const oe=s("opb",ee);c(fe,o.bqbiol+"isPropertyOf",oe)}return ue},_=(Q,$)=>{const{modelName:G,component:Y,variable:V}=Q,{source:q,sink:re,mediator:ee,physicalProperty:fe}=$,ue=l(G,Y.name,V.name),oe=`${ue}_process`;if(c(oe,o.rdf+"type",o.semsim+"PhysicalProcess"),c(ue,o.semsim+"hasPhysicalProcessReference",oe),q){const P=`${oe}_source`;if(c(oe,o.semsim+"hasSourceParticipant",P),q.fluid){const M=s("fma",q.fluid);c(P,o.bqbiol+"is",M)}if(q.compartment){let M;q.compartment.startsWith("UBERON:")?M=s("uberon",q.compartment):M=s("fma",q.compartment),c(P,o.bqbiol+"isPartOf",M)}if(q.multiplier){const M=Et(P),F=Hn(q.multiplier.toString());e.value.push(Xr(M,Et(o.semsim+"hasMultiplier"),F))}}if(re){const P=`${oe}_sink`;if(c(oe,o.semsim+"hasSinkParticipant",P),re.fluid){const M=s("fma",re.fluid);c(P,o.bqbiol+"is",M)}if(re.compartment){let M;re.compartment.startsWith("UBERON:")?M=s("uberon",re.compartment):M=s("fma",re.compartment),c(P,o.bqbiol+"isPartOf",M)}if(re.multiplier){const M=Et(P),F=Hn(re.multiplier.toString());e.value.push(Xr(M,Et(o.semsim+"hasMultiplier"),F))}}if(ee&&ee.protein){const P=`${oe}_mediator`;c(oe,o.semsim+"hasMediatorParticipant",P);let M;if(ee.protein.startsWith("PR:")?M=s("pr",ee.protein):M=s("fma",ee.protein),c(P,o.bqbiol+"is",M),ee.compartment){let F;ee.compartment.startsWith("UBERON:")?F=s("uberon",ee.compartment):F=s("fma",ee.compartment),c(P,o.bqbiol+"isPartOf",F)}}if(fe){const P=s("opb",fe);c(ue,o.bqbiol+"isPropertyOf",P)}return oe},T=(Q,$)=>{const{modelName:G,component:Y,variable:V}=Q,{source:q,target:re,physicalProperty:ee}=$,fe=l(G,Y.name,V.name),ue=`${fe}_potential`;if(c(ue,o.rdf+"type",o.semsim+"PhysicalForce"),c(fe,o.semsim+"hasPhysicalForceReference",ue),q&&q.location){const oe=`${ue}_source`;c(ue,o.semsim+"hasSource",oe);let P;q.location.startsWith("UBERON:")?P=s("uberon",q.location):P=s("fma",q.location),c(oe,o.bqbiol+"is",P)}if(re&&re.location){const oe=`${ue}_target`;c(ue,o.semsim+"hasTarget",oe);let P;re.location.startsWith("UBERON:")?P=s("uberon",re.location):P=s("fma",re.location),c(oe,o.bqbiol+"is",P)}if(ee){const oe=s("opb",ee);c(fe,o.bqbiol+"isPropertyOf",oe)}return ue};return{store:e,namespaces:o,addAnnotation:Q=>{const{type:$,domain:G,data:Y,variable:V}=Q,q={modelName:V.component.name,component:V.component,variable:V};if(G==="Biochemistry"){if($==="Quantities")return p(q,Y);if($==="Flow rates")return m(q,Y);if($==="Efforts")return g(q,Y)}else if(G==="Fluid dynamics"){if($==="Quantities")return E(q,Y);if($==="Flow rates")return _(q,Y);if($==="Efforts")return T(q,Y)}},exportToTurtle:()=>{const Q={};["rdf","bqbiol","semsim"].forEach(Y=>{o[Y]&&(Q[Y]=o[Y])}),r.value.forEach(Y=>{o[Y]&&(Q[Y]=o[Y])});const G=new Nm({prefixes:Q});return G.addQuads(e.value),new Promise((Y,V)=>{G.end((q,re)=>{q?V(q):Y(re)})})},clearAnnotations:()=>{e.value=[],r.value.clear()},getAnnotationCount:()=>e.value.length,getUsedNamespaces:()=>Array.from(r.value)}}function Dm(){const e=De(null),r=De({}),{addAnnotation:o,exportToTurtle:s,clearAnnotations:l,getAnnotationCount:c}=Um(),p=kt(()=>{if(!e.value)return[];const A=m(e.value);return r.value[A]||[]}),m=A=>`${A.component.name}.${A.name}`,g=A=>{e.value=A,E(A)},E=A=>{const K=m(A);r.value[K]||(r.value[K]=[])},_=A=>{if(!e.value){console.error("No variable selected");return}console.log("Adding annotation:",A);const K=m(e.value);try{const G={...A,variable:{...e.value}};o(G),console.log("RDF annotation added successfully"),console.log("Total RDF triples:",c())}catch(G){console.error("Error adding RDF annotation:",G)}r.value[K]||(r.value[K]=[]);const Q=T(A);console.log("Created annotation summary:",Q);const $=r.value[K].findIndex(G=>G.type===A.type);$>=0?r.value[K][$]=Q:r.value[K].push(Q),console.log("Current annotations for variable:",r.value[K])},T=A=>{const{type:K,domain:Q,data:$}=A;console.log("Creating summary for:",{type:K,domain:Q,data:$});let G={type:K,domain:Q,details:[]};return Q==="Biochemistry"?K==="Quantities"?G.details=[{label:"Species",value:$.species||"N/A"},{label:"Compartment",value:$.compartment||"N/A"},{label:"Physical Property",value:$.physicalProperty||"N/A"}]:K==="Flow rates"?G.details=[{label:"Source Species",value:$.source?.species||"N/A"},{label:"Source Compartment",value:$.source?.compartment||"N/A"},{label:"Source Multiplier",value:$.source?.multiplier||1},{label:"Sink Species",value:$.sink?.species||"N/A"},{label:"Sink Compartment",value:$.sink?.compartment||"N/A"},{label:"Sink Multiplier",value:$.sink?.multiplier||1},{label:"Mediator",value:$.mediator?.protein||"None"},{label:"Mediator Compartment",value:$.mediator?.compartment||"N/A"},{label:"Bioprocess",value:$.bioprocess||"N/A"},{label:"Physical Property",value:$.physicalProperty||"N/A"}]:K==="Efforts"&&(G.details=[{label:"Source Species",value:$.source?.species||"N/A"},{label:"Source Compartment",value:$.source?.compartment||"N/A"},{label:"Target Species",value:$.target?.species||"N/A"},{label:"Target Compartment",value:$.target?.compartment||"N/A"},{label:"Physical Property",value:$.physicalProperty||"N/A"}]):Q==="Fluid dynamics"&&(K==="Quantities"?G.details=[{label:"Fluid",value:$.fluid||"N/A"},{label:"Compartment",value:$.compartment||"N/A"},{label:"Physical Property",value:$.physicalProperty||"N/A"}]:K==="Flow rates"?G.details=[{label:"Source Fluid",value:$.source?.fluid||"N/A"},{label:"Source Compartment",value:$.source?.compartment||"N/A"},{label:"Source Multiplier",value:$.source?.multiplier||1},{label:"Sink Fluid",value:$.sink?.fluid||"N/A"},{label:"Sink Compartment",value:$.sink?.compartment||"N/A"},{label:"Sink Multiplier",value:$.sink?.multiplier||1},{label:"Mediator",value:$.mediator?.protein||"None"},{label:"Mediator Compartment",value:$.mediator?.compartment||"N/A"},{label:"Physical Property",value:$.physicalProperty||"N/A"}]:K==="Efforts"&&(G.details=[{label:"Source Location",value:$.source?.location||"N/A"},{label:"Target Location",value:$.target?.location||"N/A"},{label:"Physical Property",value:$.physicalProperty||"N/A"}])),console.log("Summary created:",G),G};return{selectedVariable:e,currentAnnotations:p,selectVariable:g,addAnnotation:_,exportRDF:async()=>{try{return await s()}catch(A){throw console.error("Error exporting RDF:",A),A}},clearAllAnnotations:()=>{r.value={},l()},getAnnotationCount:c}}const Lm={class:"container"},Bm={class:"content"},jm={class:"left-panel"},Vm={class:"right-panel"},Hm={key:0,class:"waiting-state"},Gm={key:1},Wm={class:"selected-ontologies-info"},qm={class:"rdf-stats"},zm={key:2,class:"empty-state"},Km={__name:"App",setup(e){const{model:r,components:o,groupedVariables:s,parseModel:l,exportModel:c,initLibCellML:p}=Tm(),{selectedVariable:m,currentAnnotations:g,selectVariable:E,addAnnotation:_,exportRDF:T,clearAllAnnotations:x,getAnnotationCount:O}=Dm(),A=De({text:"",type:""}),K=De(!1),Q=De(null),$=kt(()=>O()),G=kt(()=>{if(!s.value)return null;let M=0,F=0,I=0;return Object.values(s.value).forEach(de=>{de.forEach(U=>{I++,U.domain==="Biochemistry"?M++:U.domain==="Fluid dynamics"&&F++})}),{totalVariables:I,biochemistryCount:M,fluidDynamicsCount:F}});mo(()=>{p()});const Y=M=>{l(M),K.value=!0,P("Model loaded successfully. Please select ontologies.","success")},V=M=>{Q.value=M,K.value=!1,console.log("User selected ontologies:",M),P(`${Object.keys(M).length} ontologies selected`,"success")},q=()=>{K.value=!1,!Q.value&&r.value&&P('Ontology selection cancelled. Click "Select Ontologies" to continue.',"info")},re=M=>{E(M)},ee=M=>{console.log("=== APP.VUE RECEIVED ANNOTATION ==="),console.log("Annotation:",M),console.log("Current variable:",m.value?.name),_(M),console.log("After adding, current annotations:",g.value),console.log("RDF triple count:",$.value),P("Annotation added successfully","success")},fe=async()=>{try{const M=await T(),F=new Blob([M],{type:"text/turtle"}),I=URL.createObjectURL(F),de=document.createElement("a");de.href=I,de.download=`${r.value.name()||"model"}_annotations.ttl`,document.body.appendChild(de),de.click(),document.body.removeChild(de),URL.revokeObjectURL(I),P("RDF exported successfully","success")}catch(M){console.error("Error exporting RDF:",M),P("Error exporting RDF","error")}},ue=async()=>{try{c(),await fe(),P("CellML and RDF exported successfully","success")}catch(M){console.error("Error exporting:",M),P("Error exporting files","error")}},oe=()=>{confirm("Are you sure you want to clear all annotations? This cannot be undone.")&&(x(),P("All annotations cleared","success"))},P=(M,F)=>{A.value={text:M,type:F},setTimeout(()=>{A.value={text:"",type:""}},3e3)};return(M,F)=>(ie(),le("div",Lm,[F[8]||(F[8]=S("div",{class:"header"},[S("h1",null,"CellML Annotation GUI"),S("p",null,"Add semantic annotations to CellML models")],-1)),K.value?(ie(),Yt(gm,{key:0,"model-stats":G.value,onOntologiesSelected:V,onClose:q},null,8,["model-stats"])):Ie("",!0),S("div",Bm,[S("div",jm,[ct(lp,{onFileLoaded:Y}),Ye(r)?(ie(),Yt(up,{key:0,model:Ye(r),components:Ye(o)},null,8,["model","components"])):Ie("",!0),Object.keys(Ye(s)).length>0?(ie(),Yt(Sp,{key:1,"grouped-variables":Ye(s),"selected-variable":Ye(m),onVariableSelected:re},null,8,["grouped-variables","selected-variable"])):Ie("",!0)]),S("div",Vm,[Q.value?Ye(m)?(ie(),le("div",Gm,[S("h3",null,"Annotating: "+ae(Ye(m).name),1),S("p",null,[F[4]||(F[4]=jt("Category: ",-1)),S("strong",null,ae(Ye(m).category||"Uncategorized"),1)]),S("p",null,[F[5]||(F[5]=jt("Units: ",-1)),S("strong",null,ae(Ye(m).units),1)]),S("div",Wm,[S("button",{onClick:F[1]||(F[1]=I=>K.value=!0),class:"btn-change-ontologies"},"  Change Ontologies ("+ae(Object.keys(Q.value).length)+" selected) ",1)]),S("div",qm,[S("p",null,[F[6]||(F[6]=jt("Total RDF triples: ",-1)),S("strong",null,ae($.value),1)])]),ct(lh,{"selected-variable":Ye(m),"variable-category":Ye(m).category||"Uncategorized","user-ontologies":Q.value,onAnnotationAdded:ee},null,8,["selected-variable","variable-category","user-ontologies"]),Ye(g).length>0?(ie(),Yt(dh,{key:0,annotations:Ye(g)},null,8,["annotations"])):Ie("",!0),S("div",{class:"export-buttons"},[S("button",{onClick:fe,class:"btn btn-primary"}," Export RDF (Turtle) "),S("button",{onClick:ue,class:"btn btn-success"}," Export CellML + RDF "),S("button",{onClick:oe,class:"btn btn-danger"}," Clear All Annotations ")])])):Q.value?(ie(),le("div",zm,[...F[7]||(F[7]=[S("h3",null,"Select a variable to annotate",-1),S("p",null,"Choose a variable from the list on the left.",-1)])])):Ie("",!0):(ie(),le("div",Hm,[F[2]||(F[2]=S("h3",null,"Please select ontologies to begin annotation",-1)),F[3]||(F[3]=S("p",null,"Upload a CellML file and select the ontologies you'll use.",-1)),Ye(r)?(ie(),le("button",{key:0,onClick:F[0]||(F[0]=I=>K.value=!0),class:"btn btn-primary"}," Select Ontologies ")):Ie("",!0)]))])]),ct(fh,{message:A.value},null,8,["message"])]))}},Ym=bn(Km,[["__scopeId","data-v-1ffbaa92"]]);op(Ym).mount("#app");
